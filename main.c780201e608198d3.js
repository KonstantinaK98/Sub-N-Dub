(self.webpackChunkSubAndDub=self.webpackChunkSubAndDub||[]).push([[179],{516:(mo,ve,ze)=>{"use strict";ze.d(ve,{$:()=>W0,A:()=>U,G:()=>$,K:()=>Gg,L:()=>cc,N:()=>Gs,P:()=>ww,R:()=>yw,U:()=>dn,V:()=>ud,W:()=>Mf,X:()=>e_,Y:()=>t_,Z:()=>Wn,_:()=>Lu,a:()=>yd,a0:()=>K0,a1:()=>Vf,a2:()=>It,a3:()=>Q0,a4:()=>X0,a5:()=>J0,a6:()=>Uf,a7:()=>xS,a8:()=>jt,a9:()=>Bi,aA:()=>wf,aB:()=>je,aC:()=>I,aD:()=>ba,aE:()=>Ft,aF:()=>Yn,aG:()=>Jf,aH:()=>Iw,aI:()=>US,aJ:()=>Li,aN:()=>vd,aQ:()=>Oo,aa:()=>Vu,ab:()=>fd,ac:()=>fr,ad:()=>pd,ae:()=>En,af:()=>pr,ag:()=>md,ah:()=>Bu,ak:()=>Uu,al:()=>Un,am:()=>nN,ap:()=>wS,aq:()=>bo,as:()=>aN,at:()=>ow,au:()=>Ht,av:()=>ac,aw:()=>pn,ax:()=>ot,ay:()=>sp,az:()=>Mw,b:()=>DS,c:()=>xw,d:()=>vn,e:()=>Cw,f:()=>Jn,g:()=>ya,h:()=>Kr,i:()=>SS,j:()=>zS,k:()=>Vw,l:()=>ga,m:()=>_N,p:()=>ce,r:()=>bw,s:()=>E_,u:()=>No});var T=ze(861),H=ze(571),E=ze(229),V=ze(287),K=ze(582),fe=ze(820);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $=function N(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},oe=function q(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new V.Yd("@firebase/auth");function Ke(m,...u){be.logLevel<=V.in.ERROR&&be.error(`Auth (${H.SDK_VERSION}): ${m}`,...u)}function ot(m,...u){throw Je(m,...u)}function je(m,...u){return Je(m,...u)}function xt(m,u,h){const _=Object.assign(Object.assign({},oe()),{[u]:h});return new E.LL("auth","Firebase",_).create(u,{appName:m.name})}function kt(m){return xt(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function re(m,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&ot(m,"argument-error"),xt(m,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(m,...u){if("string"!=typeof m){const h=u[0],_=[...u.slice(1)];return _[0]&&(_[0].appName=m.name),m._errorFactory.create(h,..._)}return pe.create(m,...u)}function I(m,u,...h){if(!m)throw Je(u,...h)}function nt(m){const u="INTERNAL ASSERTION FAILED: "+m;throw Ke(u),new Error(u)}function Ht(m,u){m||nt(u)}function dt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function on(){return"http:"===wt()||"https:"===wt()}function wt(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Be{constructor(u,h){this.shortDelay=u,this.longDelay=h,Ht(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function mt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ee(m,u){Ht(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class we{static initialize(u,h,_){this.fetchImpl=u,h&&(this.headersImpl=h),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qe=new Be(3e4,6e4);function tt(m,u){return m.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:m.tenantId}):u}function Ae(m,u,h,_){return ut.apply(this,arguments)}function ut(){return(ut=(0,T.Z)(function*(m,u,h,_,D={}){return an(m,D,(0,T.Z)(function*(){let z={},Ce={};_&&("GET"===u?Ce=_:z={body:JSON.stringify(_)});const He=(0,E.xO)(Object.assign({key:m.config.apiKey},Ce)).slice(1),ht=yield m._getAdditionalHeaders();return ht["Content-Type"]="application/json",m.languageCode&&(ht["X-Firebase-Locale"]=m.languageCode),we.fetch()(A(m,m.config.apiHost,h,He),Object.assign({method:u,headers:ht,referrerPolicy:"no-referrer"},z))}))})).apply(this,arguments)}function an(m,u,h){return We.apply(this,arguments)}function We(){return(We=(0,T.Z)(function*(m,u,h){m._canInitEmulator=!1;const _=Object.assign(Object.assign({},Z),u);try{const D=new Re(m),z=yield Promise.race([h(),D.promise]);D.clearNetworkTimeout();const Ce=yield z.json();if("needConfirmation"in Ce)throw ee(m,"account-exists-with-different-credential",Ce);if(z.ok&&!("errorMessage"in Ce))return Ce;{const He=z.ok?Ce.errorMessage:Ce.error.message,[ht,Gt]=He.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ht)throw ee(m,"credential-already-in-use",Ce);if("EMAIL_EXISTS"===ht)throw ee(m,"email-already-in-use",Ce);if("USER_DISABLED"===ht)throw ee(m,"user-disabled",Ce);const nn=_[ht]||ht.toLowerCase().replace(/[_\s]+/g,"-");if(Gt)throw xt(m,nn,Gt);ot(m,nn)}}catch(D){if(D instanceof E.ZR)throw D;ot(m,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function zt(m,u,h,_){return yn.apply(this,arguments)}function yn(){return(yn=(0,T.Z)(function*(m,u,h,_,D={}){const z=yield Ae(m,u,h,_,D);return"mfaPendingCredential"in z&&ot(m,"multi-factor-auth-required",{_serverResponse:z}),z})).apply(this,arguments)}function A(m,u,h,_){const D=`${u}${h}?${_}`;return m.config.emulator?Ee(m.config,D):`${m.config.apiScheme}://${D}`}function st(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Re{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,_)=>{this.timer=setTimeout(()=>_(je(this.auth,"network-request-failed")),qe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ee(m,u,h){const _={appName:m.name};h.email&&(_.email=h.email),h.phoneNumber&&(_.phoneNumber=h.phoneNumber);const D=je(m,u,_);return D.customData._tokenResponse=h,D}function Q(m){return void 0!==m&&void 0!==m.getResponse}function De(m){return void 0!==m&&void 0!==m.enterprise}class ct{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return st(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Ne(){return(Ne=(0,T.Z)(function*(m){return(yield Ae(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function at(m,u){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,T.Z)(function*(m,u){return Ae(m,"GET","/v2/recaptchaConfig",tt(m,u))})).apply(this,arguments)}function Qt(){return(Qt=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function wn(){return(wn=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function hi(m,u){return dr.apply(this,arguments)}function dr(){return(dr=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function Qn(m){if(m)try{const u=new Date(Number(m));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function er(){return(er=(0,T.Z)(function*(m,u=!1){const h=(0,E.m9)(m),_=yield h.getIdToken(u),D=Ur(_);I(D&&D.exp&&D.auth_time&&D.iat,h.auth,"internal-error");const z="object"==typeof D.firebase?D.firebase:void 0,Ce=z?.sign_in_provider;return{claims:D,token:_,authTime:Qn(yi(D.auth_time)),issuedAtTime:Qn(yi(D.iat)),expirationTime:Qn(yi(D.exp)),signInProvider:Ce||null,signInSecondFactor:z?.sign_in_second_factor||null}})).apply(this,arguments)}function yi(m){return 1e3*Number(m)}function Ur(m){const[u,h,_]=m.split(".");if(void 0===u||void 0===h||void 0===_)return Ke("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,E.tV)(h);return D?JSON.parse(D):(Ke("Failed to decode base64 JWT payload"),null)}catch(D){return Ke("Caught error parsing JWT payload as JSON",D?.toString()),null}}function ns(m){const u=Ur(m);return I(u,"internal-error"),I(typeof u.exp<"u","internal-error"),I(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function oi(m,u){return go.apply(this,arguments)}function go(){return(go=(0,T.Z)(function*(m,u,h=!1){if(h)return u;try{return yield u}catch(_){throw _ instanceof E.ZR&&function Ro({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(_)&&m.auth.currentUser===m&&(yield m.auth.signOut()),_}})).apply(this,arguments)}class Fi{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const D=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const _=this.getInterval(u);this.timerId=setTimeout((0,T.Z)(function*(){yield h.iteration()}),_)}iteration(){var u=this;return(0,T.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&u.schedule(!0))}u.schedule()})()}}class Ni{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qn(this.lastLoginAt),this.creationTime=Qn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vi(m){return _o.apply(this,arguments)}function _o(){return(_o=(0,T.Z)(function*(m){var u;const h=m.auth,_=yield m.getIdToken(),D=yield oi(m,hi(h,{idToken:_}));I(D?.users.length,h,"internal-error");const z=D.users[0];m._notifyReloadListener(z);const Ce=null!==(u=z.providerUserInfo)&&void 0!==u&&u.length?pl(z.providerUserInfo):[],He=function fl(m,u){return[...m.filter(_=>!u.some(D=>D.providerId===_.providerId)),...u]}(m.providerData,Ce),nn=!!m.isAnonymous&&!(m.email&&z.passwordHash||He?.length),zn={uid:z.localId,displayName:z.displayName||null,photoURL:z.photoUrl||null,email:z.email||null,emailVerified:z.emailVerified||!1,phoneNumber:z.phoneNumber||null,tenantId:z.tenantId||null,providerData:He,metadata:new Ni(z.createdAt,z.lastLoginAt),isAnonymous:nn};Object.assign(m,zn)})).apply(this,arguments)}function hl(){return(hl=(0,T.Z)(function*(m){const u=(0,E.m9)(m);yield vi(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function pl(m){return m.map(u=>{var{providerId:h}=u,_=(0,K._T)(u,["providerId"]);return{providerId:h,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function ge(){return(ge=(0,T.Z)(function*(m,u){const h=yield an(m,{},(0,T.Z)(function*(){const _=(0,E.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:D,apiKey:z}=m.config,Ce=A(m,D,"/v1/token",`key=${z}`),He=yield m._getAdditionalHeaders();return He["Content-Type"]="application/x-www-form-urlencoded",we.fetch()(Ce,{method:"POST",headers:He,body:_})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function B(){return(B=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v2/accounts:revokeToken",tt(m,u))})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){I(u.idToken,"internal-error"),I(typeof u.idToken<"u","internal-error"),I(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):ns(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}updateFromIdToken(u){I(0!==u.length,"internal-error");const h=ns(u);this.updateTokensAndExpiration(u,null,h)}getToken(u,h=!1){var _=this;return(0,T.Z)(function*(){return h||!_.accessToken||_.isExpired?(I(_.refreshToken,u,"user-token-expired"),_.refreshToken?(yield _.refresh(u,_.refreshToken),_.accessToken):null):_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var _=this;return(0,T.Z)(function*(){const{accessToken:D,refreshToken:z,expiresIn:Ce}=yield function za(m,u){return ge.apply(this,arguments)}(u,h);_.updateTokensAndExpiration(D,z,Number(Ce))})()}updateTokensAndExpiration(u,h,_){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(u,h){const{refreshToken:_,accessToken:D,expirationTime:z}=h,Ce=new j;return _&&(I("string"==typeof _,"internal-error",{appName:u}),Ce.refreshToken=_),D&&(I("string"==typeof D,"internal-error",{appName:u}),Ce.accessToken=D),z&&(I("number"==typeof z,"internal-error",{appName:u}),Ce.expirationTime=z),Ce}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return nt("not implemented")}}function P(m,u){I("string"==typeof m||typeof m>"u","internal-error",{appName:u})}class ne{constructor(u){var{uid:h,auth:_,stsTokenManager:D}=u,z=(0,K._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=_,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=z.displayName||null,this.email=z.email||null,this.emailVerified=z.emailVerified||!1,this.phoneNumber=z.phoneNumber||null,this.photoURL=z.photoURL||null,this.isAnonymous=z.isAnonymous||!1,this.tenantId=z.tenantId||null,this.providerData=z.providerData?[...z.providerData]:[],this.metadata=new Ni(z.createdAt||void 0,z.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,T.Z)(function*(){const _=yield oi(h,h.stsTokenManager.getToken(h.auth,u));return I(_,h.auth,"internal-error"),h.accessToken!==_&&(h.accessToken=_,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),_})()}getIdTokenResult(u){return function mn(m){return er.apply(this,arguments)}(this,u)}reload(){return function Ua(m){return hl.apply(this,arguments)}(this)}_assign(u){this!==u&&(I(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new ne(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var _=this;return(0,T.Z)(function*(){let D=!1;u.idToken&&u.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(u),D=!0),h&&(yield vi(_)),yield _.auth._persistUserIfCurrent(_),D&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var u=this;return(0,T.Z)(function*(){if((0,H._isFirebaseServerApp)(u.auth.app))return Promise.reject(kt(u.auth));const h=yield u.getIdToken();return yield oi(u,function Et(m,u){return Qt.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var _,D,z,Ce,He,ht,Gt,nn;const zn=null!==(_=h.displayName)&&void 0!==_?_:void 0,Yr=null!==(D=h.email)&&void 0!==D?D:void 0,Lo=null!==(z=h.phoneNumber)&&void 0!==z?z:void 0,dp=null!==(Ce=h.photoURL)&&void 0!==Ce?Ce:void 0,$_=null!==(He=h.tenantId)&&void 0!==He?He:void 0,up=null!==(ht=h._redirectEventId)&&void 0!==ht?ht:void 0,Dd=null!==(Gt=h.createdAt)&&void 0!==Gt?Gt:void 0,Uw=null!==(nn=h.lastLoginAt)&&void 0!==nn?nn:void 0,{uid:Qr,emailVerified:zw,isAnonymous:Mt,providerData:Yu,stsTokenManager:jw}=h;I(Qr&&jw,u,"internal-error");const Hw=j.fromJSON(this.name,jw);I("string"==typeof Qr,u,"internal-error"),P(zn,u.name),P(Yr,u.name),I("boolean"==typeof zw,u,"internal-error"),I("boolean"==typeof Mt,u,"internal-error"),P(Lo,u.name),P(dp,u.name),P($_,u.name),P(up,u.name),P(Dd,u.name),P(Uw,u.name);const Ss=new ne({uid:Qr,auth:u,email:Yr,emailVerified:zw,displayName:zn,isAnonymous:Mt,photoURL:dp,phoneNumber:Lo,tenantId:$_,stsTokenManager:Hw,createdAt:Dd,lastLoginAt:Uw});return Yu&&Array.isArray(Yu)&&(Ss.providerData=Yu.map(Id=>Object.assign({},Id))),up&&(Ss._redirectEventId=up),Ss}static _fromIdTokenResponse(u,h,_=!1){return(0,T.Z)(function*(){const D=new j;D.updateFromServerResponse(h);const z=new ne({uid:h.localId,auth:u,stsTokenManager:D,isAnonymous:_});return yield vi(z),z})()}static _fromGetAccountInfoResponse(u,h,_){return(0,T.Z)(function*(){const D=h.users[0];I(void 0!==D.localId,"internal-error");const z=void 0!==D.providerUserInfo?pl(D.providerUserInfo):[],Ce=!(D.email&&D.passwordHash||z?.length),He=new j;He.updateFromIdToken(_);const ht=new ne({uid:D.localId,auth:u,stsTokenManager:He,isAnonymous:Ce}),Gt={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:z,metadata:new Ni(D.createdAt,D.lastLoginAt),isAnonymous:!(D.email&&D.passwordHash||z?.length)};return Object.assign(ht,Gt),ht})()}}const lt=new Map;function Ft(m){Ht(m instanceof Function,"Expected a class definition");let u=lt.get(m);return u?(Ht(u instanceof m,"Instance stored in cache mismatched with class"),u):(u=new m,lt.set(m,u),u)}const dn=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,T.Z)(function*(){return!0})()}_set(h,_){var D=this;return(0,T.Z)(function*(){D.storage[h]=_})()}_get(h){var _=this;return(0,T.Z)(function*(){const D=_.storage[h];return void 0===D?null:D})()}_remove(h){var _=this;return(0,T.Z)(function*(){delete _.storage[h]})()}_addListener(h,_){}_removeListener(h,_){}}return m.type="NONE",m})();function Yn(m,u,h){return`firebase:${m}:${u}:${h}`}class Nt{constructor(u,h,_){this.persistence=u,this.auth=h,this.userKey=_;const{config:D,name:z}=this.auth;this.fullUserKey=Yn(this.userKey,D.apiKey,z),this.fullPersistenceKey=Yn("persistence",D.apiKey,z),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,T.Z)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?ne._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,T.Z)(function*(){if(h.persistence===u)return;const _=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,_?h.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,_="authUser"){return(0,T.Z)(function*(){if(!h.length)return new Nt(Ft(dn),u,_);const D=(yield Promise.all(h.map(function(){var Gt=(0,T.Z)(function*(nn){if(yield nn._isAvailable())return nn});return function(nn){return Gt.apply(this,arguments)}}()))).filter(Gt=>Gt);let z=D[0]||Ft(dn);const Ce=Yn(_,u.config.apiKey,u.name);let He=null;for(const Gt of h)try{const nn=yield Gt._get(Ce);if(nn){const zn=ne._fromJSON(u,nn);Gt!==z&&(He=zn),z=Gt;break}}catch{}const ht=D.filter(Gt=>Gt._shouldAllowMigration);return z._shouldAllowMigration&&ht.length?(z=ht[0],He&&(yield z._set(Ce,He.toJSON())),yield Promise.all(h.map(function(){var Gt=(0,T.Z)(function*(nn){if(nn!==z)try{yield nn._remove(Ce)}catch{}});return function(nn){return Gt.apply(this,arguments)}}())),new Nt(z,u,_)):new Nt(z,u,_)})()}}function si(m){const u=m.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Xn(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Xt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ld(u))return"Blackberry";if(cd(u))return"Webos";if(zr(u))return"Safari";if((u.includes("chrome/")||sc(u))&&!u.includes("edge/"))return"Chrome";if(pn(u))return"Android";{const _=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===_?.length)return _[1]}return"Other"}function Xt(m=(0,E.z$)()){return/firefox\//i.test(m)}function zr(m=(0,E.z$)()){const u=m.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function sc(m=(0,E.z$)()){return/crios\//i.test(m)}function Xn(m=(0,E.z$)()){return/iemobile/i.test(m)}function pn(m=(0,E.z$)()){return/android/i.test(m)}function ld(m=(0,E.z$)()){return/blackberry/i.test(m)}function cd(m=(0,E.z$)()){return/webos/i.test(m)}function ac(m=(0,E.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function wf(m=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Oe(m=(0,E.z$)()){return ac(m)||pn(m)||cd(m)||ld(m)||/windows phone/i.test(m)||Xn(m)}function xn(m,u=[]){let h;switch(m){case"Browser":h=si((0,E.z$)());break;case"Worker":h=`${si((0,E.z$)())}-${m}`;break;default:h=m}const _=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${H.SDK_VERSION}/${_}`}class Tn{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const _=z=>new Promise((Ce,He)=>{try{Ce(u(z))}catch(ht){He(ht)}});_.onAbort=h,this.queue.push(_);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,T.Z)(function*(){if(h.auth.currentUser===u)return;const _=[];try{for(const D of h.queue)yield D(u),D.onAbort&&_.push(D.onAbort)}catch(D){_.reverse();for(const z of _)try{z()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}function fi(){return(fi=(0,T.Z)(function*(m,u={}){return Ae(m,"GET","/v2/passwordPolicy",tt(m,u))})).apply(this,arguments)}class xs{constructor(u){var h,_,D,z;const Ce=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=Ce.minPasswordLength)&&void 0!==h?h:6,Ce.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ce.maxPasswordLength),void 0!==Ce.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ce.containsLowercaseCharacter),void 0!==Ce.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ce.containsUppercaseCharacter),void 0!==Ce.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ce.containsNumericCharacter),void 0!==Ce.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ce.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(D=null===(_=u.allowedNonAlphanumericCharacters)||void 0===_?void 0:_.join(""))&&void 0!==D?D:"",this.forceUpgradeOnSignin=null!==(z=u.forceUpgradeOnSignin)&&void 0!==z&&z,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,_,D,z,Ce,He;const ht={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,ht),this.validatePasswordCharacterOptions(u,ht),ht.isValid&&(ht.isValid=null===(h=ht.meetsMinPasswordLength)||void 0===h||h),ht.isValid&&(ht.isValid=null===(_=ht.meetsMaxPasswordLength)||void 0===_||_),ht.isValid&&(ht.isValid=null===(D=ht.containsLowercaseLetter)||void 0===D||D),ht.isValid&&(ht.isValid=null===(z=ht.containsUppercaseLetter)||void 0===z||z),ht.isValid&&(ht.isValid=null===(Ce=ht.containsNumericCharacter)||void 0===Ce||Ce),ht.isValid&&(ht.isValid=null===(He=ht.containsNonAlphanumericCharacter)||void 0===He||He),ht}validatePasswordLengthOptions(u,h){const _=this.customStrengthOptions.minPasswordLength,D=this.customStrengthOptions.maxPasswordLength;_&&(h.meetsMinPasswordLength=u.length>=_),D&&(h.meetsMaxPasswordLength=u.length<=D)}validatePasswordCharacterOptions(u,h){let _;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let D=0;D<u.length;D++)_=u.charAt(D),this.updatePasswordCharacterOptionsStatuses(h,_>="a"&&_<="z",_>="A"&&_<="Z",_>="0"&&_<="9",this.allowedNonAlphanumericCharacters.includes(_))}updatePasswordCharacterOptionsStatuses(u,h,_,D,z){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=_)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=D)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=z))}}class lc{constructor(u,h,_,D){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ml(this),this.idTokenSubscription=new ml(this),this.beforeStateQueue=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(u,h){var _=this;return h&&(this._popupRedirectResolver=Ft(h)),this._initializationPromise=this.queue((0,T.Z)(function*(){var D,z;if(!_._deleted&&(_.persistenceManager=yield Nt.create(_,u),!_._deleted)){if(null!==(D=_._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch{}yield _.initializeCurrentUser(h),_.lastNotifiedUid=(null===(z=_.currentUser)||void 0===z?void 0:z.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,T.Z)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(u){var h=this;return(0,T.Z)(function*(){try{const _=yield hi(h,{idToken:u}),D=yield ne._fromGetAccountInfoResponse(h,_,u);yield h.directlySetCurrentUser(D)}catch(_){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",_),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var h=this;return(0,T.Z)(function*(){var _;if((0,H._isFirebaseServerApp)(h.app)){const He=h.app.settings.authIdToken;return He?new Promise(ht=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(He).then(ht,ht))}):h.directlySetCurrentUser(null)}const D=yield h.assertedPersistence.getCurrentUser();let z=D,Ce=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const He=null===(_=h.redirectUser)||void 0===_?void 0:_._redirectEventId,ht=z?._redirectEventId,Gt=yield h.tryRedirectSignIn(u);(!He||He===ht)&&Gt?.user&&(z=Gt.user,Ce=!0)}if(!z)return h.directlySetCurrentUser(null);if(!z._redirectEventId){if(Ce)try{yield h.beforeStateQueue.runMiddleware(z)}catch(He){z=D,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(He))}return z?h.reloadAndSetCurrentUserOrClear(z):h.directlySetCurrentUser(null)}return I(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===z._redirectEventId?h.directlySetCurrentUser(z):h.reloadAndSetCurrentUserOrClear(z)})()}tryRedirectSignIn(u){var h=this;return(0,T.Z)(function*(){let _=null;try{_=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,T.Z)(function*(){try{yield vi(u)}catch(_){if("auth/network-request-failed"!==_?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Ze(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var u=this;return(0,T.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,T.Z)(function*(){if((0,H._isFirebaseServerApp)(h.app))return Promise.reject(kt(h));const _=u?(0,E.m9)(u):null;return _&&I(_.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(_&&_._clone(h))})()}_updateCurrentUser(u,h=!1){var _=this;return(0,T.Z)(function*(){if(!_._deleted)return u&&I(_.tenantId===u.tenantId,_,"tenant-id-mismatch"),h||(yield _.beforeStateQueue.runMiddleware(u)),_.queue((0,T.Z)(function*(){yield _.directlySetCurrentUser(u),_.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,T.Z)(function*(){return(0,H._isFirebaseServerApp)(u.app)?Promise.reject(kt(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var h=this;return(0,H._isFirebaseServerApp)(this.app)?Promise.reject(kt(this)):this.queue((0,T.Z)(function*(){yield h.assertedPersistence.setPersistence(Ft(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,T.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const _=h._getPasswordPolicyInternal();return _.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):_.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,T.Z)(function*(){const h=yield function Ln(m){return fi.apply(this,arguments)}(u),_=new xs(h);null===u.tenantId?u._projectPasswordPolicy=_:u._tenantPasswordPolicies[u.tenantId]=_})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new E.LL("auth","Firebase",u())}onAuthStateChanged(u,h,_){return this.registerStateListener(this.authStateSubscription,u,h,_)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,_){return this.registerStateListener(this.idTokenSubscription,u,h,_)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const _=this.onAuthStateChanged(()=>{_(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,T.Z)(function*(){if(h.currentUser){const _=yield h.currentUser.getIdToken(),D={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:_};null!=h.tenantId&&(D.tenantId=h.tenantId),yield function ae(m,u){return B.apply(this,arguments)}(h,D)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var _=this;return(0,T.Z)(function*(){const D=yield _.getOrInitRedirectPersistenceManager(h);return null===u?D.removeCurrentUser():D.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,T.Z)(function*(){if(!h.redirectPersistenceManager){const _=u&&Ft(u)||h._popupRedirectResolver;I(_,h,"argument-error"),h.redirectPersistenceManager=yield Nt.create(h,[Ft(_._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,T.Z)(function*(){var _,D;return h._isInitialized&&(yield h.queue((0,T.Z)(function*(){}))),(null===(_=h._currentUser)||void 0===_?void 0:_._redirectEventId)===u?h._currentUser:(null===(D=h.redirectUser)||void 0===D?void 0:D._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,T.Z)(function*(){if(u===h.currentUser)return h.queue((0,T.Z)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,_,D){if(this._deleted)return()=>{};const z="function"==typeof h?h:h.next.bind(h);let Ce=!1;const He=this._isInitialized?Promise.resolve():this._initializationPromise;if(I(He,this,"internal-error"),He.then(()=>{Ce||z(this.currentUser)}),"function"==typeof h){const ht=u.addObserver(h,_,D);return()=>{Ce=!0,ht()}}{const ht=u.addObserver(h);return()=>{Ce=!0,ht()}}}directlySetCurrentUser(u){var h=this;return(0,T.Z)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=xn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,T.Z)(function*(){var h;const _={"X-Client-Version":u.clientVersion};u.app.options.appId&&(_["X-Firebase-gmpid"]=u.app.options.appId);const D=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();D&&(_["X-Firebase-Client"]=D);const z=yield u._getAppCheckToken();return z&&(_["X-Firebase-AppCheck"]=z),_})()}_getAppCheckToken(){var u=this;return(0,T.Z)(function*(){var h;const _=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return _?.error&&function rt(m,...u){be.logLevel<=V.in.WARN&&be.warn(`Auth (${H.SDK_VERSION}): ${m}`,...u)}(`Error while retrieving App Check token: ${_.error}`),_?.token})()}}function Li(m){return(0,E.m9)(m)}class ml{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,E.ne)(h=>this.observer=h)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xf={loadJS:()=>(0,T.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L0(m){return xf.loadJS(m)}function V0(m){return`__${m}${Math.floor(1e6*Math.random())}`}class gn{constructor(u){this.type="recaptcha-enterprise",this.auth=Li(u)}verify(u="verify",h=!1){var _=this;return(0,T.Z)(function*(){function z(){return z=(0,T.Z)(function*(He){if(!h){if(null==He.tenantId&&null!=He._agentRecaptchaConfig)return He._agentRecaptchaConfig.siteKey;if(null!=He.tenantId&&void 0!==He._tenantRecaptchaConfigs[He.tenantId])return He._tenantRecaptchaConfigs[He.tenantId].siteKey}return new Promise(function(){var ht=(0,T.Z)(function*(Gt,nn){at(He,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(zn=>{if(void 0!==zn.recaptchaKey){const Yr=new ct(zn);return null==He.tenantId?He._agentRecaptchaConfig=Yr:He._tenantRecaptchaConfigs[He.tenantId]=Yr,Gt(Yr.siteKey)}nn(new Error("recaptcha Enterprise site key undefined"))}).catch(zn=>{nn(zn)})});return function(Gt,nn){return ht.apply(this,arguments)}}())}),z.apply(this,arguments)}function Ce(He,ht,Gt){const nn=window.grecaptcha;De(nn)?nn.enterprise.ready(()=>{nn.enterprise.execute(He,{action:u}).then(zn=>{ht(zn)}).catch(()=>{ht("NO_RECAPTCHA")})}):Gt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((He,ht)=>{(function D(He){return z.apply(this,arguments)})(_.auth).then(Gt=>{if(!h&&De(window.grecaptcha))Ce(Gt,He,ht);else{if(typeof window>"u")return void ht(new Error("RecaptchaVerifier is only supported in browser"));let nn=function mS(){return xf.recaptchaEnterpriseScript}();0!==nn.length&&(nn+=Gt),L0(nn).then(()=>{Ce(Gt,He,ht)}).catch(zn=>{ht(zn)})}}).catch(Gt=>{ht(Gt)})})})()}}function gS(m,u,h){return B0.apply(this,arguments)}function B0(){return(B0=(0,T.Z)(function*(m,u,h,_=!1){const D=new gn(m);let z;try{z=yield D.verify(h)}catch{z=yield D.verify(h,!0)}const Ce=Object.assign({},u);return Object.assign(Ce,_?{captchaResp:z}:{captchaResponse:z}),Object.assign(Ce,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ce,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ce})).apply(this,arguments)}function Cf(m,u,h,_){return Ge.apply(this,arguments)}function Ge(){return Ge=(0,T.Z)(function*(m,u,h,_){var D;if(null!==(D=m._getRecaptchaConfig())&&void 0!==D&&D.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const z=yield gS(m,u,h,"getOobCode"===h);return _(m,z)}return _(m,u).catch(function(){var z=(0,T.Z)(function*(Ce){if("auth/missing-recaptcha-token"===Ce.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const He=yield gS(m,u,h,"getOobCode"===h);return _(m,He)}return Promise.reject(Ce)});return function(Ce){return z.apply(this,arguments)}}())}),Ge.apply(this,arguments)}function Gg(m,u,h){const _=Li(m);I(_._canInitEmulator,_,"emulator-config-failed"),I(/^https?:\/\//.test(u),_,"invalid-emulator-scheme");const D=!!h?.disableWarnings,z=U0(u),{host:Ce,port:He}=function Df(m){const u=U0(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(u.length));if(!h)return{host:"",port:null};const _=h[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(_);if(D){const z=D[1];return{host:z,port:ku(_.substr(z.length+1))}}{const[z,Ce]=_.split(":");return{host:z,port:ku(Ce)}}}(u);_.config.emulator={url:`${z}//${Ce}${null===He?"":`:${He}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:Ce,port:He,protocol:z.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function $g(){function m(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function U0(m){const u=m.indexOf(":");return u<0?"":m.substr(0,u+1)}function ku(m){if(!m)return null;const u=Number(m);return isNaN(u)?null:u}class cc{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return nt("not implemented")}_getIdTokenResponse(u){return nt("not implemented")}_linkToIdToken(u,h){return nt("not implemented")}_getReauthenticationResolver(u){return nt("not implemented")}}function z0(m,u){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:resetPassword",tt(m,u))})).apply(this,arguments)}function If(){return(If=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Po(m,u){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function pi(){return(pi=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:update",tt(m,u))})).apply(this,arguments)}function J2(m,u){return j0.apply(this,arguments)}function j0(){return(j0=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithPassword",tt(m,u))})).apply(this,arguments)}function Ue(m,u){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:sendOobCode",tt(m,u))})).apply(this,arguments)}function Tf(){return(Tf=(0,T.Z)(function*(m,u){return Ue(m,u)})).apply(this,arguments)}function Kg(m,u){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,T.Z)(function*(m,u){return Ue(m,u)})).apply(this,arguments)}function Yg(m,u){return H0.apply(this,arguments)}function H0(){return(H0=(0,T.Z)(function*(m,u){return Ue(m,u)})).apply(this,arguments)}function G0(){return(G0=(0,T.Z)(function*(m,u){return Ue(m,u)})).apply(this,arguments)}function $0(){return($0=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithEmailLink",tt(m,u))})).apply(this,arguments)}function Pu(){return(Pu=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithEmailLink",tt(m,u))})).apply(this,arguments)}class gl extends cc{constructor(u,h,_,D=null){super("password",_),this._email=u,this._password=h,this._tenantId=D}static _fromEmailAndPassword(u,h){return new gl(u,h,"password")}static _fromEmailAndCode(u,h,_=null){return new gl(u,h,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,T.Z)(function*(){switch(h.signInMethod){case"password":return Cf(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",J2);case"emailLink":return function tN(m,u){return $0.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:ot(u,"internal-error")}})()}_linkToIdToken(u,h){var _=this;return(0,T.Z)(function*(){switch(_.signInMethod){case"password":return Cf(u,{idToken:h,returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Po);case"emailLink":return function Ru(m,u){return Pu.apply(this,arguments)}(u,{idToken:h,email:_._email,oobCode:_._password});default:ot(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function ja(m,u){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithIdp",tt(m,u))})).apply(this,arguments)}class Gs extends cc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new Gs(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):ot("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:D}=h,z=(0,K._T)(h,["providerId","signInMethod"]);if(!_||!D)return null;const Ce=new Gs(_,D);return Ce.idToken=z.idToken||void 0,Ce.accessToken=z.accessToken||void 0,Ce.secret=z.secret,Ce.nonce=z.nonce,Ce.pendingToken=z.pendingToken||null,Ce}_getIdTokenResponse(u){return ja(u,this.buildRequest())}_linkToIdToken(u,h){const _=this.buildRequest();return _.idToken=h,ja(u,_)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,ja(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,E.xO)(h)}return u}}function Xg(){return(Xg=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:sendVerificationCode",tt(m,u))})).apply(this,arguments)}function Jg(){return(Jg=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,u))})).apply(this,arguments)}function Af(){return(Af=(0,T.Z)(function*(m,u){const h=yield zt(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,u));if(h.temporaryProof)throw ee(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Tt={USER_NOT_FOUND:"user-not-found"};function Ou(){return(Ou=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithPhoneNumber",tt(m,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Tt)})).apply(this,arguments)}class $s extends cc{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new $s({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new $s({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function _l(m,u){return Jg.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function Y(m,u){return Af.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function kf(m,u){return Ou.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:_,verificationCode:D}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:_,code:D}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:_,phoneNumber:D,temporaryProof:z}=u;return _||h||D||z?new $s({verificationId:h,verificationCode:_,phoneNumber:D,temporaryProof:z}):null}}class Fu{constructor(u){var h,_,D,z,Ce,He;const ht=(0,E.zd)((0,E.pd)(u)),Gt=null!==(h=ht.apiKey)&&void 0!==h?h:null,nn=null!==(_=ht.oobCode)&&void 0!==_?_:null,zn=function vS(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=ht.mode)&&void 0!==D?D:null);I(Gt&&nn&&zn,"argument-error"),this.apiKey=Gt,this.operation=zn,this.code=nn,this.continueUrl=null!==(z=ht.continueUrl)&&void 0!==z?z:null,this.languageCode=null!==(Ce=ht.languageCode)&&void 0!==Ce?Ce:null,this.tenantId=null!==(He=ht.tenantId)&&void 0!==He?He:null}static parseLink(u){const h=function bS(m){const u=(0,E.zd)((0,E.pd)(m)).link,h=u?(0,E.zd)((0,E.pd)(u)).deep_link_id:null,_=(0,E.zd)((0,E.pd)(m)).deep_link_id;return(_?(0,E.zd)((0,E.pd)(_)).link:null)||_||h||u||m}(u);try{return new Fu(h)}catch{return null}}}let ud=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,_){return gl._fromEmailAndPassword(h,_)}static credentialWithLink(h,_){const D=Fu.parseLink(_);return I(D,"argument-error"),gl._fromEmailAndCode(h,D.code,D.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Dr{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class yo extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Wn extends yo{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return I("providerId"in h&&"signInMethod"in h,"argument-error"),Gs._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return I(u.idToken||u.accessToken,"argument-error"),Gs._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Wn.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Wn.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:_,oauthTokenSecret:D,pendingToken:z,nonce:Ce,providerId:He}=u;if(!_&&!D&&!h&&!z||!He)return null;try{return new Wn(He)._credential({idToken:h,accessToken:_,nonce:Ce,pendingToken:z})}catch{return null}}}let Mf=(()=>{class m extends yo{constructor(){super("facebook.com")}static credential(h){return Gs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),e_=(()=>{class m extends yo{constructor(){super("google.com"),this.addScope("profile")}static credential(h,_){return Gs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:_})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:_,oauthAccessToken:D}=h;if(!_&&!D)return null;try{return m.credential(_,D)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),t_=(()=>{class m extends yo{constructor(){super("github.com")}static credential(h){return Gs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Oo extends cc{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return ja(u,this.buildRequest())}_linkToIdToken(u,h){const _=this.buildRequest();return _.idToken=h,ja(u,_)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,ja(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:_,signInMethod:D,pendingToken:z}=h;return _&&D&&z&&_===D?new Oo(_,z):null}static _create(u,h){return new Oo(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Lu extends Dr{constructor(u){I(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Lu.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Lu.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=Oo.fromJSON(u);return I(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:_}=u;if(!h||!_)return null;try{return Oo._create(_,h)}catch{return null}}}let W0=(()=>{class m extends yo{constructor(){super("twitter.com")}static credential(h,_){return Gs._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:_})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:_,oauthTokenSecret:D}=h;if(!_||!D)return null;try{return m.credential(_,D)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Rf(m,u){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signUp",tt(m,u))})).apply(this,arguments)}class is{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,_,D=!1){return(0,T.Z)(function*(){const z=yield ne._fromIdTokenResponse(u,_,D),Ce=hd(_);return new is({user:z,providerId:Ce,_tokenResponse:_,operationType:h})})()}static _forOperation(u,h,_){return(0,T.Z)(function*(){yield u._updateTokensIfNecessary(_,!0);const D=hd(_);return new is({user:u,providerId:D,_tokenResponse:_,operationType:h})})()}}function hd(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function K0(m){return Of.apply(this,arguments)}function Of(){return(Of=(0,T.Z)(function*(m){var u;if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const h=Li(m);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new is({user:h.currentUser,providerId:null,operationType:"signIn"});const _=yield Rf(h,{returnSecureToken:!0}),D=yield is._fromIdTokenResponse(h,"signIn",_,!0);return yield h._updateCurrentUser(D.user),D})).apply(this,arguments)}class Ff extends E.ZR{constructor(u,h,_,D){var z;super(h.code,h.message),this.operationType=_,this.user=D,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:u.name,tenantId:null!==(z=u.tenantId)&&void 0!==z?z:void 0,_serverResponse:h.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(u,h,_,D){return new Ff(u,h,_,D)}}function n_(m,u,h,_){return("reauthenticate"===u?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(z=>{throw"auth/multi-factor-auth-required"===z.code?Ff._fromErrorAndOperation(m,z,u,_):z})}function Z0(m){return new Set(m.map(({providerId:u})=>u).filter(u=>!!u))}function wS(m,u){return rs.apply(this,arguments)}function rs(){return rs=(0,T.Z)(function*(m,u){const h=(0,E.m9)(m);yield Lf(!0,h,u);const{providerUserInfo:_}=yield function Pn(m,u){return wn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),D=Z0(_||[]);return h.providerData=h.providerData.filter(z=>D.has(z.providerId)),D.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),rs.apply(this,arguments)}function i_(m,u){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,T.Z)(function*(m,u,h=!1){const _=yield oi(m,u._linkToIdToken(m.auth,yield m.getIdToken()),h);return is._forOperation(m,"link",_)})).apply(this,arguments)}function Lf(m,u,h){return r_.apply(this,arguments)}function r_(){return(r_=(0,T.Z)(function*(m,u,h){yield vi(u);const D=!1===m?"provider-already-linked":"no-such-provider";I(Z0(u.providerData).has(h)===m,u.auth,D)})).apply(this,arguments)}function Y0(m,u){return o_.apply(this,arguments)}function o_(){return(o_=(0,T.Z)(function*(m,u,h=!1){const{auth:_}=m;if((0,H._isFirebaseServerApp)(_.app))return Promise.reject(kt(_));const D="reauthenticate";try{const z=yield oi(m,n_(_,D,u,m),h);I(z.idToken,_,"internal-error");const Ce=Ur(z.idToken);I(Ce,_,"internal-error");const{sub:He}=Ce;return I(m.uid===He,_,"user-mismatch"),is._forOperation(m,D,z)}catch(z){throw"auth/user-not-found"===z?.code&&ot(_,"user-mismatch"),z}})).apply(this,arguments)}function s_(m,u){return a_.apply(this,arguments)}function a_(){return(a_=(0,T.Z)(function*(m,u,h=!1){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _="signIn",D=yield n_(m,_,u),z=yield is._fromIdTokenResponse(m,_,D);return h||(yield m._updateCurrentUser(z.user)),z})).apply(this,arguments)}function Vf(m,u){return l_.apply(this,arguments)}function l_(){return(l_=(0,T.Z)(function*(m,u){return s_(Li(m),u)})).apply(this,arguments)}function It(m,u){return c_.apply(this,arguments)}function c_(){return(c_=(0,T.Z)(function*(m,u){const h=(0,E.m9)(m);return yield Lf(!1,h,u.providerId),i_(h,u)})).apply(this,arguments)}function Q0(m,u){return d_.apply(this,arguments)}function d_(){return(d_=(0,T.Z)(function*(m,u){return Y0((0,E.m9)(m),u)})).apply(this,arguments)}function u_(){return(u_=(0,T.Z)(function*(m,u){return zt(m,"POST","/v1/accounts:signInWithCustomToken",tt(m,u))})).apply(this,arguments)}function X0(m,u){return Se.apply(this,arguments)}function Se(){return Se=(0,T.Z)(function*(m,u){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const h=Li(m),_=yield function Zt(m,u){return u_.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),D=yield is._fromIdTokenResponse(h,"signIn",_);return yield h._updateCurrentUser(D.user),D}),Se.apply(this,arguments)}class hr{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?Kn._fromServerResponse(u,h):"totpInfo"in h?Or._fromServerResponse(u,h):ot(u,"internal-error")}}class Kn extends hr{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new Kn(h)}}class Or extends hr{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new Or(h)}}function jr(m,u,h){var _;I((null===(_=h.url)||void 0===_?void 0:_.length)>0,m,"invalid-continue-uri"),I(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(I(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(I(h.android.packageName.length>0,m,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function vl(m){return vo.apply(this,arguments)}function vo(){return(vo=(0,T.Z)(function*(m){const u=Li(m);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function J0(m,u,h){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,T.Z)(function*(m,u,h){const _=Li(m),D={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&jr(_,D,h),yield Cf(_,D,"getOobCode",Kg)})).apply(this,arguments)}function Uf(m,u,h){return h_.apply(this,arguments)}function h_(){return h_=(0,T.Z)(function*(m,u,h){yield z0((0,E.m9)(m),{oobCode:u,newPassword:h}).catch(function(){var _=(0,T.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&vl(m),D});return function(D){return _.apply(this,arguments)}}())}),h_.apply(this,arguments)}function xS(m,u){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,T.Z)(function*(m,u){yield function X2(m,u){return pi.apply(this,arguments)}((0,E.m9)(m),{oobCode:u})}),Vi.apply(this,arguments)}function jt(m,u){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,T.Z)(function*(m,u){const h=(0,E.m9)(m),_=yield z0(h,{oobCode:u}),D=_.requestType;switch(I(D,h,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":I(_.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":I(_.mfaInfo,h,"internal-error");default:I(_.email,h,"internal-error")}let z=null;return _.mfaInfo&&(z=hr._fromServerResponse(Li(h),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:z},operation:D}})).apply(this,arguments)}function Bi(m,u){return os.apply(this,arguments)}function os(){return(os=(0,T.Z)(function*(m,u){const{data:h}=yield jt((0,E.m9)(m),u);return h.email})).apply(this,arguments)}function Vu(m,u,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,T.Z)(function*(m,u,h){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _=Li(m),Ce=yield Cf(_,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rf).catch(ht=>{throw"auth/password-does-not-meet-requirements"===ht.code&&vl(m),ht}),He=yield is._fromIdTokenResponse(_,"signIn",Ce);return yield _._updateCurrentUser(He.user),He})).apply(this,arguments)}function fd(m,u,h){return(0,H._isFirebaseServerApp)(m.app)?Promise.reject(kt(m)):Vf((0,E.m9)(m),ud.credential(u,h)).catch(function(){var _=(0,T.Z)(function*(D){throw"auth/password-does-not-meet-requirements"===D.code&&vl(m),D});return function(D){return _.apply(this,arguments)}}())}function fr(m,u,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,T.Z)(function*(m,u,h){const _=Li(m),D={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function z(Ce,He){I(He.handleCodeInApp,_,"argument-error"),He&&jr(_,Ce,He)})(D,h),yield Cf(_,D,"getOobCode",Yg)})).apply(this,arguments)}function pd(m,u){const h=Fu.parseLink(u);return"EMAIL_SIGNIN"===h?.operation}function En(m,u,h){return dc.apply(this,arguments)}function dc(){return(dc=(0,T.Z)(function*(m,u,h){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _=(0,E.m9)(m),D=ud.credentialWithLink(u,h||dt());return I(D._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),Vf(_,D)})).apply(this,arguments)}function bl(){return(bl=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:createAuthUri",tt(m,u))})).apply(this,arguments)}function pr(m,u){return uc.apply(this,arguments)}function uc(){return uc=(0,T.Z)(function*(m,u){const _={identifier:u,continueUri:on()?dt():"http://localhost"},{signinMethods:D}=yield function ew(m,u){return bl.apply(this,arguments)}((0,E.m9)(m),_);return D||[]}),uc.apply(this,arguments)}function md(m,u){return Es.apply(this,arguments)}function Es(){return Es=(0,T.Z)(function*(m,u){const h=(0,E.m9)(m),D={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};u&&jr(h.auth,D,u);const{email:z}=yield function Wg(m,u){return Tf.apply(this,arguments)}(h.auth,D);z!==m.email&&(yield m.reload())}),Es.apply(this,arguments)}function Bu(m,u,h){return zf.apply(this,arguments)}function zf(){return zf=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m),z={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:u};h&&jr(_.auth,z,h);const{email:Ce}=yield function eN(m,u){return G0.apply(this,arguments)}(_.auth,z);Ce!==m.email&&(yield m.reload())}),zf.apply(this,arguments)}function qs(){return(qs=(0,T.Z)(function*(m,u){return Ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Uu(m,u){return hc.apply(this,arguments)}function hc(){return hc=(0,T.Z)(function*(m,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const _=(0,E.m9)(m),z={idToken:yield _.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},Ce=yield oi(_,function wl(m,u){return qs.apply(this,arguments)}(_.auth,z));_.displayName=Ce.displayName||null,_.photoURL=Ce.photoUrl||null;const He=_.providerData.find(({providerId:ht})=>"password"===ht);He&&(He.displayName=_.displayName,He.photoURL=_.photoURL),yield _._updateTokensIfNecessary(Ce)}),hc.apply(this,arguments)}function Un(m,u){const h=(0,E.m9)(m);return(0,H._isFirebaseServerApp)(h.auth.app)?Promise.reject(kt(h.auth)):jf(h,u,null)}function nN(m,u){return jf((0,E.m9)(m),null,u)}function jf(m,u,h){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,T.Z)(function*(m,u,h){const{auth:_}=m,z={idToken:yield m.getIdToken(),returnSecureToken:!0};u&&(z.email=u),h&&(z.password=h);const Ce=yield oi(m,function qg(m,u){return If.apply(this,arguments)}(_,z));yield m._updateTokensIfNecessary(Ce,!0)}),Hf.apply(this,arguments)}class Ha{constructor(u,h,_={}){this.isNewUser=u,this.providerId=h,this.profile=_}}class fc extends Ha{constructor(u,h,_,D){super(u,h,_),this.username=D}}class zu extends Ha{constructor(u,h){super(u,"facebook.com",h)}}class Wr extends fc{constructor(u,h){super(u,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class iN extends Ha{constructor(u,h){super(u,"google.com",h)}}class Fo extends fc{constructor(u,h,_){super(u,"twitter.com",h,_)}}function bo(m){const{user:u,_tokenResponse:h}=m;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function ma(m){var u,h;if(!m)return null;const{providerId:_}=m,D=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},z=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!_&&m?.idToken){const Ce=null===(h=null===(u=Ur(m.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(Ce)return new Ha(z,"anonymous"!==Ce&&"custom"!==Ce?Ce:null)}if(!_)return null;switch(_){case"facebook.com":return new zu(z,D);case"github.com":return new Wr(z,D);case"google.com":return new iN(z,D);case"twitter.com":return new Fo(z,D,m.screenName||null);case"custom":case"anonymous":return new Ha(z,null);default:return new Ha(z,_,D)}}(h)}class _d{constructor(u,h,_){this.type=u,this.credential=h,this.user=_}static _fromIdtoken(u,h){return new _d("enroll",u,h)}static _fromMfaPendingCredential(u){return new _d("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,_;if(u?.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return _d._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(_=u.multiFactorSession)&&void 0!==_&&_.idToken)return _d._fromIdtoken(u.multiFactorSession.idToken)}return null}}class iw{constructor(u,h,_){this.session=u,this.hints=h,this.signInResolver=_}static _fromError(u,h){const _=Li(u),D=h.customData._serverResponse,z=(D.mfaInfo||[]).map(He=>hr._fromServerResponse(_,He));I(D.mfaPendingCredential,_,"internal-error");const Ce=_d._fromMfaPendingCredential(D.mfaPendingCredential);return new iw(Ce,z,function(){var He=(0,T.Z)(function*(ht){const Gt=yield ht._process(_,Ce);delete D.mfaInfo,delete D.mfaPendingCredential;const nn=Object.assign(Object.assign({},D),{idToken:Gt.idToken,refreshToken:Gt.refreshToken});switch(h.operationType){case"signIn":const zn=yield is._fromIdTokenResponse(_,h.operationType,nn);return yield _._updateCurrentUser(zn.user),zn;case"reauthenticate":return I(h.user,_,"internal-error"),is._forOperation(h.user,h.operationType,nn);default:ot(_,"internal-error")}});return function(ht){return He.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,T.Z)(function*(){return h.signInResolver(u)})()}}function aN(m,u){var h;const _=(0,E.m9)(m),D=u;return I(u.customData.operationType,_,"argument-error"),I(null===(h=D.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,_,"argument-error"),iw._fromError(_,D)}class rw{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(_=>hr._fromServerResponse(u.auth,_)))})}static _fromUser(u){return new rw(u)}getSession(){var u=this;return(0,T.Z)(function*(){return _d._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var _=this;return(0,T.Z)(function*(){const D=u,z=yield _.getSession(),Ce=yield oi(_.user,D._process(_.user.auth,z,h));return yield _.user._updateTokensIfNecessary(Ce),_.user.reload()})()}unenroll(u){var h=this;return(0,T.Z)(function*(){const _="string"==typeof u?u:u.uid,D=yield h.user.getIdToken();try{const z=yield oi(h.user,function uN(m,u){return Ae(m,"POST","/v2/accounts/mfaEnrollment:withdraw",tt(m,u))}(h.user.auth,{idToken:D,mfaEnrollmentId:_}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Ce})=>Ce!==_),yield h.user._updateTokensIfNecessary(z),yield h.user.reload()}catch(z){throw z}})()}}const Gf=new WeakMap;function ow(m){const u=(0,E.m9)(m);return Gf.has(u)||Gf.set(u,rw._fromUser(u)),Gf.get(u)}const m_="__sak";class ES{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(m_,"1"),this.storage.removeItem(m_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const DS=(()=>{class m extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,_)=>this.onStorageEvent(h,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hN(){const m=(0,E.z$)();return zr(m)||ac(m)}()&&function yt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Oe(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const _ of Object.keys(this.listeners)){const D=this.storage.getItem(_),z=this.localCache[_];D!==z&&h(_,z,D)}}onStorageEvent(h,_=!1){if(!h.key)return void this.forAllChangedKeys((He,ht,Gt)=>{this.notifyListeners(He,Gt)});const D=h.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const He=this.storage.getItem(D);if(h.newValue!==He)null!==h.newValue?this.storage.setItem(D,h.newValue):this.storage.removeItem(D);else if(this.localCache[D]===h.newValue&&!_)return}const z=()=>{const He=this.storage.getItem(D);!_&&this.localCache[D]===He||this.notifyListeners(D,He)},Ce=this.storage.getItem(D);!function Me(){return(0,E.w1)()&&10===document.documentMode}()||Ce===h.newValue||h.newValue===h.oldValue?z():setTimeout(z,10)}notifyListeners(h,_){this.localCache[h]=_;const D=this.listeners[h];if(D)for(const z of Array.from(D))z(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,_,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:_,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,_){var D=()=>super._set,z=this;return(0,T.Z)(function*(){yield D().call(z,h,_),z.localCache[h]=JSON.stringify(_)})()}_get(h){var _=()=>super._get,D=this;return(0,T.Z)(function*(){const z=yield _().call(D,h);return D.localCache[h]=JSON.stringify(z),z})()}_remove(h){var _=()=>super._remove,D=this;return(0,T.Z)(function*(){yield _().call(D,h),delete D.localCache[h]})()}}return m.type="LOCAL",m})(),yd=(()=>{class m extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,_){}_removeListener(h,_){}}return m.type="SESSION",m})();let sw=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const _=this.receivers.find(z=>z.isListeningto(h));if(_)return _;const D=new m(h);return this.receivers.push(D),D}isListeningto(h){return this.eventTarget===h}handleEvent(h){var _=this;return(0,T.Z)(function*(){const D=h,{eventId:z,eventType:Ce,data:He}=D.data,ht=_.handlersMap[Ce];if(!ht?.size)return;D.ports[0].postMessage({status:"ack",eventId:z,eventType:Ce});const Gt=Array.from(ht).map(function(){var zn=(0,T.Z)(function*(Yr){return Yr(D.origin,He)});return function(Yr){return zn.apply(this,arguments)}}()),nn=yield function Ds(m){return Promise.all(m.map(function(){var u=(0,T.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(_){return{fulfilled:!1,reason:_}}});return function(h){return u.apply(this,arguments)}}()))}(Gt);D.ports[0].postMessage({status:"done",eventId:z,eventType:Ce,response:nn})})()}_subscribe(h,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(_)}_unsubscribe(h,_){this.handlersMap[h]&&_&&this.handlersMap[h].delete(_),(!_||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function vd(m="",u=10){let h="";for(let _=0;_<u;_++)h+=Math.floor(10*Math.random());return m+h}class aw{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,_=50){var D=this;return(0,T.Z)(function*(){const z=typeof MessageChannel<"u"?new MessageChannel:null;if(!z)throw new Error("connection_unavailable");let Ce,He;return new Promise((ht,Gt)=>{const nn=vd("",20);z.port1.start();const zn=setTimeout(()=>{Gt(new Error("unsupported_event"))},_);He={messageChannel:z,onMessage(Yr){const Lo=Yr;if(Lo.data.eventId===nn)switch(Lo.data.status){case"ack":clearTimeout(zn),Ce=setTimeout(()=>{Gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ce),ht(Lo.data.response);break;default:clearTimeout(zn),clearTimeout(Ce),Gt(new Error("invalid_response"))}}},D.handlers.add(He),z.port1.addEventListener("message",He.onMessage),D.target.postMessage({eventType:u,eventId:nn,data:h},[z.port2])}).finally(()=>{He&&D.removeMessageHandler(He)})})()}}function mr(){return window}function $f(){return typeof mr().WorkerGlobalScope<"u"&&"function"==typeof mr().importScripts}function ju(){return(ju=(0,T.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const y_="firebaseLocalStorageDb",Cl="firebaseLocalStorage",mc="fbase_key";class bd{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function v_(m,u){return m.transaction([Cl],u?"readwrite":"readonly").objectStore(Cl)}function dw(){const m=indexedDB.open(y_,1);return new Promise((u,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const _=m.result;try{_.createObjectStore(Cl,{keyPath:mc})}catch(D){h(D)}}),m.addEventListener("success",(0,T.Z)(function*(){const _=m.result;_.objectStoreNames.contains(Cl)?u(_):(_.close(),yield function fN(){const m=indexedDB.deleteDatabase(y_);return new bd(m).toPromise()}(),u(yield dw()))}))})}function uw(m,u,h){return b_.apply(this,arguments)}function b_(){return(b_=(0,T.Z)(function*(m,u,h){const _=v_(m,!0).put({[mc]:u,value:h});return new bd(_).toPromise()})).apply(this,arguments)}function Wf(){return(Wf=(0,T.Z)(function*(m,u){const h=v_(m,!1).get(u),_=yield new bd(h).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function Kf(m,u){const h=v_(m,!0).delete(u);return new bd(h).toPromise()}const SS=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,T.Z)(function*(){return h.db||(h.db=yield dw()),h.db})()}_withRetries(h){var _=this;return(0,T.Z)(function*(){let D=0;for(;;)try{const z=yield _._openDb();return yield h(z)}catch(z){if(D++>3)throw z;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,T.Z)(function*(){return $f()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,T.Z)(function*(){h.receiver=sw._getInstance(function cw(){return $f()?self:null}()),h.receiver._subscribe("keyChanged",function(){var _=(0,T.Z)(function*(D,z){return{keyProcessed:(yield h._poll()).includes(z.key)}});return function(D,z){return _.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var _=(0,T.Z)(function*(D,z){return["keyChanged"]});return function(D,z){return _.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,T.Z)(function*(){var _,D;if(h.activeServiceWorker=yield function __(){return ju.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new aw(h.activeServiceWorker);const z=yield h.sender._send("ping",{},800);z&&null!==(_=z[0])&&void 0!==_&&_.fulfilled&&null!==(D=z[0])&&void 0!==D&&D.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var _=this;return(0,T.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function lw(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:h},_.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,T.Z)(function*(){try{if(!indexedDB)return!1;const h=yield dw();return yield uw(h,m_,"1"),yield Kf(h,m_),!0}catch{}return!1})()}_withPendingWrite(h){var _=this;return(0,T.Z)(function*(){_.pendingWrites++;try{yield h()}finally{_.pendingWrites--}})()}_set(h,_){var D=this;return(0,T.Z)(function*(){return D._withPendingWrite((0,T.Z)(function*(){return yield D._withRetries(z=>uw(z,h,_)),D.localCache[h]=_,D.notifyServiceWorker(h)}))})()}_get(h){var _=this;return(0,T.Z)(function*(){const D=yield _._withRetries(z=>function pN(m,u){return Wf.apply(this,arguments)}(z,h));return _.localCache[h]=D,D})()}_remove(h){var _=this;return(0,T.Z)(function*(){return _._withPendingWrite((0,T.Z)(function*(){return yield _._withRetries(D=>Kf(D,h)),delete _.localCache[h],_.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,T.Z)(function*(){const _=yield h._withRetries(Ce=>{const He=v_(Ce,!1).getAll();return new bd(He).toPromise()});if(!_)return[];if(0!==h.pendingWrites)return[];const D=[],z=new Set;if(0!==_.length)for(const{fbase_key:Ce,value:He}of _)z.add(Ce),JSON.stringify(h.localCache[Ce])!==JSON.stringify(He)&&(h.notifyListeners(Ce,He),D.push(Ce));for(const Ce of Object.keys(h.localCache))h.localCache[Ce]&&!z.has(Ce)&&(h.notifyListeners(Ce,null),D.push(Ce));return D})()}notifyListeners(h,_){this.localCache[h]=_;const D=this.listeners[h];if(D)for(const z of Array.from(D))z(_)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,T.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(_)}_removeListener(h,_){this.listeners[h]&&(this.listeners[h].delete(_),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),Zf=1e12;class pw{constructor(u){this.auth=u,this.counter=Zf,this._widgets=new Map}render(u,h){const _=this.counter;return this._widgets.set(_,new MS(u,this.auth.name,h||{})),this.counter++,_}reset(u){var h;const _=u||Zf;null===(h=this._widgets.get(_))||void 0===h||h.delete(),this._widgets.delete(_)}getResponse(u){var h;return(null===(h=this._widgets.get(u||Zf))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,T.Z)(function*(){var _;return null===(_=h._widgets.get(u||Zf))||void 0===_||_.execute(),""})()}}class MS{constructor(u,h,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof u?document.getElementById(u):u;I(D,"argument-error",{appName:h}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mw(m){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<m;_++)u.push(h.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const x_=V0("rcb"),mN=new Be(3e4,6e4);class RS{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=mr().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return I(function Di(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&Q(mr().grecaptcha)?Promise.resolve(mr().grecaptcha):new Promise((_,D)=>{const z=mr().setTimeout(()=>{D(je(u,"network-request-failed"))},mN.get());mr()[x_]=()=>{mr().clearTimeout(z),delete mr()[x_];const He=mr().grecaptcha;if(!He||!Q(He))return void D(je(u,"internal-error"));const ht=He.render;He.render=(Gt,nn)=>{const zn=ht(Gt,nn);return this.counter++,zn},this.hostLanguage=h,_(He)},L0(`${function K2(){return xf.recaptchaV2Script}()}?${(0,E.xO)({onload:x_,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(z),D(je(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=mr().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gw{load(u){return(0,T.Z)(function*(){return new pw(u)})()}clearedOneInstance(){}}const _w="recaptcha",PS={theme:"light",type:"image"};class yw{constructor(u,h,_=Object.assign({},PS)){this.parameters=_,this.type=_w,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Li(u),this.isInvisible="invisible"===this.parameters.size,I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof h?document.getElementById(h):h;I(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gw:new RS,this.validateStartingState()}verify(){var u=this;return(0,T.Z)(function*(){u.assertNotDestroyed();const h=yield u.render(),_=u.getAssertedRecaptcha();return _.getResponse(h)||new Promise(z=>{const Ce=He=>{He&&(u.tokenChangeListeners.delete(Ce),z(He))};u.tokenChangeListeners.add(Ce),u.isInvisible&&_.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){I(!this.parameters.sitekey,this.auth,"argument-error"),I(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),I(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(_=>_(h)),"function"==typeof u)u(h);else if("string"==typeof u){const _=mr()[u];"function"==typeof _&&_(h)}}}assertNotDestroyed(){I(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,T.Z)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const _=document.createElement("div");h.appendChild(_),h=_}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,T.Z)(function*(){I(on()&&!$f(),u.auth,"internal-error"),yield function vw(){let m=null;return new Promise(u=>{"complete"!==document.readyState?(m=()=>u(),window.addEventListener("load",m)):u()}).catch(u=>{throw m&&window.removeEventListener("load",m),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function ft(m){return Ne.apply(this,arguments)}(u.auth);I(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return I(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class C_{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=$s._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function E_(m,u,h){return D_.apply(this,arguments)}function D_(){return(D_=(0,T.Z)(function*(m,u,h){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _=Li(m),D=yield wd(_,u,(0,E.m9)(h));return new C_(D,z=>Vf(_,z))})).apply(this,arguments)}function ga(m,u,h){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);yield Lf(!1,_,"phone");const D=yield wd(_.auth,u,(0,E.m9)(h));return new C_(D,z=>It(_,z))})).apply(this,arguments)}function bw(m,u,h){return mi.apply(this,arguments)}function mi(){return(mi=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);if((0,H._isFirebaseServerApp)(_.auth.app))return Promise.reject(kt(_.auth));const D=yield wd(_.auth,u,(0,E.m9)(h));return new C_(D,z=>Q0(_,z))})).apply(this,arguments)}function wd(m,u,h){return xd.apply(this,arguments)}function xd(){return xd=(0,T.Z)(function*(m,u,h){var _;const D=yield h.verify();try{let z;if(I("string"==typeof D,m,"argument-error"),I(h.type===_w,m,"argument-error"),z="string"==typeof u?{phoneNumber:u}:u,"session"in z){const Ce=z.session;if("phoneNumber"in z)return I("enroll"===Ce.type,m,"internal-error"),(yield function lN(m,u){return Ae(m,"POST","/v2/accounts/mfaEnrollment:start",tt(m,u))}(m,{idToken:Ce.credential,phoneEnrollmentInfo:{phoneNumber:z.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{I("signin"===Ce.type,m,"internal-error");const He=(null===(_=z.multiFactorHint)||void 0===_?void 0:_.uid)||z.multiFactorUid;return I(He,m,"missing-multi-factor-info"),(yield function TS(m,u){return Ae(m,"POST","/v2/accounts/mfaSignIn:start",tt(m,u))}(m,{mfaPendingCredential:Ce.credential,mfaEnrollmentId:He,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ce}=yield function dd(m,u){return Xg.apply(this,arguments)}(m,{phoneNumber:z.phoneNumber,recaptchaToken:D});return Ce}}finally{h._reset()}}),xd.apply(this,arguments)}function No(m,u){return I_.apply(this,arguments)}function I_(){return(I_=(0,T.Z)(function*(m,u){const h=(0,E.m9)(m);if((0,H._isFirebaseServerApp)(h.auth.app))return Promise.reject(kt(h.auth));yield i_(h,u)})).apply(this,arguments)}let ww=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=Li(h)}verifyPhoneNumber(h,_){return wd(this.auth,h,(0,E.m9)(_))}static credential(h,_){return $s._fromVerification(h,_)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:_,temporaryProof:D}=h;return _&&D?$s._fromTokenResponse(_,D):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Is(m,u){return u?Ft(u):(I(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class wo extends cc{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return ja(u,this._buildIdpRequest())}_linkToIdToken(u,h){return ja(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return ja(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function OS(m){return s_(m.auth,new wo(m),m.bypassAuthState)}function FS(m){const{auth:u,user:h}=m;return I(h,u,"internal-error"),Y0(h,new wo(m),m.bypassAuthState)}function NS(m){return _a.apply(this,arguments)}function _a(){return(_a=(0,T.Z)(function*(m){const{auth:u,user:h}=m;return I(h,u,"internal-error"),i_(h,new wo(m),m.bypassAuthState)})).apply(this,arguments)}class S_{constructor(u,h,_,D,z=!1){this.auth=u,this.resolver=_,this.user=D,this.bypassAuthState=z,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,T.Z)(function*(_,D){u.pendingPromise={resolve:_,reject:D};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(z){u.reject(z)}});return function(_,D){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,T.Z)(function*(){const{urlResponse:_,sessionId:D,postBody:z,tenantId:Ce,error:He,type:ht}=u;if(He)return void h.reject(He);const Gt={auth:h.auth,requestUri:_,sessionId:D,tenantId:Ce||void 0,postBody:z||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(ht)(Gt))}catch(nn){h.reject(nn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return OS;case"linkViaPopup":case"linkViaRedirect":return NS;case"reauthViaPopup":case"reauthViaRedirect":return FS;default:ot(this.auth,"internal-error")}}resolve(u){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LS=new Be(2e3,1e4);function xw(m,u,h){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,T.Z)(function*(m,u,h){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(je(m,"operation-not-supported-in-this-environment"));const _=Li(m);re(m,u,Dr);const D=Is(_,h);return new Ew(_,"signInViaPopup",u,D).executeNotNull()})).apply(this,arguments)}function Cw(m,u,h){return T_.apply(this,arguments)}function T_(){return(T_=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);if((0,H._isFirebaseServerApp)(_.auth.app))return Promise.reject(je(_.auth,"operation-not-supported-in-this-environment"));re(_.auth,u,Dr);const D=Is(_.auth,h);return new Ew(_.auth,"reauthViaPopup",u,D,_).executeNotNull()})).apply(this,arguments)}function vn(m,u,h){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);re(_.auth,u,Dr);const D=Is(_.auth,h);return new Ew(_.auth,"linkViaPopup",u,D,_).executeNotNull()})).apply(this,arguments)}let Ew=(()=>{class m extends S_{constructor(h,_,D,z,Ce){super(h,_,z,Ce),this.provider=D,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,T.Z)(function*(){const _=yield h.execute();return I(_,h.auth,"internal-error"),_})()}onExecution(){var h=this;return(0,T.Z)(function*(){Ht(1===h.filter.length,"Popup operations only handle one event");const _=vd();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],_),h.authWindow.associatedEvent=_,h.resolver._originValidation(h.auth).catch(D=>{h.reject(D)}),h.resolver._isIframeWebStorageSupported(h.auth,D=>{D||h.reject(je(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var _,D;this.pollId=null!==(D=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,LS.get())};h()}}return m.currentPopupAction=null,m})();const VS="pendingRedirect",Hu=new Map;class BS extends S_{constructor(u,h,_=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,_),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,T.Z)(function*(){let _=Hu.get(h.auth._key());if(!_){try{const z=(yield function Dw(m,u){return El.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;_=()=>Promise.resolve(z)}catch(D){_=()=>Promise.reject(D)}Hu.set(h.auth._key(),_)}return h.bypassAuthState||Hu.set(h.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,_=this;return(0,T.Z)(function*(){if("signInViaRedirect"===u.type)return h().call(_,u);if("unknown"!==u.type){if(u.eventId){const D=yield _.auth._redirectUserForId(u.eventId);if(D)return _.user=D,h().call(_,u);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,T.Z)(function*(){})()}cleanUp(){}}function El(){return(El=(0,T.Z)(function*(m,u){const h=pt(u),_=Sw(m);if(!(yield _._isAvailable()))return!1;const D="true"===(yield _._get(h));return yield _._remove(h),D})).apply(this,arguments)}function A_(m,u){return k_.apply(this,arguments)}function k_(){return(k_=(0,T.Z)(function*(m,u){return Sw(m)._set(pt(u),"true")})).apply(this,arguments)}function US(){Hu.clear()}function Iw(m,u){Hu.set(m._key(),u)}function Sw(m){return Ft(m._redirectPersistence)}function pt(m){return Yn(VS,m.config.apiKey,m.name)}function Jn(m,u,h){return function Xe(m,u,h){return Ye.apply(this,arguments)}(m,u,h)}function Ye(){return(Ye=(0,T.Z)(function*(m,u,h){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _=Li(m);re(m,u,Dr),yield _._initializationPromise;const D=Is(_,h);return yield A_(D,_),D._openRedirect(_,u,"signInViaRedirect")})).apply(this,arguments)}function Kr(m,u,h){return function Tw(m,u,h){return gc.apply(this,arguments)}(m,u,h)}function gc(){return(gc=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);if(re(_.auth,u,Dr),(0,H._isFirebaseServerApp)(_.auth.app))return Promise.reject(kt(_.auth));yield _.auth._initializationPromise;const D=Is(_.auth,h);yield A_(D,_.auth);const z=yield va(_);return D._openRedirect(_.auth,u,"reauthViaRedirect",z)})).apply(this,arguments)}function ya(m,u,h){return function M_(m,u,h){return Gu.apply(this,arguments)}(m,u,h)}function Gu(){return(Gu=(0,T.Z)(function*(m,u,h){const _=(0,E.m9)(m);re(_.auth,u,Dr),yield _.auth._initializationPromise;const D=Is(_.auth,h);yield Lf(!1,_,u.providerId),yield A_(D,_.auth);const z=yield va(_);return D._openRedirect(_.auth,u,"linkViaRedirect",z)})).apply(this,arguments)}function zS(m,u){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,T.Z)(function*(m,u){return yield Li(m)._initializationPromise,Jf(m,u,!1)})).apply(this,arguments)}function Jf(m,u){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,T.Z)(function*(m,u,h=!1){if((0,H._isFirebaseServerApp)(m.app))return Promise.reject(kt(m));const _=Li(m),D=Is(_,u),Ce=yield new BS(_,D,h).execute();return Ce&&!h&&(delete Ce.user._redirectEventId,yield _._persistUserIfCurrent(Ce.user),yield _._setRedirectUser(null,u)),Ce})).apply(this,arguments)}function va(m){return ep.apply(this,arguments)}function ep(){return(ep=(0,T.Z)(function*(m){const u=vd(`${m.uid}:::`);return m._redirectEventId=u,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),u})).apply(this,arguments)}class ba{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(u,_)&&(h=!0,this.sendToConsumer(u,_),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function jS(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return R_(m);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var _;if(u.error&&!R_(u)){const D=(null===(_=u.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";h.onError(je(this.auth,D))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const _=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&_}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kw(u))}saveEventToCache(u){this.cachedEventUids.add(kw(u)),this.lastProcessedEventTime=Date.now()}}function kw(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(u=>u).join("-")}function R_({type:m,error:u}){return"unknown"===m&&"auth/no-auth-event"===u?.code}function Mw(m){return $u.apply(this,arguments)}function $u(){return($u=(0,T.Z)(function*(m,u={}){return Ae(m,"GET","/v1/projects",u)})).apply(this,arguments)}const P_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rw=/^https?/;function F_(){return(F_=(0,T.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:u}=yield Mw(m);for(const h of u)try{if(Pw(h))return}catch{}ot(m,"unauthorized-domain")})).apply(this,arguments)}function Pw(m){const u=dt(),{protocol:h,hostname:_}=new URL(u);if(m.startsWith("chrome-extension://")){const Ce=new URL(m);return""===Ce.hostname&&""===_?"chrome-extension:"===h&&m.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&Ce.hostname===_}if(!Rw.test(h))return!1;if(P_.test(m))return _===m;const D=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(_)}const N_=new Be(3e4,6e4);function L_(){const m=mr().___jsl;if(m?.H)for(const u of Object.keys(m.H))if(m.H[u].r=m.H[u].r||[],m.H[u].L=m.H[u].L||[],m.H[u].r=[...m.H[u].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let qu=null;const V_=new Be(5e3,15e3),HS="__/auth/iframe",GS="emulator/auth/iframe",xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_c=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $i(m){const u=m.config;I(u.authDomain,m,"auth-domain-config-required");const h=u.emulator?Ee(u,GS):`https://${m.config.authDomain}/${HS}`,_={apiKey:u.apiKey,appName:m.name,v:H.SDK_VERSION},D=_c.get(m.config.apiHost);D&&(_.eid=D);const z=m._getFrameworks();return z.length&&(_.fw=z.join(",")),`${h}?${(0,E.xO)(_).slice(1)}`}function B_(){return B_=(0,T.Z)(function*(m){const u=yield function Fw(m){return qu=qu||function Ow(m){return new Promise((u,h)=>{var _,D,z;function Ce(){L_(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{L_(),h(je(m,"network-request-failed"))},timeout:N_.get()})}if(null!==(D=null===(_=mr().gapi)||void 0===_?void 0:_.iframes)&&void 0!==D&&D.Iframe)u(gapi.iframes.getContext());else{if(null===(z=mr().gapi)||void 0===z||!z.load){const He=V0("iframefcb");return mr()[He]=()=>{gapi.load?Ce():h(je(m,"network-request-failed"))},L0(`${function Z2(){return xf.gapiScript}()}?onload=${He}`).catch(ht=>h(ht))}Ce()}}).catch(u=>{throw qu=null,u})}(m),qu}(m),h=mr().gapi;return I(h,m,"internal-error"),u.open({where:document.body,url:$i(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},_=>new Promise(function(){var D=(0,T.Z)(function*(z,Ce){yield _.restyle({setHideOnLeave:!1});const He=je(m,"network-request-failed"),ht=mr().setTimeout(()=>{Ce(He)},V_.get());function Gt(){mr().clearTimeout(ht),z(_)}_.ping(Gt).then(Gt,()=>{Ce(He)})});return function(z,Ce){return D.apply(this,arguments)}}()))}),B_.apply(this,arguments)}const tp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ga{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rp="__/auth/handler",op="emulator/auth/handler",U_=encodeURIComponent("fac");function sp(m,u,h,_,D,z){return ap.apply(this,arguments)}function ap(){return(ap=(0,T.Z)(function*(m,u,h,_,D,z){I(m.config.authDomain,m,"auth-domain-config-required"),I(m.config.apiKey,m,"invalid-api-key");const Ce={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:_,v:H.SDK_VERSION,eventId:D};if(u instanceof Dr){u.setDefaultLanguage(m.languageCode),Ce.providerId=u.providerId||"",(0,E.xb)(u.getCustomParameters())||(Ce.customParameters=JSON.stringify(u.getCustomParameters()));for(const[nn,zn]of Object.entries(z||{}))Ce[nn]=zn}if(u instanceof yo){const nn=u.getScopes().filter(zn=>""!==zn);nn.length>0&&(Ce.scopes=nn.join(","))}m.tenantId&&(Ce.tid=m.tenantId);const He=Ce;for(const nn of Object.keys(He))void 0===He[nn]&&delete He[nn];const ht=yield m._getAppCheckToken(),Gt=ht?`#${U_}=${encodeURIComponent(ht)}`:"";return`${function WS({config:m}){return m.emulator?Ee(m,op):`https://${m.authDomain}/${rp}`}(m)}?${(0,E.xO)(He).slice(1)}${Gt}`})).apply(this,arguments)}const Dl="webStorageSupport",Vw=class Wu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yd,this._completeRedirectFn=Jf,this._overrideRedirectResult=Iw}_openPopup(u,h,_,D){var z=this;return(0,T.Z)(function*(){var Ce;Ht(null===(Ce=z.eventManagers[u._key()])||void 0===Ce?void 0:Ce.manager,"_initialize() not called before _openPopup()");const He=yield sp(u,h,_,dt(),D);return function qS(m,u,h,_=500,D=600){const z=Math.max((window.screen.availHeight-D)/2,0).toString(),Ce=Math.max((window.screen.availWidth-_)/2,0).toString();let He="";const ht=Object.assign(Object.assign({},tp),{width:_.toString(),height:D.toString(),top:z,left:Ce}),Gt=(0,E.z$)().toLowerCase();h&&(He=sc(Gt)?"_blank":h),Xt(Gt)&&(u=u||"http://localhost",ht.scrollbars="yes");const nn=Object.entries(ht).reduce((Yr,[Lo,dp])=>`${Yr}${Lo}=${dp},`,"");if(function X(m=(0,E.z$)()){var u;return ac(m)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Gt)&&"_self"!==He)return function ip(m,u){const h=document.createElement("a");h.href=m,h.target=u;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(_)}(u||"",He),new Ga(null);const zn=window.open(u||"",He,nn);I(zn,m,"popup-blocked");try{zn.focus()}catch{}return new Ga(zn)}(u,He,vd())})()}_openRedirect(u,h,_,D){var z=this;return(0,T.Z)(function*(){return yield z._originValidation(u),function g_(m){mr().location.href=m}(yield sp(u,h,_,dt(),D)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:D,promise:z}=this.eventManagers[h];return D?Promise.resolve(D):(Ht(z,"If manager is not set, promise should be"),z)}const _=this.initAndGetManager(u);return this.eventManagers[h]={promise:_},_.catch(()=>{delete this.eventManagers[h]}),_}initAndGetManager(u){var h=this;return(0,T.Z)(function*(){const _=yield function yc(m){return B_.apply(this,arguments)}(u),D=new ba(u);return _.register("authEvent",z=>(I(z?.authEvent,u,"invalid-auth-event"),{status:D.onEvent(z.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:D},h.iframes[u._key()]=_,D})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(Dl,{type:Dl},D=>{var z;const Ce=null===(z=D?.[0])||void 0===z?void 0:z[Dl];void 0!==Ce&&h(!!Ce),ot(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function O_(m){return F_.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return Oe()||zr()||ac()}};class gN{constructor(u){this.factorId=u}_process(u,h,_){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,_);case"signin":return this._finalizeSignIn(u,h.credential);default:return nt("unexpected MultiFactorSessionType")}}}class Ku extends gN{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Ku(u)}_finalizeEnroll(u,h,_){return function cN(m,u){return Ae(m,"POST","/v2/accounts/mfaEnrollment:finalize",tt(m,u))}(u,{idToken:h,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function hw(m,u){return Ae(m,"POST","/v2/accounts/mfaSignIn:finalize",tt(m,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let _N=(()=>{class m{constructor(){}static assertion(h){return Ku._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var lp="@firebase/auth";class ZS{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,T.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(_=>{u(_?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,E.Pz)("authIdTokenMaxAge"),function W2(m){xf=m}({loadJS:m=>new Promise((u,h)=>{const _=document.createElement("script");_.setAttribute("src",m),_.onload=u,_.onerror=D=>{const z=je("internal-error");z.customData=D,h(z)},_.type="text/javascript",_.charset="UTF-8",function wa(){var m,u;return null!==(u=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==u?u:document}().appendChild(_)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function H_(m){(0,H._registerComponent)(new fe.wA("auth",(u,{options:h})=>{const _=u.getProvider("app").getImmediate(),D=u.getProvider("heartbeat"),z=u.getProvider("app-check-internal"),{apiKey:Ce,authDomain:He}=_.options;I(Ce&&!Ce.includes(":"),"invalid-api-key",{appName:_.name});const ht={apiKey:Ce,authDomain:He,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xn(m)},Gt=new lc(_,D,z,ht);return function _S(m,u){const h=u?.persistence||[],_=(Array.isArray(h)?h:[h]).map(Ft);u?.errorMap&&m._updateErrorMap(u.errorMap),m._initializeWithPersistence(_,u?.popupRedirectResolver)}(Gt,h),Gt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,_)=>{u.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new fe.wA("auth-internal",u=>{const h=Li(u.getProvider("auth").getImmediate());return new ZS(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(lp,"1.7.4",function Zu(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,H.registerVersion)(lp,"1.7.4","esm2017")}("Browser")},229:(mo,ve,ze)=>{"use strict";ze.d(ve,{BH:()=>xt,DV:()=>De,Dv:()=>er,G6:()=>Be,GJ:()=>ee,L:()=>le,LL:()=>Ae,Pz:()=>je,Sg:()=>kt,UG:()=>I,UI:()=>ft,US:()=>fe,Wj:()=>ns,Wl:()=>zt,Yr:()=>Ze,ZB:()=>N,ZR:()=>tt,aH:()=>ot,b$:()=>dt,cI:()=>We,dS:()=>go,eu:()=>we,g5:()=>E,gK:()=>yi,gQ:()=>wn,h$:()=>ce,hl:()=>Ee,hu:()=>H,jU:()=>nt,lb:()=>oi,m9:()=>za,ne:()=>hi,p$:()=>U,pd:()=>Pn,r3:()=>Q,ru:()=>Ht,tV:()=>M,uI:()=>Je,ug:()=>Ro,vZ:()=>Ne,w1:()=>wt,w9:()=>Re,xO:()=>Et,xb:()=>ct,z$:()=>re,zd:()=>Qt});const T={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},H=function(ge,ae){if(!ge)throw E(ae)},E=function(ge){return new Error("Firebase Database ("+T.SDK_VERSION+") INTERNAL ASSERT FAILED: "+ge)},V=function(ge){const ae=[];let B=0;for(let j=0;j<ge.length;j++){let P=ge.charCodeAt(j);P<128?ae[B++]=P:P<2048?(ae[B++]=P>>6|192,ae[B++]=63&P|128):55296==(64512&P)&&j+1<ge.length&&56320==(64512&ge.charCodeAt(j+1))?(P=65536+((1023&P)<<10)+(1023&ge.charCodeAt(++j)),ae[B++]=P>>18|240,ae[B++]=P>>12&63|128,ae[B++]=P>>6&63|128,ae[B++]=63&P|128):(ae[B++]=P>>12|224,ae[B++]=P>>6&63|128,ae[B++]=63&P|128)}return ae},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,ae){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let P=0;P<ge.length;P+=3){const ne=ge[P],lt=P+1<ge.length,Ft=lt?ge[P+1]:0,St=P+2<ge.length,dn=St?ge[P+2]:0;let si=(15&Ft)<<2|dn>>6,Xt=63&dn;St||(Xt=64,lt||(si=64)),j.push(B[ne>>2],B[(3&ne)<<4|Ft>>4],B[si],B[Xt])}return j.join("")},encodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(ge):this.encodeByteArray(V(ge),ae)},decodeString(ge,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(ge):function(ge){const ae=[];let B=0,j=0;for(;B<ge.length;){const P=ge[B++];if(P<128)ae[j++]=String.fromCharCode(P);else if(P>191&&P<224){const ne=ge[B++];ae[j++]=String.fromCharCode((31&P)<<6|63&ne)}else if(P>239&&P<365){const St=((7&P)<<18|(63&ge[B++])<<12|(63&ge[B++])<<6|63&ge[B++])-65536;ae[j++]=String.fromCharCode(55296+(St>>10)),ae[j++]=String.fromCharCode(56320+(1023&St))}else{const ne=ge[B++],lt=ge[B++];ae[j++]=String.fromCharCode((15&P)<<12|(63&ne)<<6|63&lt)}}return ae.join("")}(this.decodeStringToByteArray(ge,ae))},decodeStringToByteArray(ge,ae){this.init_();const B=ae?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let P=0;P<ge.length;){const ne=B[ge.charAt(P++)],Ft=P<ge.length?B[ge.charAt(P)]:0;++P;const dn=P<ge.length?B[ge.charAt(P)]:64;++P;const Nt=P<ge.length?B[ge.charAt(P)]:64;if(++P,null==ne||null==Ft||null==dn||null==Nt)throw new _e;j.push(ne<<2|Ft>>4),64!==dn&&(j.push(Ft<<4&240|dn>>2),64!==Nt&&j.push(dn<<6&192|Nt))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ce=function(ge){const ae=V(ge);return fe.encodeByteArray(ae,!0)},le=function(ge){return ce(ge).replace(/\./g,"")},M=function(ge){try{return fe.decodeString(ge,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function U(ge){return N(void 0,ge)}function N(ge,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return ae}for(const B in ae)!ae.hasOwnProperty(B)||!q(B)||(ge[B]=N(ge[B],ae[B]));return ge}function q(ge){return"__proto__"!==ge}const be=()=>{try{return function $(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=ge&&M(ge[1]);return ae&&JSON.parse(ae)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},ot=()=>{var ge;return null===(ge=be())||void 0===ge?void 0:ge.config},je=ge=>{var ae;return null===(ae=be())||void 0===ae?void 0:ae[`_${ge}`]};class xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,B)=>{this.resolve=ae,this.reject=B})}wrapCallback(ae){return(B,j)=>{B?this.reject(B):this.resolve(j),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(B):ae(B,j))}}}function kt(ge,ae){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=ae||"demo-project",P=ge.iat||0,ne=ge.sub||ge.user_id;if(!ne)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const lt=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:P,exp:P+3600,auth_time:P,sub:ne,user_id:ne,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(lt)),""].join(".")}function re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function I(){var ge;const ae=null===(ge=be())||void 0===ge?void 0:ge.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ht(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wt(){const ge=re();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function Ze(){return!0===T.NODE_CLIENT||!0===T.NODE_ADMIN}function Be(){return!I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ee(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((ge,ae)=>{try{let B=!0;const j="validate-browser-context-for-indexeddb-analytics-module",P=self.indexedDB.open(j);P.onsuccess=()=>{P.result.close(),B||self.indexedDB.deleteDatabase(j),ge(!0)},P.onupgradeneeded=()=>{B=!1},P.onerror=()=>{var ne;ae((null===(ne=P.error)||void 0===ne?void 0:ne.message)||"")}}catch(B){ae(B)}})}class tt extends Error{constructor(ae,B,j){super(B),this.code=ae,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(ae,B,j){this.service=ae,this.serviceName=B,this.errors=j}create(ae,...B){const j=B[0]||{},P=`${this.service}/${ae}`,ne=this.errors[ae],lt=ne?function ut(ge,ae){return ge.replace(an,(B,j)=>{const P=ae[j];return null!=P?String(P):`<${j}?>`})}(ne,j):"Error";return new tt(P,`${this.serviceName}: ${lt} (${P}).`,j)}}const an=/\{\$([^}]+)}/g;function We(ge){return JSON.parse(ge)}function zt(ge){return JSON.stringify(ge)}const yn=function(ge){let ae={},B={},j={},P="";try{const ne=ge.split(".");ae=We(M(ne[0])||""),B=We(M(ne[1])||""),P=ne[2],j=B.d||{},delete B.d}catch{}return{header:ae,claims:B,data:j,signature:P}},Re=function(ge){const B=yn(ge).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},ee=function(ge){const ae=yn(ge).claims;return"object"==typeof ae&&!0===ae.admin};function Q(ge,ae){return Object.prototype.hasOwnProperty.call(ge,ae)}function De(ge,ae){if(Object.prototype.hasOwnProperty.call(ge,ae))return ge[ae]}function ct(ge){for(const ae in ge)if(Object.prototype.hasOwnProperty.call(ge,ae))return!1;return!0}function ft(ge,ae,B){const j={};for(const P in ge)Object.prototype.hasOwnProperty.call(ge,P)&&(j[P]=ae.call(B,ge[P],P,ge));return j}function Ne(ge,ae){if(ge===ae)return!0;const B=Object.keys(ge),j=Object.keys(ae);for(const P of B){if(!j.includes(P))return!1;const ne=ge[P],lt=ae[P];if(at(ne)&&at(lt)){if(!Ne(ne,lt))return!1}else if(ne!==lt)return!1}for(const P of j)if(!B.includes(P))return!1;return!0}function at(ge){return null!==ge&&"object"==typeof ge}function Et(ge){const ae=[];for(const[B,j]of Object.entries(ge))Array.isArray(j)?j.forEach(P=>{ae.push(encodeURIComponent(B)+"="+encodeURIComponent(P))}):ae.push(encodeURIComponent(B)+"="+encodeURIComponent(j));return ae.length?"&"+ae.join("&"):""}function Qt(ge){const ae={};return ge.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[P,ne]=j.split("=");ae[decodeURIComponent(P)]=decodeURIComponent(ne)}}),ae}function Pn(ge){const ae=ge.indexOf("?");if(!ae)return"";const B=ge.indexOf("#",ae);return ge.substring(ae,B>0?B:void 0)}class wn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,B){B||(B=0);const j=this.W_;if("string"==typeof ae)for(let Nt=0;Nt<16;Nt++)j[Nt]=ae.charCodeAt(B)<<24|ae.charCodeAt(B+1)<<16|ae.charCodeAt(B+2)<<8|ae.charCodeAt(B+3),B+=4;else for(let Nt=0;Nt<16;Nt++)j[Nt]=ae[B]<<24|ae[B+1]<<16|ae[B+2]<<8|ae[B+3],B+=4;for(let Nt=16;Nt<80;Nt++){const si=j[Nt-3]^j[Nt-8]^j[Nt-14]^j[Nt-16];j[Nt]=4294967295&(si<<1|si>>>31)}let dn,Yn,P=this.chain_[0],ne=this.chain_[1],lt=this.chain_[2],Ft=this.chain_[3],St=this.chain_[4];for(let Nt=0;Nt<80;Nt++){Nt<40?Nt<20?(dn=Ft^ne&(lt^Ft),Yn=1518500249):(dn=ne^lt^Ft,Yn=1859775393):Nt<60?(dn=ne&lt|Ft&(ne|lt),Yn=2400959708):(dn=ne^lt^Ft,Yn=3395469782);const si=(P<<5|P>>>27)+dn+St+Yn+j[Nt]&4294967295;St=Ft,Ft=lt,lt=4294967295&(ne<<30|ne>>>2),ne=P,P=si}this.chain_[0]=this.chain_[0]+P&4294967295,this.chain_[1]=this.chain_[1]+ne&4294967295,this.chain_[2]=this.chain_[2]+lt&4294967295,this.chain_[3]=this.chain_[3]+Ft&4294967295,this.chain_[4]=this.chain_[4]+St&4294967295}update(ae,B){if(null==ae)return;void 0===B&&(B=ae.length);const j=B-this.blockSize;let P=0;const ne=this.buf_;let lt=this.inbuf_;for(;P<B;){if(0===lt)for(;P<=j;)this.compress_(ae,P),P+=this.blockSize;if("string"==typeof ae){for(;P<B;)if(ne[lt]=ae.charCodeAt(P),++lt,++P,lt===this.blockSize){this.compress_(ne),lt=0;break}}else for(;P<B;)if(ne[lt]=ae[P],++lt,++P,lt===this.blockSize){this.compress_(ne),lt=0;break}}this.inbuf_=lt,this.total_+=B}digest(){const ae=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let P=this.blockSize-1;P>=56;P--)this.buf_[P]=255&B,B/=256;this.compress_(this.buf_);let j=0;for(let P=0;P<5;P++)for(let ne=24;ne>=0;ne-=8)ae[j]=this.chain_[P]>>ne&255,++j;return ae}}function hi(ge,ae){const B=new dr(ge,ae);return B.subscribe.bind(B)}class dr{constructor(ae,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ae(this)}).catch(j=>{this.error(j)})}next(ae){this.forEachObserver(B=>{B.next(ae)})}error(ae){this.forEachObserver(B=>{B.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,B,j){let P;if(void 0===ae&&void 0===B&&void 0===j)throw new Error("Missing Observer.");P=function ur(ge,ae){if("object"!=typeof ge||null===ge)return!1;for(const B of ae)if(B in ge&&"function"==typeof ge[B])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:B,complete:j},void 0===P.next&&(P.next=mn),void 0===P.error&&(P.error=mn),void 0===P.complete&&(P.complete=mn);const ne=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?P.error(this.finalError):P.complete()}catch{}}),this.observers.push(P),ne}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ae)}sendOne(ae,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{B(this.observers[ae])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mn(){}const er=function(ge,ae,B,j){let P;if(j<ae?P="at least "+ae:j>B&&(P=0===B?"none":"no more than "+B),P)throw new Error(ge+" failed: Was called with "+j+(1===j?" argument.":" arguments.")+" Expects "+P+".")};function yi(ge,ae){return`${ge} failed: ${ae} argument `}function ns(ge,ae,B,j){if((!j||B)&&"function"!=typeof B)throw new Error(yi(ge,ae)+"must be a valid function.")}function oi(ge,ae,B,j){if((!j||B)&&("object"!=typeof B||null===B))throw new Error(yi(ge,ae)+"must be a valid context object.")}const go=function(ge){const ae=[];let B=0;for(let j=0;j<ge.length;j++){let P=ge.charCodeAt(j);if(P>=55296&&P<=56319){const ne=P-55296;j++,H(j<ge.length,"Surrogate pair missing trail surrogate."),P=65536+(ne<<10)+(ge.charCodeAt(j)-56320)}P<128?ae[B++]=P:P<2048?(ae[B++]=P>>6|192,ae[B++]=63&P|128):P<65536?(ae[B++]=P>>12|224,ae[B++]=P>>6&63|128,ae[B++]=63&P|128):(ae[B++]=P>>18|240,ae[B++]=P>>12&63|128,ae[B++]=P>>6&63|128,ae[B++]=63&P|128)}return ae},Ro=function(ge){let ae=0;for(let B=0;B<ge.length;B++){const j=ge.charCodeAt(B);j<128?ae++:j<2048?ae+=2:j>=55296&&j<=56319?(ae+=4,B++):ae+=3}return ae};function za(ge){return ge&&ge._delegate?ge._delegate:ge}},783:(mo,ve,ze)=>{"use strict";function T(n){return"function"==typeof n}function H(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const E=H(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function V(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class K{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(T(i))try{i()}catch(o){t=o instanceof E?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{ce(o)}catch(s){t=t??[],s instanceof E?t=[...t,...s.errors]:t.push(s)}}if(t)throw new E(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ce(t);else{if(t instanceof K){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&V(e,t)}remove(t){const{_finalizers:e}=this;e&&V(e,t),t instanceof K&&t._removeParent(this)}}K.EMPTY=(()=>{const n=new K;return n.closed=!0,n})();const fe=K.EMPTY;function _e(n){return n instanceof K||n&&"closed"in n&&T(n.remove)&&T(n.add)&&T(n.unsubscribe)}function ce(n){T(n)?n():n.unsubscribe()}const le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout(n,t,...e){const{delegate:i}=M;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=M;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function U(n){M.setTimeout(()=>{const{onUnhandledError:t}=le;if(!t)throw n;t(n)})}function N(){}const q=pe("C",void 0,void 0);function pe(n,t,e){return{kind:n,value:t,error:e}}let xe=null;function be(n){if(le.useDeprecatedSynchronousErrorHandling){const t=!xe;if(t&&(xe={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=xe;if(xe=null,e)throw i}}else n()}class Ke extends K{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_e(t)&&t.add(this)):this.destination=nt}static create(t,e,i){return new kt(t,e,i)}next(t){this.isStopped?I(function oe(n){return pe("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?I(function $(n){return pe("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?I(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function je(n,t){return ot.call(n,t)}class xt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){re(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){re(i)}else re(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){re(e)}}}class kt extends Ke{constructor(t,e,i){let r;if(super(),T(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&le.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&je(t.next,o),error:t.error&&je(t.error,o),complete:t.complete&&je(t.complete,o)}):r=t}this.destination=new xt(r)}}function re(n){le.useDeprecatedSynchronousErrorHandling?function rt(n){le.useDeprecatedSynchronousErrorHandling&&xe&&(xe.errorThrown=!0,xe.error=n)}(n):U(n)}function I(n,t){const{onStoppedNotification:e}=le;e&&M.setTimeout(()=>e(n,t))}const nt={closed:!0,next:N,error:function Je(n){throw n},complete:N},Ht="function"==typeof Symbol&&Symbol.observable||"@@observable";function dt(n){return n}function on(...n){return wt(n)}function wt(n){return 0===n.length?dt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let mt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Ee(n){return n&&n instanceof Ke||function Be(n){return n&&T(n.next)&&T(n.error)&&T(n.complete)}(n)&&_e(n)}(e)?e:new kt(e,i,r);return be(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Ze(i))((r,o)=>{const s=new kt({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ht](){return this}pipe(...e){return wt(e)(this)}toPromise(e){return new(e=Ze(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Ze(n){var t;return null!==(t=n??le.Promise)&&void 0!==t?t:Promise}const we=H(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Z=(()=>{class n extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new qe(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new we}next(e){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){be(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?fe:(this.currentObservers=null,o.push(e),new K(()=>{this.currentObservers=null,V(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new mt;return e.source=this,e}}return n.create=(t,e)=>new qe(t,e),n})();class qe extends Z{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:fe}}function tt(n){return T(n?.lift)}function Ae(n){return t=>{if(tt(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(n,t,e,i,r){return new an(n,t,e,i,r)}class an extends Ke{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function We(n,t){return Ae((e,i)=>{let r=0;e.subscribe(ut(i,o=>{i.next(n.call(t,o,r++))}))})}var zt=ze(582);const yn=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function A(n){return T(n?.then)}function st(n){return T(n[Ht])}function Re(n){return Symbol.asyncIterator&&T(n?.[Symbol.asyncIterator])}function ee(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const De=function Q(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ct(n){return T(n?.[De])}function ft(n){return(0,zt.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,zt.qq)(e.read());if(r)return yield(0,zt.qq)(void 0);yield yield(0,zt.qq)(i)}}finally{e.releaseLock()}})}function Ne(n){return T(n?.getReader)}function at(n){if(n instanceof mt)return n;if(null!=n){if(st(n))return function Rt(n){return new mt(t=>{const e=n[Ht]();if(T(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yn(n))return function Et(n){return new mt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(A(n))return function Qt(n){return new mt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,U)})}(n);if(Re(n))return wn(n);if(ct(n))return function Pn(n){return new mt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ne(n))return function hi(n){return wn(ft(n))}(n)}throw ee(n)}function wn(n){return new mt(t=>{(function dr(n,t){var e,i,r,o;return(0,zt.mG)(this,void 0,void 0,function*(){try{for(e=(0,zt.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Qn(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function mn(n,t,e=1/0){return T(t)?mn((i,r)=>We((o,s)=>t(i,o,r,s))(at(n(i,r))),e):("number"==typeof t&&(e=t),Ae((i,r)=>function ur(n,t,e,i,r,o,s,a){const l=[];let c=0,d=0,f=!1;const g=()=>{f&&!l.length&&!c&&t.complete()},y=R=>c<i?C(R):l.push(R),C=R=>{o&&t.next(R),c++;let F=!1;at(e(R,d++)).subscribe(ut(t,te=>{r?.(te),o?y(te):t.next(te)},()=>{F=!0},void 0,()=>{if(F)try{for(c--;l.length&&c<i;){const te=l.shift();s?Qn(t,s,()=>C(te)):C(te)}g()}catch(te){t.error(te)}}))};return n.subscribe(ut(t,y,()=>{f=!0,g()})),()=>{a?.()}}(i,r,n,e)))}function er(n=1/0){return mn(dt,n)}const yi=new mt(n=>n.complete());function oi(n){return n&&T(n.schedule)}function go(n){return n[n.length-1]}function Ro(n){return T(go(n))?n.pop():void 0}function Fi(n){return oi(go(n))?n.pop():void 0}function vi(n,t=0){return Ae((e,i)=>{e.subscribe(ut(i,r=>Qn(i,n,()=>i.next(r),t),()=>Qn(i,n,()=>i.complete(),t),r=>Qn(i,n,()=>i.error(r),t)))})}function _o(n,t=0){return Ae((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function za(n,t){if(!n)throw new Error("Iterable cannot be null");return new mt(e=>{Qn(e,t,()=>{const i=n[Symbol.asyncIterator]();Qn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function B(n,t){return t?function ae(n,t){if(null!=n){if(st(n))return function Ua(n,t){return at(n).pipe(_o(t),vi(t))}(n,t);if(yn(n))return function fl(n,t){return new mt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(A(n))return function hl(n,t){return at(n).pipe(_o(t),vi(t))}(n,t);if(Re(n))return za(n,t);if(ct(n))return function pl(n,t){return new mt(e=>{let i;return Qn(e,t,()=>{i=n[De](),Qn(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>T(i?.return)&&i.return()})}(n,t);if(Ne(n))return function ge(n,t){return za(ft(n),t)}(n,t)}throw ee(n)}(n,t):at(n)}function j(...n){const t=Fi(n),e=function Ni(n,t){return"number"==typeof go(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?at(i[0]):er(e)(B(i,t)):yi}class P extends Z{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function ne(...n){return B(n,Fi(n))}function lt(n={}){const{connector:t=(()=>new Z),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,d=!1,f=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),s=l=void 0,d=f=!1},C=()=>{const R=s;y(),R?.unsubscribe()};return Ae((R,F)=>{c++,!f&&!d&&g();const te=l=l??t();F.add(()=>{c--,0===c&&!f&&!d&&(a=Ft(C,r))}),te.subscribe(F),!s&&c>0&&(s=new kt({next:ie=>te.next(ie),error:ie=>{f=!0,g(),a=Ft(y,e,ie),te.error(ie)},complete:()=>{d=!0,g(),a=Ft(y,i),te.complete()}}),at(R).subscribe(s))})(o)}}function Ft(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new kt({next:()=>{i.unsubscribe(),n()}});return t(...e).subscribe(i)}function St(n,t){return Ae((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ut(i,l=>{r?.unsubscribe();let c=0;const d=o++;at(n(l,d)).subscribe(r=ut(i,f=>i.next(t?t(l,f,d,c++):f),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function dn(n,t=dt){return n=n??Yn,Ae((e,i)=>{let r,o=!0;e.subscribe(ut(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Yn(n,t){return n===t}function Nt(n){for(let t in n)if(n[t]===Nt)return t;throw Error("Could not find renamed property on target object.")}function si(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Xt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Xt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function zr(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const sc=Nt({__forward_ref__:Nt});function Xn(n){return n.__forward_ref__=Xn,n.toString=function(){return Xt(this())},n}function pn(n){return ld(n)?n():n}function ld(n){return"function"==typeof n&&n.hasOwnProperty(sc)&&n.__forward_ref__===Xn}function cd(n){return n&&!!n.\u0275providers}const wf="https://g.co/ng/security#xss";class X extends Error{constructor(t,e){super(function Me(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Oe(n){return"string"==typeof n?n:null==n?"":String(n)}function fi(n,t){throw new X(-201,!1)}function Cs(n,t){null==n&&function gn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Ge(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ef(n){return Gg(n,ku)||Gg(n,cc)}function Gg(n,t){return n.hasOwnProperty(t)?n[t]:null}function Df(n){return n&&(n.hasOwnProperty($g)||n.hasOwnProperty(z0))?n[$g]:null}const ku=Nt({\u0275prov:Nt}),$g=Nt({\u0275inj:Nt}),cc=Nt({ngInjectableDef:Nt}),z0=Nt({ngInjectorDef:Nt});var Vn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Vn||{});let qg;function Po(n){const t=qg;return qg=n,t}function Sf(n,t,e){const i=Ef(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Vn.Optional?null:void 0!==t?t:void fi(Xt(n))}const pi=globalThis;class Ue{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ge({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ru={},Pu="__NG_DI_FLAG__",gl="ngTempTokenPath",Qg=/\n/gm,Gs="__source";let dd;function _l(n){const t=dd;return dd=n,t}function Jg(n,t=Vn.Default){if(void 0===dd)throw new X(-203,!1);return null===dd?Sf(n,void 0,t):dd.get(n,t&Vn.Optional?null:void 0,t)}function Y(n,t=Vn.Default){return(function If(){return qg}()||Jg)(pn(n),t)}function Tt(n,t=Vn.Default){return Y(n,kf(t))}function kf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ou(n){const t=[];for(let e=0;e<n.length;e++){const i=pn(n[e]);if(Array.isArray(i)){if(0===i.length)throw new X(900,!1);let r,o=Vn.Default;for(let s=0;s<i.length;s++){const a=i[s],l=vS(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(Y(r,o))}else t.push(Y(i))}return t}function $s(n,t){return n[Pu]=t,n.prototype[Pu]=t,n}function vS(n){return n[Pu]}function yl(n){return{toString:n}.toString()}var ud=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(ud||{}),Dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dr||{});const yo={},Wn=[],Mf=Nt({\u0275cmp:Nt}),e_=Nt({\u0275dir:Nt}),t_=Nt({\u0275pipe:Nt}),q0=Nt({\u0275mod:Nt}),Oo=Nt({\u0275fac:Nt}),Nu=Nt({__NG_ELEMENT_ID__:Nt}),Lu=Nt({__NG_ENV_ID__:Nt});function W0(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Rf(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];is(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function Pf(n){return 3===n||4===n||6===n}function is(n){return 64===n.charCodeAt(0)}function hd(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||K0(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function K0(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Of="ng-template";function Ff(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==W0(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function n_(n){return 4===n.type&&n.value!==Of}function Z0(n,t,e){return t===(4!==n.type||e?n.value:Of)}function wS(n,t,e){let i=4;const r=n.attrs||[],o=function r_(n){for(let t=0;t<n.length;t++)if(Pf(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Z0(n,l,e)||""===l&&1===t.length){if(rs(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!Ff(n.attrs,c,e)){if(rs(i))return!1;s=!0}continue}const f=i_(8&i?"class":l,r,n_(n),e);if(-1===f){if(rs(i))return!1;s=!0;continue}if(""!==c){let g;g=f>o?"":r[f+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==W0(y,c,0)||2&i&&c!==g){if(rs(i))return!1;s=!0}}}}else{if(!s&&!rs(i)&&!rs(l))return!1;if(s&&rs(l))continue;s=!1,i=l|1&i}}return rs(i)||s}function rs(n){return 0==(1&n)}function i_(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Y0(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Nf(n,t,e=!1){for(let i=0;i<t.length;i++)if(wS(n,t[i],e))return!0;return!1}function o_(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function s_(n,t){return n?":not("+t.trim()+")":t}function a_(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!rs(s)&&(t+=s_(o,r),r=""),i=s,o=o||!rs(i);e++}return""!==r&&(t+=s_(o,r)),t}function It(n){return yl(()=>{const t=J0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ud.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,styles:n.styles||Wn,_:null,schemas:n.schemas||null,tView:null,id:""};Bf(e);const i=n.dependencies;return e.directiveDefs=Uf(i,!1),e.pipeDefs=Uf(i,!0),e.id=function xS(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Q0(n){return Kn(n)||Or(n)}function d_(n){return null!==n}function Zt(n){return yl(()=>({type:n.type,bootstrap:n.bootstrap||Wn,declarations:n.declarations||Wn,imports:n.imports||Wn,exports:n.exports||Wn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function X0(n,t){if(null==n)return yo;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function Se(n){return yl(()=>{const t=J0(n);return Bf(t),t})}function hr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kn(n){return n[Mf]||null}function Or(n){return n[e_]||null}function jr(n){return n[t_]||null}function vo(n,t){const e=n[q0]||null;if(!e&&!0===t)throw new Error(`Type ${Xt(n)} does not have '\u0275mod' property.`);return e}function J0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||yo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Wn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X0(n.inputs,t),outputs:X0(n.outputs)}}function Bf(n){n.features?.forEach(t=>t(n))}function Uf(n,t){if(!n)return null;const e=t?jr:Q0;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(d_)}const Vi=0,jt=1,Cn=2,Bi=3,os=4,Vu=5,Hr=6,fd=7,fr=8,pa=9,pd=10,En=11,dc=12,ew=13,bl=14,pr=15,uc=16,md=17,Es=18,Bu=19,zf=20,wl=21,qs=22,Uu=23,hc=24,Un=25,jf=1,Hf=2,ma=7,fc=9,Wr=11;function Fo(n){return Array.isArray(n)&&"object"==typeof n[jf]}function bo(n){return Array.isArray(n)&&!0===n[jf]}function tw(n){return 0!=(4&n.flags)}function gd(n){return n.componentOffset>-1}function f_(n){return 1==(1&n.flags)}function ss(n){return!!n.template}function p_(n){return 0!=(512&n[Cn])}function pc(n,t){return n.hasOwnProperty(Oo)?n[Oo]:null}let ro=null,yd=!1;function Ds(n){const t=ro;return ro=n,t}const sw={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function aw(n){if(!Cl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!lw(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function $f(n){n.dirty=!0,function mr(n){if(void 0===n.liveConsumerNode)return;const t=yd;yd=!0;try{for(const e of n.liveConsumerNode)e.dirty||$f(e)}finally{yd=t}}(n),n.consumerMarkedDirty?.(n)}function __(n){return n&&(n.nextProducerIndex=0),Ds(n)}function ju(n,t){if(Ds(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Cl(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)qf(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function lw(n){mc(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(aw(e),i!==e.version))return!0}return!1}function cw(n){if(mc(n),Cl(n))for(let t=0;t<n.producerNode.length;t++)qf(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function qf(n,t){if(function bd(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),mc(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)qf(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];mc(r),r.producerIndexOfThis[i]=t}}function Cl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function mc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Wf=null;function pw(n){const t=Ds(null);try{return n()}finally{Ds(t)}}const mw=()=>{},x_=(()=>({...sw,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:mw}))();class RS{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Di(){return gw}function gw(n){return n.type.prototype.ngOnChanges&&(n.setInput=PS),_w}function _w(){const n=vw(this),t=n?.current;if(t){const e=n.previous;if(e===yo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function PS(n,t,e,i){const r=this.declaredInputs[e],o=vw(n)||function C_(n,t){return n[yw]=t}(n,{previous:yo,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new RS(l&&l.currentValue,t,a===yo),n[i]=t}Di.ngInherit=!0;const yw="__ngSimpleChanges__";function vw(n){return n[yw]||null}const ga=function(n,t,e){},Yf="svg";function mi(n){for(;Array.isArray(n);)n=n[Vi];return n}function xd(n,t){return mi(t[n])}function No(n,t){return mi(t[n.index])}function ww(n,t){return n.data[t]}function Is(n,t){return n[t]}function wo(n,t){const e=t[n];return Fo(e)?e:e[Vi]}function _a(n,t){return null==t?null:n[t]}function S_(n){n[md]=0}function LS(n){1024&n[Cn]||(n[Cn]|=1024,Qf(n,1))}function xw(n){1024&n[Cn]&&(n[Cn]&=-1025,Qf(n,-1))}function Qf(n,t){let e=n[Bi];if(null===e)return;e[Vu]+=t;let i=e;for(e=e[Bi];null!==e&&(1===t&&1===i[Vu]||-1===t&&0===i[Vu]);)e[Vu]+=t,i=e,e=e[Bi]}const vn={lFrame:Ow(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dw(){return vn.bindingsEnabled}function El(){return null!==vn.skipHydrationRootTNode}function pt(){return vn.lFrame.lView}function Jn(){return vn.lFrame.tView}function Xe(n){return vn.lFrame.contextLView=n,n[fr]}function Ye(n){return vn.lFrame.contextLView=null,n}function Kr(){let n=Tw();for(;null!==n&&64===n.type;)n=n.parent;return n}function Tw(){return vn.lFrame.currentTNode}function ya(n,t){const e=vn.lFrame;e.currentTNode=n,e.isParent=t}function M_(){return vn.lFrame.isParent}function Gu(){vn.lFrame.isParent=!1}function Zr(){const n=vn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function va(){return vn.lFrame.bindingIndex}function Cd(){return vn.lFrame.bindingIndex++}function ba(n){const t=vn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function jS(n,t){const e=vn.lFrame;e.bindingIndex=e.bindingRootIndex=n,$u(t)}function $u(n){vn.lFrame.currentDirectiveIndex=n}function P_(n){const t=vn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Rw(){return vn.lFrame.currentQueryIndex}function O_(n){vn.lFrame.currentQueryIndex=n}function F_(n){const t=n[jt];return 2===t.type?t.declTNode:1===t.type?n[Hr]:null}function Pw(n,t,e){if(e&Vn.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Vn.Host||(r=F_(o),null===r||(o=o[bl],10&r.type))););if(null===r)return!1;t=r,n=o}const i=vn.lFrame=L_();return i.currentTNode=t,i.lView=n,!0}function N_(n){const t=L_(),e=n[jt];vn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function L_(){const n=vn.lFrame,t=null===n?null:n.child;return null===t?Ow(n):t}function Ow(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function qu(){const n=vn.lFrame;return vn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Fw=qu;function V_(){const n=qu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function xo(){return vn.lFrame.selectedIndex}function _c(n){vn.lFrame.selectedIndex=n}function $i(){const n=vn.lFrame;return ww(n.tView,n.selectedIndex)}function yc(){vn.lFrame.currentNamespace=Yf}function tp(){!function $S(){vn.lFrame.currentNamespace=null}()}let Lw=!0;function np(){return Lw}function Ga(n){Lw=n}function ip(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function rp(n,t,e){sp(n,t,3,e)}function op(n,t,e,i){(3&n[Cn])===e&&sp(n,t,e,i)}function U_(n,t){let e=n[Cn];(3&e)===t&&(e&=8191,e+=1,n[Cn]=e)}function sp(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[md]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[md]+=65536),(a<o||-1==o)&&(WS(n,e,t,l),n[md]=(4294901760&n[md])+l+2),l++}function ap(n,t){ga(4,n,t);const e=Ds(null);try{t.call(n)}finally{Ds(e),ga(5,n,t)}}function WS(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[Cn]>>13<n[md]>>16&&(3&n[Cn])===t&&(n[Cn]+=8192,ap(a,o)):ap(a,o)}const Dl=-1;class Wu{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function lp(n){return n!==Dl}function Ed(n){return 32767&n}function Zu(n,t){let e=function ZS(n){return n>>16}(n),i=t;for(;e>0;)i=i[bl],e--;return i}let H_=!0;function cp(n){const t=H_;return H_=n,t}const G_=255,Bw=5;let bN=0;const wa={};function u(n,t){const e=_(n,t);if(-1!==e)return e;const i=t[jt];i.firstCreatePass&&(n.injectorIndex=t.length,h(i.data,n),h(t,null),h(i.blueprint,null));const r=D(n,t),o=n.injectorIndex;if(lp(r)){const s=Ed(r),a=Zu(r,t),l=a[jt].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function h(n,t){n.push(0,0,0,0,0,0,0,0,t)}function _(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function D(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=Hw(r),null===i)return Dl;if(e++,r=r[bl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Dl}function z(n,t,e){!function m(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Nu)&&(i=e[Nu]),null==i&&(i=e[Nu]=bN++);const r=i&G_;t.data[n+(r>>Bw)]|=1<<r}(n,t,e)}function He(n,t,e){if(e&Vn.Optional||void 0!==n)return n;fi()}function ht(n,t,e,i){if(e&Vn.Optional&&void 0===i&&(i=null),!(e&(Vn.Self|Vn.Host))){const r=n[pa],o=Po(void 0);try{return r?r.get(t,i,e&Vn.Optional):Sf(t,i,e&Vn.Optional)}finally{Po(o)}}return He(i,0,e)}function Gt(n,t,e,i=Vn.Default,r){if(null!==n){if(2048&t[Cn]&&!(i&Vn.Self)){const s=function jw(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[Cn]&&!(512&s[Cn]);){const a=nn(o,s,e,i|Vn.Self,wa);if(a!==wa)return a;let l=o.parent;if(!l){const c=s[zf];if(c){const d=c.get(e,wa,i);if(d!==wa)return d}l=Hw(s),s=s[bl]}o=l}return r}(n,t,e,i,wa);if(s!==wa)return s}const o=nn(n,t,e,i,wa);if(o!==wa)return o}return ht(t,e,i,r)}function nn(n,t,e,i,r){const o=function dp(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Nu)?n[Nu]:void 0;return"number"==typeof t?t>=0?t&G_:zw:t}(e);if("function"==typeof o){if(!Pw(t,n,i))return i&Vn.Host?He(r,0,i):ht(t,e,i,r);try{let s;if(s=o(i),null!=s||i&Vn.Optional)return s;fi()}finally{Fw()}}else if("number"==typeof o){let s=null,a=_(n,t),l=Dl,c=i&Vn.Host?t[pr][Hr]:null;for((-1===a||i&Vn.SkipSelf)&&(l=-1===a?D(n,t):t[a+8],l!==Dl&&up(i,!1)?(s=t[jt],a=Ed(l),t=Zu(l,t)):a=-1);-1!==a;){const d=t[jt];if($_(o,a,d.data)){const f=zn(a,t,e,s,i,c);if(f!==wa)return f}l=t[a+8],l!==Dl&&up(i,t[jt].data[a+8]===c)&&$_(o,a,t)?(s=d,a=Ed(l),t=Zu(l,t)):a=-1}}return r}function zn(n,t,e,i,r,o){const s=t[jt],a=s.data[n+8],d=Yr(a,s,e,null==i?gd(a)&&H_:i!=s&&0!=(3&a.type),r&Vn.Host&&o===a);return null!==d?Lo(t,s,d,a):wa}function Yr(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,d=o>>20,g=r?a+d:n.directiveEnd;for(let y=i?a:a+d;y<g;y++){const C=s[y];if(y<l&&e===C||y>=l&&C.type===e)return y}if(r){const y=s[l];if(y&&ss(y)&&y.type===e)return l}return null}function Lo(n,t,e,i){let r=n[e];const o=t.data;if(function Vw(n){return n instanceof Wu}(r)){const s=r;s.resolving&&function xn(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new X(-200,`Circular dependency in DI detected for ${n}${e}`)}(function yt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Oe(n)}(o[e]));const a=cp(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Po(s.injectImpl):null;Pw(n,i,Vn.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function qS(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=gw(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==c&&Po(c),cp(a),s.resolving=!1,Fw()}}return r}function $_(n,t,e){return!!(e[t+(n>>Bw)]&1<<n)}function up(n,t){return!(n&Vn.Self||n&Vn.Host&&t)}class Qr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Gt(this._tNode,this._lView,t,kf(i),e)}}function zw(){return new Qr(Kr(),pt())}function Mt(n){return yl(()=>{const t=n.prototype.constructor,e=t[Oo]||Yu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Oo]||Yu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Yu(n){return ld(n)?()=>{const t=Yu(pn(n));return t&&t()}:pc(n)}function Hw(n){const t=n[jt],e=t.type;return 2===e?t.declTNode:1===e?n[Hr]:null}function Ss(n){return function Ce(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Pf(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Kr(),n)}const hp="__parameters__";function pp(n,t,e){return yl(()=>{const i=function YS(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,d){const f=l.hasOwnProperty(hp)?l[hp]:Object.defineProperty(l,hp,{value:[]})[hp];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function gp(n,t){n.forEach(e=>Array.isArray(e)?gp(e,t):t(e))}function xN(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Gw(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function W_(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ws(n,t,e){let i=_p(n,t);return i>=0?n[1|i]=e:(i=~i,function YY(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function QS(n,t){const e=_p(n,t);if(e>=0)return n[1|e]}function _p(n,t){return function CN(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const EN=$s(pp("Inject",n=>({token:n})),-1),$a=$s(pp("Optional"),8),Qu=$s(pp("SkipSelf"),4);function Yw(n){return 128==(128&n.flags)}var Sd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Sd||{});const gQ=/^>|^->|<!--|-->|--!>|<!-$/g,_Q=/(<|>)/g,yQ="\u200b$1\u200b";const nT=new Map;let vQ=0;const rT="__ngContext__";function Vo(n,t){Fo(t)?(n[rT]=t[Bu],function wQ(n){nT.set(n[Bu],n)}(t)):n[rT]=t}let oT;function sT(n,t){return oT(n,t)}function Y_(n){const t=n[Bi];return bo(t)?t[Bi]:t}function GN(n){return qN(n[dc])}function $N(n){return qN(n[os])}function qN(n){for(;null!==n&&!bo(n);)n=n[os];return n}function bp(n,t,e,i,r){if(null!=i){let o,s=!1;bo(i)?o=i:Fo(i)&&(s=!0,i=i[Vi]);const a=mi(i);0===n&&null!==e?null==r?YN(t,e,a):Xu(t,e,a,r||null,!0):1===n&&null!==e?Xu(t,e,a,r||null,!0):2===n?function ix(n,t,e){const i=tx(n,t);i&&function UQ(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function HQ(n,t,e,i,r){const o=e[ma];o!==mi(e)&&bp(t,n,i,o,r);for(let a=Wr;a<e.length;a++){const l=e[a];X_(l[jt],l,n,t,i,o)}}(t,n,o,e,r)}}function aT(n,t){return n.createComment(function NN(n){return n.replace(gQ,t=>t.replace(_Q,yQ))}(t))}function Jw(n,t,e){return n.createElement(t,e)}function KN(n,t){const e=n[fc],i=e.indexOf(t);xw(t),e.splice(i,1)}function ex(n,t){if(n.length<=Wr)return;const e=Wr+t,i=n[e];if(i){const r=i[uc];null!==r&&r!==n&&KN(r,i),t>0&&(n[e-1][os]=i[os]);const o=Gw(n,Wr+t);!function RQ(n,t){X_(n,t,t[En],2,null,null),t[Vi]=null,t[Hr]=null}(i[jt],i);const s=o[Es];null!==s&&s.detachView(o[jt]),i[Bi]=null,i[os]=null,i[Cn]&=-129}return i}function lT(n,t){if(!(256&t[Cn])){const e=t[En];t[Uu]&&cw(t[Uu]),t[hc]&&cw(t[hc]),e.destroyNode&&X_(n,t,e,3,null,null),function FQ(n){let t=n[dc];if(!t)return cT(n[jt],n);for(;t;){let e=null;if(Fo(t))e=t[dc];else{const i=t[Wr];i&&(e=i)}if(!e){for(;t&&!t[os]&&t!==n;)Fo(t)&&cT(t[jt],t),t=t[Bi];null===t&&(t=n),Fo(t)&&cT(t[jt],t),e=t&&t[os]}t=e}}(t)}}function cT(n,t){if(!(256&t[Cn])){t[Cn]&=-129,t[Cn]|=256,function BQ(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Wu)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];ga(4,a,l);try{l.call(a)}finally{ga(5,a,l)}}else{ga(4,r,o);try{o.call(r)}finally{ga(5,r,o)}}}}}(n,t),function VQ(n,t){const e=n.cleanup,i=t[fd];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[fd]=null);const r=t[wl];if(null!==r){t[wl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[jt].type&&t[En].destroy();const e=t[uc];if(null!==e&&bo(t[Bi])){e!==t[Bi]&&KN(e,t);const i=t[Es];null!==i&&i.detachView(n)}!function xQ(n){nT.delete(n[Bu])}(t)}}function dT(n,t,e){return function ZN(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Vi];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Dr.None||o===Dr.Emulated)return null}return No(i,e)}}(n,t.parent,e)}function Xu(n,t,e,i,r){n.insertBefore(t,e,i,r)}function YN(n,t,e){n.appendChild(t,e)}function QN(n,t,e,i,r){null!==i?Xu(n,t,e,i,r):YN(n,t,e)}function tx(n,t){return n.parentNode(t)}function XN(n,t,e){return eL(n,t,e)}let uT,rx,mT,ox,eL=function JN(n,t,e){return 40&n.type?No(n,e):null};function nx(n,t,e,i){const r=dT(n,i,t),o=t[En],a=XN(i.parent||t[Hr],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)QN(o,r,e[l],a,!1);else QN(o,r,e,a,!1);void 0!==uT&&uT(o,i,t,e,r)}function Q_(n,t){if(null!==t){const e=t.type;if(3&e)return No(t,n);if(4&e)return hT(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Q_(n,i);{const r=n[t.index];return bo(r)?hT(-1,r):mi(r)}}if(32&e)return sT(t,n)()||mi(n[t.index]);{const i=nL(n,t);return null!==i?Array.isArray(i)?i[0]:Q_(Y_(n[pr]),i):Q_(n,t.next)}}return null}function nL(n,t){return null!==t?n[pr][Hr].projection[t.projection]:null}function hT(n,t){const e=Wr+n+1;if(e<t.length){const i=t[e],r=i[jt].firstChild;if(null!==r)return Q_(i,r)}return t[ma]}function fT(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Vo(mi(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)fT(n,t,e.child,i,r,o,!1),bp(t,n,r,a,o);else if(32&l){const c=sT(e,i);let d;for(;d=c();)bp(t,n,r,d,o);bp(t,n,r,a,o)}else 16&l?rL(n,t,i,e,r,o):bp(t,n,r,a,o);e=s?e.projectionNext:e.next}}function X_(n,t,e,i,r,o){fT(e,i,n.firstChild,t,r,o,!1)}function rL(n,t,e,i,r,o){const s=e[pr],l=s[Hr].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)bp(t,n,r,l[c],o);else{let c=l;const d=s[Bi];Yw(i)&&(c.flags|=128),fT(n,t,c,d,r,o,!0)}}function oL(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function sL(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Rf(n,t,i),null!==r&&oL(n,t,r),null!==o&&function $Q(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function wp(n){return function pT(){if(void 0===rx&&(rx=null,pi.trustedTypes))try{rx=pi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rx}()?.createHTML(n)||n}function cL(n){return function gT(){if(void 0===ox&&(ox=null,pi.trustedTypes))try{ox=pi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ox}()?.createScriptURL(n)||n}class Ju{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wf})`}}class YQ extends Ju{getTypeName(){return"HTML"}}class QQ extends Ju{getTypeName(){return"Style"}}class XQ extends Ju{getTypeName(){return"Script"}}class JQ extends Ju{getTypeName(){return"URL"}}class eX extends Ju{getTypeName(){return"ResourceURL"}}function Ks(n){return n instanceof Ju?n.changingThisBreaksApplicationSecurity:n}function Il(n,t){const e=function tX(n){return n instanceof Ju&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${wf})`)}return e===t}class aX{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wp(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class lX{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=wp(t),e}}const dX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function sx(n){return(n=String(n)).match(dX)?n:"unsafe:"+n}function vc(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function J_(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const uL=vc("area,br,col,hr,img,wbr"),hL=vc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fL=vc("rp,rt"),_T=J_(uL,J_(hL,vc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),J_(fL,vc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),J_(fL,hL)),yT=vc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pL=J_(yT,vc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),uX=vc("script,style,template");class hX{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!_T.hasOwnProperty(e))return this.sanitizedSomething=!0,!uX.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!pL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;yT[a]&&(l=sx(l)),this.buf.push(" ",s,'="',mL(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();_T.hasOwnProperty(e)&&!uL.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(mL(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const fX=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pX=/([^\#-~ |!])/g;function mL(n){return n.replace(/&/g,"&amp;").replace(fX,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pX,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ax;function gL(n,t){let e=null;try{ax=ax||function dL(n){const t=new lX(n);return function cX(){try{return!!(new window.DOMParser).parseFromString(wp(""),"text/html")}catch{return!1}}()?new aX(t):t}(n);let i=t?String(t):"";e=ax.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=ax.getInertBodyElement(i)}while(i!==o);return wp((new hX).sanitizeChildren(vT(e)||e))}finally{if(e){const i=vT(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function vT(n){return"content"in n&&function mX(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var oo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(oo||{});function Bo(n){const t=ey();return t?t.sanitize(oo.URL,n)||"":Il(n,"URL")?Ks(n):sx(Oe(n))}function _L(n){const t=ey();if(t)return cL(t.sanitize(oo.RESOURCE_URL,n)||"");if(Il(n,"ResourceURL"))return cL(Ks(n));throw new X(904,!1)}function ey(){const n=pt();return n&&n[pd].sanitizer}const ty=new Ue("ENVIRONMENT_INITIALIZER"),vL=new Ue("INJECTOR",-1),bL=new Ue("INJECTOR_DEF_TYPES");class bT{get(t,e=Ru){if(e===Ru){const i=new Error(`NullInjectorError: No provider for ${Xt(t)}!`);throw i.name="NullInjectorError",i}return e}}function xX(...n){return{\u0275providers:wL(0,n),\u0275fromNgModule:!0}}function wL(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return gp(t,s=>{const a=s;lx(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&xL(r,o),e}function xL(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];xT(r,o=>{t(o,i)})}}function lx(n,t,e,i){if(!(n=pn(n)))return!1;let r=null,o=Df(n);const s=!o&&Kn(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=Df(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)lx(c,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{gp(o.imports,d=>{lx(d,t,e,i)&&(c||=[],c.push(d))})}finally{}void 0!==c&&xL(c,t)}if(!a){const c=pc(r)||(()=>new r);t({provide:r,useFactory:c,deps:Wn},r),t({provide:bL,useValue:r,multi:!0},r),t({provide:ty,useValue:()=>Y(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;xT(l,d=>{t(d,c)})}}}return r!==n&&void 0!==n.providers}function xT(n,t){for(let e of n)cd(e)&&(e=e.\u0275providers),Array.isArray(e)?xT(e,t):t(e)}const CX=Nt({provide:String,useValue:Nt});function CT(n){return null!==n&&"object"==typeof n&&CX in n}function eh(n){return"function"==typeof n}const ET=new Ue("Set Injector scope."),cx={},DX={};let DT;function dx(){return void 0===DT&&(DT=new bT),DT}class Zs{}class Cp extends Zs{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ST(t,s=>this.processProvider(s)),this.records.set(vL,Ep(void 0,this)),r.has("environment")&&this.records.set(Zs,Ep(void 0,this));const o=this.records.get(ET);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bL.multi,Wn,Vn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=_l(this),i=Po(void 0);try{return t()}finally{_l(e),Po(i)}}get(t,e=Ru,i=Vn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Lu))return t[Lu](this);i=kf(i);const o=_l(this),s=Po(void 0);try{if(!(i&Vn.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function kX(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ue}(t)&&Ef(t);l=c&&this.injectableDefInScope(c)?Ep(IT(t),cx):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Vn.Self?dx():this.parent).get(t,e=i&Vn.Optional&&e===Ru?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[gl]=a[gl]||[]).unshift(Xt(t)),o)throw a;return function bS(n,t,e,i){const r=n[gl];throw t[Gs]&&r.unshift(t[Gs]),n.message=function Fu(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Xt(t);if(Array.isArray(t))r=t.map(Xt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Xt(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Qg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[gl]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Po(s),_l(o)}}resolveInjectorInitializers(){const t=_l(this),e=Po(void 0);try{const r=this.get(ty.multi,Wn,Vn.Self);for(const o of r)o()}finally{_l(t),Po(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Xt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(t){let e=eh(t=pn(t))?t:pn(t&&t.provide);const i=function SX(n){return CT(n)?Ep(void 0,n.useValue):Ep(DL(n),cx)}(t);if(eh(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Ep(void 0,cx,!0),r.factory=()=>Ou(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===cx&&(e.value=DX,e.value=e.factory()),"object"==typeof e.value&&e.value&&function AX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=pn(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function IT(n){const t=Ef(n),e=null!==t?t.factory:pc(n);if(null!==e)return e;if(n instanceof Ue)throw new X(204,!1);if(n instanceof Function)return function IX(n){const t=n.length;if(t>0)throw W_(t,"?"),new X(204,!1);const e=function U0(n){return n&&(n[ku]||n[cc])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new X(204,!1)}function DL(n,t,e){let i;if(eh(n)){const r=pn(n);return pc(r)||IT(r)}if(CT(n))i=()=>pn(n.useValue);else if(function EL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ou(n.deps||[]));else if(function CL(n){return!(!n||!n.useExisting)}(n))i=()=>Y(pn(n.useExisting));else{const r=pn(n&&(n.useClass||n.provide));if(!function TX(n){return!!n.deps}(n))return pc(r)||IT(r);i=()=>new r(...Ou(n.deps))}return i}function Ep(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ST(n,t){for(const e of n)Array.isArray(e)?ST(e,t):e&&cd(e)?ST(e.\u0275providers,t):t(e)}const ny=new Ue("AppId",{providedIn:"root",factory:()=>MX}),MX="ng",IL=new Ue("Platform Initializer"),gr=new Ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uo=new Ue("AnimationModuleType"),SL=new Ue("CSP nonce",{providedIn:"root",factory:()=>function xp(){if(void 0!==mT)return mT;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let TL=(n,t,e)=>null;function FT(n,t,e=!1){return TL(n,t,e)}class zX{}class ML{}class HX{resolveComponentFactory(t){throw function jX(n){const t=Error(`No component factory found for ${Xt(n)}.`);return t.ngComponent=n,t}(t)}}let th=(()=>{class n{static#e=this.NULL=new HX}return n})();function GX(){return Sp(Kr(),pt())}function Sp(n,t){return new Dt(No(n,t))}let Dt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=GX}return n})();function $X(n){return n instanceof Dt?n.nativeElement:n}class oy{}let Ca=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qX(){const n=pt(),e=wo(Kr().index,n);return(Fo(e)?e:n)[En]}()}return n})(),WX=(()=>{class n{static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>null})}return n})();class bc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const PL=new bc("16.2.12"),VT={};function LL(n,t=null,e=null,i){const r=VL(n,t,e,i);return r.resolveInjectorInitializers(),r}function VL(n,t=null,e=null,i,r=new Set){const o=[e||Wn,xX(n)];return i=i||("object"==typeof n?void 0:Xt(n)),new Cp(o,t||dx(),i||null,r)}let Ii=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ru;static#t=this.NULL=new bT;static create(e,i){if(Array.isArray(e))return LL({name:""},i,e,"");{const r=e.name??"";return LL({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Ge({token:n,providedIn:"any",factory:()=>Y(vL)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function UT(n){return n.ngOriginalError}class Ea{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&UT(t);for(;e&&UT(e);)e=UT(e);return e||null}}function jT(n){return t=>{setTimeout(n,void 0,t)}}const Ct=class eJ extends Z{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=jT(o),r&&(r=jT(r)),s&&(s=jT(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof K&&t.add(a),a}};function UL(...n){}class Lt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ct(!1),this.onMicrotaskEmpty=new Ct(!1),this.onStable=new Ct(!1),this.onError=new Ct(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function tJ(){const n="function"==typeof pi.requestAnimationFrame;let t=pi[n?"requestAnimationFrame":"setTimeout"],e=pi[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function rJ(n){const t=()=>{!function iJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,GT(n),n.isCheckStableRunning=!0,HT(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),GT(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function sJ(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return zL(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),jL(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return zL(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),jL(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,GT(n),HT(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new X(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,nJ,UL,UL);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const nJ={};function HT(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function GT(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jL(n){n._nesting--,HT(n)}class oJ{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ct,this.onMicrotaskEmpty=new Ct,this.onStable=new Ct,this.onError=new Ct}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const HL=new Ue("",{providedIn:"root",factory:GL});function GL(){const n=Tt(Lt);let t=!0;return j(new mt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new mt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(lt()))}function $T(n){return n.ownerDocument}function wc(n){return n instanceof Function?n():n}let qT=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>new n})}return n})();function sy(n){for(;n;){n[Cn]|=64;const t=Y_(n);if(p_(n)&&!t)return n;n=t}return null}const ZL=new Ue("",{providedIn:"root",factory:()=>!1});let _x=null;function JL(n,t){return n[t]??nV()}function eV(n,t){const e=nV();e.producerNode?.length&&(n[t]=_x,e.lView=n,_x=tV())}const mJ={...sw,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sy(n.lView)},lView:null};function tV(){return Object.create(mJ)}function nV(){return _x??=tV(),_x}const kn={};function k(n){iV(Jn(),pt(),xo()+n,!1)}function iV(n,t,e,i){if(!i)if(3==(3&t[Cn])){const o=n.preOrderCheckHooks;null!==o&&rp(t,o,e)}else{const o=n.preOrderHooks;null!==o&&op(t,o,0,e)}_c(e)}function v(n,t=Vn.Default){const e=pt();return null===e?Y(n,t):Gt(Kr(),e,pn(n),t)}function Td(){throw new Error("invalid")}function yx(n,t,e,i,r,o,s,a,l,c,d){const f=t.blueprint.slice();return f[Vi]=r,f[Cn]=140|i,(null!==c||n&&2048&n[Cn])&&(f[Cn]|=2048),S_(f),f[Bi]=f[bl]=n,f[fr]=e,f[pd]=s||n&&n[pd],f[En]=a||n&&n[En],f[pa]=l||n&&n[pa]||null,f[Hr]=o,f[Bu]=function bQ(){return vQ++}(),f[qs]=d,f[zf]=c,f[pr]=2==t.type?n[pr]:f,f}function kp(n,t,e,i,r){let o=n.data[t];if(null===o)o=function WT(n,t,e,i,r){const o=Tw(),s=M_(),l=n.data[t]=function CJ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return El()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,t,e,i,r),function kw(){return vn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function gc(){const n=vn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ya(o,!0),o}function ay(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function rV(n,t,e,i,r){const o=JL(t,Uu),s=xo(),a=2&i;try{_c(-1),a&&t.length>Un&&iV(n,t,Un,!1),ga(a?2:0,r);const c=a?o:null,d=__(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{ju(c,d)}}finally{a&&null===t[Uu]&&eV(t,Uu),_c(s),ga(a?3:1,r)}}function KT(n,t,e){if(tw(t)){const i=Ds(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Ds(i)}}}function ZT(n,t,e){Dw()&&(function kJ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;gd(e)&&function LJ(n,t,e){const i=No(t,n),r=oV(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=vx(n,yx(n,r,null,s,i,t,null,n[pd].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||u(e,t),Vo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Lo(t,n,a,e);Vo(c,t),null!==s&&VJ(0,a-r,c,l,0,s),ss(l)&&(wo(e.index,t)[fr]=Lo(t,n,a,e))}}(n,t,e,No(e,t)),64==(64&e.flags)&&dV(n,t,e))}function QT(n,t,e=No){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function oV(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=XT(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function XT(n,t,e,i,r,o,s,a,l,c,d){const f=Un+i,g=f+r,y=function _J(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:kn);return e}(f,g),C="function"==typeof c?c():c;return y[jt]={type:n,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:d}}let sV=n=>null;function aV(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?lV(e,t,r,o):i.hasOwnProperty(r)&&lV(e,t,i[r],o)}return e}function lV(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Ys(n,t,e,i,r,o,s,a){const l=No(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(iA(n,e,d,i,r),gd(t)&&function IJ(n,t){const e=wo(t,n);16&e[Cn]||(e[Cn]|=64)}(e,t.index)):3&t.type&&(i=function DJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(l,i,r))}function JT(n,t,e,i){if(Dw()){const r=null===i?null:{"":-1},o=function RJ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(Nf(t,s.selectors,!1))if(i||(i=[]),ss(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),eA(n,t,a.length)}else i.unshift(s),eA(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&cV(n,t,e,s,r,a),r&&function PJ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new X(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=hd(e.mergedAttrs,e.attrs)}function cV(n,t,e,i,r,o){for(let c=0;c<i.length;c++)z(u(e,t),n,i[c].type);!function FJ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const d=i[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,l=ay(n,t,i.length,null);for(let c=0;c<i.length;c++){const d=i[c];e.mergedAttrs=hd(e.mergedAttrs,d.hostAttrs),NJ(n,e,t,l,d),OJ(l,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const f=d.type.prototype;!s&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function EJ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let l=null,c=null;for(let d=t.directiveStart;d<r;d++){const f=o[d],g=e?e.get(f):null,C=g?g.outputs:null;l=aV(f.inputs,d,l,g?g.inputs:null),c=aV(f.outputs,d,c,C);const R=null===l||null===s||n_(t)?null:BJ(l,d,s);a.push(R)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,o)}function dV(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function Mw(){return vn.lFrame.currentDirectiveIndex}();try{_c(o);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];$u(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&MJ(l,c)}}finally{_c(-1),$u(s)}}function MJ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function eA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function OJ(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ss(t)&&(e[""]=n)}}function NJ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=pc(r.type)),s=new Wu(o,ss(r),v);n.blueprint[i]=s,e[i]=s,function TJ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function AJ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,ay(n,e,r.hostVars,kn),r)}function Sl(n,t,e,i,r,o){const s=No(n,t);!function tA(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?Oe(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[En],s,o,n.value,e,i,r)}function VJ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)uV(i,e,s[a++],s[a++],s[a++])}function uV(n,t,e,i,r){const o=Ds(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Ds(o)}}function BJ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function hV(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function fV(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];O_(e[i]),s.contentQueries(2,t[o],o)}}}function vx(n,t){return n[dc]?n[ew][os]=t:n[dc]=t,n[ew]=t,t}function nA(n,t,e){O_(0);const i=Ds(null);try{t(n,e)}finally{Ds(i)}}function pV(n){return n[fd]||(n[fd]=[])}function mV(n){return n.cleanup||(n.cleanup=[])}function gV(n,t,e){return(null===n||ss(n))&&(e=function wd(n){for(;Array.isArray(n);){if("object"==typeof n[jf])return n;n=n[Vi]}return null}(e[t.index])),e[En]}function _V(n,t){const e=n[pa],i=e?e.get(Ea,null):null;i&&i.handleError(t)}function iA(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];uV(n.data[s],t[s],i,a,r)}}function xc(n,t,e){const i=xd(t,n);!function WN(n,t,e){n.setValue(t,e)}(n[En],i,e)}function UJ(n,t){const e=wo(t,n),i=e[jt];!function zJ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Vi];null!==r&&null===e[qs]&&(e[qs]=FT(r,e[pa])),rA(i,e,e[fr])}function rA(n,t,e){N_(t);try{const i=n.viewQuery;null!==i&&nA(1,i,e);const r=n.template;null!==r&&rV(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fV(n,t),n.staticViewQueries&&nA(2,n.viewQuery,e);const o=n.components;null!==o&&function jJ(n,t){for(let e=0;e<t.length;e++)UJ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Cn]&=-5,V_()}}let yV=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function MS(n,t,e){const i=Object.create(x_);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>$f(i),run:()=>{if(i.dirty=!1,i.hasRun&&!lw(i))return;i.hasRun=!0;const s=__(i);try{i.cleanupFn(),i.cleanupFn=mw,i.fn(r)}finally{ju(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>new n})}return n})();function bx(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=zr(r,a):2==o&&(i=zr(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ly(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(mi(o)),bo(o)&&vV(o,i);const s=e.type;if(8&s)ly(n,t,e.child,i);else if(32&s){const a=sT(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=nL(t,e);if(Array.isArray(a))i.push(...a);else{const l=Y_(t[pr]);ly(l[jt],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function vV(n,t){for(let e=Wr;e<n.length;e++){const i=n[e],r=i[jt].firstChild;null!==r&&ly(i[jt],i,r,t)}n[ma]!==n[Vi]&&t.push(n[ma])}function wx(n,t,e,i=!0){const r=t[pd],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{bV(n,t,n.template,e)}catch(l){throw i&&_V(t,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function bV(n,t,e,i){const r=t[Cn];if(256!=(256&r)){t[pd].effectManager?.flush(),N_(t);try{S_(t),function ep(n){return vn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&rV(n,t,e,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&rp(t,c,null)}else{const c=n.preOrderHooks;null!==c&&op(t,c,0,null),U_(t,0)}if(function $J(n){for(let t=GN(n);null!==t;t=$N(t)){if(!t[Hf])continue;const e=t[fc];for(let i=0;i<e.length;i++){LS(e[i])}}}(t),wV(t,2),null!==n.contentQueries&&fV(n,t),s){const c=n.contentCheckHooks;null!==c&&rp(t,c)}else{const c=n.contentHooks;null!==c&&op(t,c,1),U_(t,1)}!function gJ(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=JL(t,hc);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)_c(~o);else{const s=o,a=e[++r],l=e[++r];jS(a,s),i.dirty=!1;const c=__(i);try{l(2,t[s])}finally{ju(i,c)}}}}finally{null===t[hc]&&eV(t,hc),_c(-1)}}(n,t);const a=n.components;null!==a&&CV(t,a,0);const l=n.viewQuery;if(null!==l&&nA(2,l,i),s){const c=n.viewCheckHooks;null!==c&&rp(t,c)}else{const c=n.viewHooks;null!==c&&op(t,c,2),U_(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Cn]&=-73,xw(t)}finally{V_()}}}function wV(n,t){for(let e=GN(n);null!==e;e=$N(e))for(let i=Wr;i<e.length;i++)xV(e[i],t)}function qJ(n,t,e){xV(wo(t,n),e)}function xV(n,t){if(!function FS(n){return 128==(128&n[Cn])}(n))return;const e=n[jt],i=n[Cn];if(80&i&&0===t||1024&i||2===t)bV(e,n,e.template,n[fr]);else if(n[Vu]>0){wV(n,1);const r=e.components;null!==r&&CV(n,r,1)}}function CV(n,t,e){for(let i=0;i<t.length;i++)qJ(n,t[i],e)}class cy{get rootNodes(){const t=this._lView,e=t[jt];return ly(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fr]}set context(t){this._lView[fr]=t}get destroyed(){return 256==(256&this._lView[Cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Bi];if(bo(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(ex(t,i),Gw(e,i))}this._attachedToViewContainer=!1}lT(this._lView[jt],this._lView)}onDestroy(t){!function Cw(n,t){if(256==(256&n[Cn]))throw new X(911,!1);null===n[wl]&&(n[wl]=[]),n[wl].push(t)}(this._lView,t)}markForCheck(){sy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Cn]&=-129}reattach(){this._lView[Cn]|=128}detectChanges(){wx(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function OQ(n,t){X_(n,t,t[En],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=t}}class WJ extends cy{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;wx(t[jt],t,t[fr],!1)}checkNoChanges(){}get context(){return null}}class EV extends th{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Kn(t);return new dy(e,this.ngModule)}}function DV(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class ZJ{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=kf(i);const r=this.injector.get(t,VT,i);return r!==VT||e===VT?r:this.parentInjector.get(t,e,i)}}class dy extends ML{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=DV(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return DV(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Vf(n){return n.map(a_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Zs?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new ZJ(t,o):t,a=s.get(oy,null);if(null===a)throw new X(407,!1);const f={rendererFactory:a,sanitizer:s.get(WX,null),effectManager:s.get(yV,null),afterRenderEventManager:s.get(qT,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",C=i?function yJ(n,t,e,i){const o=i.get(ZL,!1)||e===Dr.ShadowDom,s=n.selectRootElement(t,o);return function vJ(n){sV(n)}(s),s}(g,i,this.componentDef.encapsulation,s):Jw(g,y,function KJ(n){const t=n.toLowerCase();return"svg"===t?Yf:"math"===t?"math":null}(y)),te=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ie=null;null!==C&&(ie=FT(C,s,!0));const ye=XT(0,null,null,1,0,null,null,null,null,null,null),Ve=yx(null,ye,null,te,null,null,f,g,s,null,ie);let _t,At;N_(Ve);try{const ue=this.componentDef;let J,de=null;ue.findHostDirectiveDefs?(J=[],de=new Map,ue.findHostDirectiveDefs(ue,J,de),J.push(ue)):J=[ue];const Ie=function QJ(n,t){const e=n[jt],i=Un;return n[i]=t,kp(e,i,2,"#host",null)}(Ve,C),ke=function XJ(n,t,e,i,r,o,s){const a=r[jt];!function JJ(n,t,e,i){for(const r of n)t.mergedAttrs=hd(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(bx(t,t.mergedAttrs,!0),null!==e&&sL(i,e,t))}(i,n,t,s);let l=null;null!==t&&(l=FT(t,r[pa]));const c=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const f=yx(r,oV(e),null,d,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&eA(a,n,i.length-1),vx(r,f),r[n.index]=f}(Ie,C,ue,J,Ve,f,g);At=ww(ye,Un),C&&function tee(n,t,e,i){if(i)Rf(n,e,["ng-version",PL.full]);else{const{attrs:r,classes:o}=function l_(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!rs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Rf(n,e,r),o&&o.length>0&&oL(n,e,o.join(" "))}}(g,ue,C,i),void 0!==e&&function nee(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(At,this.ngContentSelectors,e),_t=function eee(n,t,e,i,r,o){const s=Kr(),a=r[jt],l=No(s,r);cV(a,r,s,e,null,i);for(let d=0;d<e.length;d++)Vo(Lo(r,a,s.directiveStart+d,s),r);dV(a,r,s),l&&Vo(l,r);const c=Lo(r,a,s.directiveStart+s.componentOffset,s);if(n[fr]=r[fr]=c,null!==o)for(const d of o)d(c,t);return KT(a,s,n),c}(ke,ue,J,de,Ve,[iee]),rA(ye,Ve,null)}finally{V_()}return new YJ(this.componentType,_t,Sp(At,Ve),Ve,At)}}class YJ extends zX{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new WJ(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;iA(o[jt],o,r,t,e),this.previousInputValues.set(t,e),sy(wo(this._tNode.index,o))}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function iee(){const n=Kr();ip(pt()[jt],n)}function it(n){let t=function IV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ss(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new X(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=xx(n.inputs),s.inputTransforms=xx(n.inputTransforms),s.declaredInputs=xx(n.declaredInputs),s.outputs=xx(n.outputs);const a=r.hostBindings;a&&aee(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&oee(n,l),c&&see(n,c),si(n.inputs,r.inputs),si(n.declaredInputs,r.declaredInputs),si(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),si(s.inputTransforms,r.inputTransforms)),ss(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===it&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ree(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=hd(r.hostAttrs,e=hd(e,r.hostAttrs))}}(i)}function xx(n){return n===yo?{}:n===Wn?[]:n}function oee(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function see(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function aee(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function kV(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function Cx(n){return!!oA(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function oA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Tl(n,t,e){return n[t]=e}function uy(n,t){return n[t]}function zo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function nh(n,t,e,i){const r=zo(n,t,e);return zo(n,t+1,i)||r}function Ex(n,t,e,i,r){const o=nh(n,t,e,i);return zo(n,t+2,r)||o}function Da(n,t,e,i,r,o){const s=nh(n,t,e,i);return nh(n,t+2,r,o)||s}function Bn(n,t,e,i){const r=pt();return zo(r,Cd(),t)&&(Jn(),Sl($i(),r,n,t,e,i)),Bn}function Rp(n,t,e,i){return zo(n,Cd(),e)?t+Oe(e)+i:kn}function he(n,t,e,i,r,o,s,a){const l=pt(),c=Jn(),d=n+Un,f=c.firstCreatePass?function Ree(n,t,e,i,r,o,s,a,l){const c=t.consts,d=kp(t,n,4,s||null,_a(c,a));JT(t,e,d,_a(c,l)),ip(t,d);const f=d.tView=XT(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,d),f.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,r,o,s):c.data[d];ya(f,!1);const g=HV(c,l,f,n);np()&&nx(c,l,g,f),Vo(g,l),vx(l,l[d]=hV(g,l,g,f)),f_(f)&&ZT(c,l,f),null!=s&&QT(l,f,a)}let HV=function GV(n,t,e,i){return Ga(!0),t[En].createComment("")};function tr(n){return Is(function zS(){return vn.lFrame.contextLView}(),Un+n)}function L(n,t,e){const i=pt();return zo(i,Cd(),t)&&Ys(Jn(),$i(),i,n,t,i[En],e,!1),L}function uA(n,t,e,i,r){const s=r?"class":"style";iA(n,e,t.inputs[s],s,i)}function b(n,t,e,i){const r=pt(),o=Jn(),s=Un+n,a=r[En],l=o.firstCreatePass?function Nee(n,t,e,i,r,o){const s=t.consts,l=kp(t,n,2,i,_a(s,r));return JT(t,e,l,_a(s,o)),null!==l.attrs&&bx(l,l.attrs,!1),null!==l.mergedAttrs&&bx(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,r,t,e,i):o.data[s],c=$V(o,r,l,a,t,n);r[s]=c;const d=f_(l);return ya(l,!0),sL(a,c,l),32!=(32&l.flags)&&np()&&nx(o,r,c,l),0===function VS(){return vn.lFrame.elementDepthCount}()&&Vo(c,r),function Hu(){vn.lFrame.elementDepthCount++}(),d&&(ZT(o,r,l),KT(o,l,r)),null!==i&&QT(r,l),b}function x(){let n=Kr();M_()?Gu():(n=n.parent,ya(n,!1));const t=n;(function A_(n){return vn.skipHydrationRootTNode===n})(t)&&function Sw(){vn.skipHydrationRootTNode=null}(),function BS(){vn.lFrame.elementDepthCount--}();const e=Jn();return e.firstCreatePass&&(ip(e,n),tw(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function yN(n){return 0!=(8&n.flags)}(t)&&uA(e,t,pt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function z_(n){return 0!=(16&n.flags)}(t)&&uA(e,t,pt(),t.stylesWithoutHost,!1),x}function vt(n,t,e,i){return b(n,t,e,i),x(),vt}let $V=(n,t,e,i,r,o)=>(Ga(!0),Jw(i,r,function Nw(){return vn.lFrame.currentNamespace}()));function bi(n,t,e){const i=pt(),r=Jn(),o=n+Un,s=r.firstCreatePass?function Bee(n,t,e,i,r){const o=t.consts,s=_a(o,i),a=kp(t,n,8,"ng-container",s);return null!==s&&bx(a,s,!0),JT(t,e,a,_a(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];ya(s,!0);const a=qV(r,i,s,n);return i[o]=a,np()&&nx(r,i,a,s),Vo(a,i),f_(s)&&(ZT(r,i,s),KT(r,s,i)),null!=e&&QT(i,s),bi}function wi(){let n=Kr();const t=Jn();return M_()?Gu():(n=n.parent,ya(n,!1)),t.firstCreatePass&&(ip(t,n),tw(n)&&t.queries.elementEnd(n)),wi}function Jr(n,t,e){return bi(n,t,e),wi(),Jr}let qV=(n,t,e,i)=>(Ga(!0),aT(t[En],""));function Yt(){return pt()}function my(n){return!!n&&"function"==typeof n.then}function WV(n){return!!n&&"function"==typeof n.subscribe}function Te(n,t,e,i){const r=pt(),o=Jn(),s=Kr();return KV(o,r,r[En],s,n,t,i),Te}function hA(n,t){const e=Kr(),i=pt(),r=Jn();return KV(r,i,gV(P_(r.data),e,i),e,n,t),hA}function KV(n,t,e,i,r,o,s){const a=f_(i),c=n.firstCreatePass&&mV(n),d=t[fr],f=pV(t);let g=!0;if(3&i.type||s){const R=No(i,t),F=s?s(R):R,te=f.length,ie=s?Ve=>s(mi(Ve[i.index])):i.index;let ye=null;if(!s&&a&&(ye=function jee(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[fd],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=o,ye.__ngLastListenerFn__=o,g=!1;else{o=YV(i,t,d,o,!1);const Ve=e.listen(F,r,o);f.push(o,Ve),c&&c.push(r,ie,te,te+1)}}else o=YV(i,t,d,o,!1);const y=i.outputs;let C;if(g&&null!==y&&(C=y[r])){const R=C.length;if(R)for(let F=0;F<R;F+=2){const _t=t[C[F]][C[F+1]].subscribe(o),At=f.length;f.push(o,_t),c&&c.push(r,i.index,At,-(At+1))}}}function ZV(n,t,e,i){try{return ga(6,t,e),!1!==e(i)}catch(r){return _V(n,r),!1}finally{ga(7,t,e)}}function YV(n,t,e,i,r){return function o(s){if(s===Function)return i;sy(n.componentOffset>-1?wo(n.index,t):t);let l=ZV(t,e,i,s),c=o.__ngNextListenerFn__;for(;c;)l=ZV(t,e,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function se(n=1){return function HS(n){return(vn.lFrame.contextLView=function GS(n,t){for(;n>0;)t=t[bl],n--;return t}(n,vn.lFrame.contextLView))[fr]}(n)}function Hee(n,t){let e=null;const i=function Lf(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Nf(n,o,!0):o_(i,o))return r}else e=r}return e}function _r(n){const t=pt()[pr][Hr];if(!t.projection){const i=t.projection=W_(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?Hee(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Dn(n,t=0,e){const i=pt(),r=Jn(),o=kp(r,Un+n,16,null,e||null);null===o.projection&&(o.projection=t),Gu(),(!i[qs]||El())&&32!=(32&o.flags)&&function jQ(n,t,e){rL(t[En],0,t,e,dT(n,e,t),XN(e.parent||t[Hr],e,t))}(r,i,o)}function qa(n,t,e){return fA(n,"",t,"",e),qa}function fA(n,t,e,i,r){const o=pt(),s=Rp(o,t,e,i);return s!==kn&&Ys(Jn(),$i(),o,n,s,o[En],r,!1),fA}function Tx(n,t){return n<<17|t<<2}function Ad(n){return n>>17&32767}function pA(n){return 2|n}function ih(n){return(131068&n)>>2}function mA(n,t){return-131069&n|t<<2}function gA(n){return 1|n}function oB(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ad(o):ih(o),l=!1;for(;0!==a&&(!1===l||s);){const d=n[a+1];Zee(n[a],t)&&(l=!0,n[a+1]=i?gA(d):pA(d)),a=i?Ad(d):ih(d)}l&&(n[e+1]=i?pA(o):gA(o))}function Zee(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&_p(n,t)>=0}const eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sB(n){return n.substring(eo.key,eo.keyEnd)}function aB(n,t){const e=eo.textEnd;return e===t?-1:(t=eo.keyEnd=function Jee(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,eo.key=t,e),Up(n,t,e))}function Up(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function ai(n,t,e){return Wa(n,t,e,!1),ai}function hn(n,t){return Wa(n,t,null,!0),hn}function rh(n){Ka(lte,kl,n,!0)}function kl(n,t){for(let e=function Qee(n){return function cB(n){eo.key=0,eo.keyEnd=0,eo.value=0,eo.valueEnd=0,eo.textEnd=n.length}(n),aB(n,Up(n,0,eo.textEnd))}(t);e>=0;e=aB(t,e))Ws(n,sB(t),!0)}function Wa(n,t,e,i){const r=pt(),o=Jn(),s=ba(2);o.firstUpdatePass&&fB(o,n,s,i),t!==kn&&zo(r,s,t)&&mB(o,o.data[xo()],r,r[En],n,r[s+1]=function dte(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Xt(Ks(n)))),n}(t,e),i,s)}function Ka(n,t,e,i){const r=Jn(),o=ba(2);r.firstUpdatePass&&fB(r,null,o,i);const s=pt();if(e!==kn&&zo(s,o,e)){const a=r.data[xo()];if(_B(a,i)&&!hB(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=zr(l,e||"")),uA(r,a,s,e,i)}else!function cte(n,t,e,i,r,o,s,a){r===kn&&(r=Wn);let l=0,c=0,d=0<r.length?r[0]:null,f=0<o.length?o[0]:null;for(;null!==d||null!==f;){const g=l<r.length?r[l+1]:void 0,y=c<o.length?o[c+1]:void 0;let R,C=null;d===f?(l+=2,c+=2,g!==y&&(C=f,R=y)):null===f||null!==d&&d<f?(l+=2,C=d):(c+=2,C=f,R=y),null!==C&&mB(n,t,e,i,C,R,s,a),d=l<r.length?r[l]:null,f=c<o.length?o[c]:null}}(r,a,s,s[En],s[o+1],s[o+1]=function ate(n,t,e){if(null==e||""===e)return Wn;const i=[],r=Ks(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function hB(n,t){return t>=n.expandoStartIndex}function fB(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[xo()],s=hB(n,e);_B(o,i)&&null===t&&!s&&(t=!1),t=function ite(n,t,e,i){const r=P_(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=gy(e=_A(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=_A(r,n,t,e,i),null===o){let l=function rte(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ih(i))return n[Ad(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=_A(null,n,t,l[1],i),l=gy(l,t.attrs,i),function ote(n,t,e,i){n[Ad(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function ste(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=gy(i,n[o].hostAttrs,e);return gy(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Wee(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ad(s),l=ih(s);n[i]=e;let d,c=!1;if(Array.isArray(e)?(d=e[1],(null===d||_p(e,d)>0)&&(c=!0)):d=e,r)if(0!==l){const g=Ad(n[a+1]);n[i+1]=Tx(g,a),0!==g&&(n[g+1]=mA(n[g+1],i)),n[a+1]=function $ee(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Tx(a,0),0!==a&&(n[a+1]=mA(n[a+1],i)),a=i;else n[i+1]=Tx(l,0),0===a?a=i:n[l+1]=mA(n[l+1],i),l=i;c&&(n[i+1]=pA(n[i+1])),oB(n,d,i,!0),oB(n,d,i,!1),function Kee(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&_p(o,t)>=0&&(e[i+1]=gA(e[i+1]))}(t,d,n,i,o),s=Tx(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function _A(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=gy(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function gy(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ws(n,s,!!e||t[++o]))}return void 0===n?null:n}function lte(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Ws(n,i,e)}function mB(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],d=function qee(n){return 1==(1&n)}(c)?gB(l,t,e,r,ih(c),s):void 0;Ax(d)||(Ax(o)||function Gee(n){return 2==(2&n)}(c)&&(o=gB(l,null,e,r,a,s)),function GQ(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:Sd.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Sd.Important),n.setStyle(e,i,r,o))}}(i,s,xd(xo(),e),r,o))}function gB(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),d=c?l[1]:l,f=null===d;let g=e[r+1];g===kn&&(g=f?Wn:void 0);let y=f?QS(g,i):d===i?g:void 0;if(c&&!Ax(y)&&(y=QS(l,i)),Ax(y)&&(a=y,s))return a;const C=n[r+1];r=s?Ad(C):ih(C)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=QS(l,i))}return a}function Ax(n){return void 0!==n}function _B(n,t){return 0!=(n.flags&(t?8:16))}function O(n,t=""){const e=pt(),i=Jn(),r=n+Un,o=i.firstCreatePass?kp(i,r,1,t,null):i.data[r],s=yB(i,e,o,t,n);e[r]=s,np()&&nx(i,e,s,o),ya(o,!1)}let yB=(n,t,e,i,r)=>(Ga(!0),function Xw(n,t){return n.createText(t)}(t[En],i));function ln(n){return _n("",n,""),ln}function _n(n,t,e){const i=pt(),r=Rp(i,n,t,e);return r!==kn&&xc(i,xo(),r),_n}function zp(n,t,e,i,r){const o=pt(),s=function Pp(n,t,e,i,r,o){const a=nh(n,va(),e,r);return ba(2),a?t+Oe(e)+i+Oe(r)+o:kn}(o,n,t,e,i,r);return s!==kn&&xc(o,xo(),s),zp}function yA(n,t,e,i,r,o,s){const a=pt(),l=function Op(n,t,e,i,r,o,s,a){const c=Ex(n,va(),e,r,s);return ba(3),c?t+Oe(e)+i+Oe(r)+o+Oe(s)+a:kn}(a,n,t,e,i,r,o,s);return l!==kn&&xc(a,xo(),l),yA}function kx(n,t,e){Ka(Ws,kl,Rp(pt(),n,t,e),!0)}function Qs(n,t,e){const i=pt();return zo(i,Cd(),t)&&Ys(Jn(),$i(),i,n,t,i[En],e,!0),Qs}function vA(n,t,e){const i=pt();if(zo(i,Cd(),t)){const o=Jn(),s=$i();Ys(o,s,i,n,t,gV(P_(o.data),s,i),e,!0)}return vA}const oh=void 0;var Mte=["en",[["a","p"],["AM","PM"],oh],[["AM","PM"],oh,oh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oh,"{1} 'at' {0}",oh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kte(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let jp={};function as(n){const t=function Rte(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=FB(t);if(e)return e;const i=t.split("-")[0];if(e=FB(i),e)return e;if("en"===i)return Mte;throw new X(701,!1)}function FB(n){return n in jp||(jp[n]=pi.ng&&pi.ng.common&&pi.ng.common.locales&&pi.ng.common.locales[n]),jp[n]}var Ui=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ui||{});const Hp="en-US";let NB=Hp;function xA(n,t,e,i,r){if(n=pn(n),Array.isArray(n))for(let o=0;o<n.length;o++)xA(n[o],t,e,i,r);else{const o=Jn(),s=pt(),a=Kr();let l=eh(n)?n:pn(n.provide);const c=DL(n),d=1048575&a.providerIndexes,f=a.directiveStart,g=a.providerIndexes>>20;if(eh(n)||!n.multi){const y=new Wu(c,r,v),C=EA(l,t,r?d:d+g,f);-1===C?(z(u(a,s),o,l),CA(o,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(y),s.push(y)):(e[C]=y,s[C]=y)}else{const y=EA(l,t,d+g,f),C=EA(l,t,d,d+g),F=C>=0&&e[C];if(r&&!F||!r&&!(y>=0&&e[y])){z(u(a,s),o,l);const te=function kne(n,t,e,i,r){const o=new Wu(n,e,v);return o.multi=[],o.index=t,o.componentProviders=0,l3(o,r,i&&!e),o}(r?Ane:Tne,e.length,r,i,c);!r&&F&&(e[C].providerFactory=te),CA(o,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(te),s.push(te)}else CA(o,n,y>-1?y:C,l3(e[r?C:y],c,!r&&i));!r&&i&&F&&e[C].componentProviders++}}}function CA(n,t,e,i){const r=eh(t),o=function EX(n){return!!n.useClass}(t);if(r||o){const l=(o?pn(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function l3(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function EA(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function Tne(n,t,e,i){return DA(this.multi,[])}function Ane(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Lo(e,e[jt],this.providerFactory.index,i);o=a.slice(0,s),DA(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],DA(r,o);return o}function DA(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Wt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function Sne(n,t,e){const i=Jn();if(i.firstCreatePass){const r=ss(n);xA(e,i.data,i.blueprint,r,!0),xA(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class sh{}class c3{}class IA extends sh{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EV(this);const r=vo(t);this._bootstrapComponents=wc(r.bootstrap),this._r3Injector=VL(t,e,[{provide:sh,useValue:this},{provide:th,useValue:this.componentFactoryResolver},...i],Xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class SA extends c3{constructor(t){super(),this.moduleType=t}create(t){return new IA(this.moduleType,t,[])}}class d3 extends sh{constructor(t){super(),this.componentFactoryResolver=new EV(this),this.instance=null;const e=new Cp([...t.providers,{provide:sh,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],t.parent||dx(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function TA(n,t,e=null){return new d3({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let Pne=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=wL(0,e.type),r=i.length>0?TA([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Ge({token:n,providedIn:"environment",factory:()=>new n(Y(Zs))})}return n})();function AA(n){n.getStandaloneInjector=t=>t.get(Pne).getOrCreateStandaloneInjector(n)}function xy(n,t,e){const i=Zr()+n,r=pt();return r[i]===kn?Tl(r,i,e?t.call(e):t()):uy(r,i)}function kd(n,t,e,i){return b3(pt(),Zr(),n,t,e,i)}function Gp(n,t,e,i,r){return w3(pt(),Zr(),n,t,e,i,r)}function y3(n,t,e,i,r,o,s){return function C3(n,t,e,i,r,o,s,a,l){const c=t+e;return Da(n,c,r,o,s,a)?Tl(n,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):Cy(n,c+4)}(pt(),Zr(),n,t,e,i,r,o,s)}function Cy(n,t){const e=n[t];return e===kn?void 0:e}function b3(n,t,e,i,r,o){const s=t+e;return zo(n,s,r)?Tl(n,s+1,o?i.call(o,r):i(r)):Cy(n,s+1)}function w3(n,t,e,i,r,o,s){const a=t+e;return nh(n,a,r,o)?Tl(n,a+2,s?i.call(s,r,o):i(r,o)):Cy(n,a+2)}function x3(n,t,e,i,r,o,s,a){const l=t+e;return Ex(n,l,r,o,s)?Tl(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Cy(n,l+3)}function un(n,t){const e=Jn();let i;const r=n+Un;e.firstCreatePass?(i=function qne(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=pc(i.type)),a=Po(v);try{const l=cp(!1),c=o();return cp(l),function Fee(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,pt(),r,c),c}finally{Po(a)}}function Mn(n,t,e){const i=n+Un,r=pt(),o=Is(r,i);return Dy(r,i)?b3(r,Zr(),t,o.transform,e,o):o.transform(e)}function Ey(n,t,e,i){const r=n+Un,o=pt(),s=Is(o,r);return Dy(o,r)?w3(o,Zr(),t,s.transform,e,i,s):s.transform(e,i)}function Md(n,t,e,i,r){const o=n+Un,s=pt(),a=Is(s,o);return Dy(s,o)?x3(s,Zr(),t,a.transform,e,i,r,a):a.transform(e,i,r)}function D3(n,t,e){const i=n+Un,r=pt(),o=Is(r,i);return Dy(r,i)?function E3(n,t,e,i,r,o){let s=t+e,a=!1;for(let l=0;l<r.length;l++)zo(n,s++,r[l])&&(a=!0);return a?Tl(n,s,i.apply(o,r)):Cy(n,s)}(r,Zr(),t,o.transform,e,o):o.transform.apply(o,e)}function Dy(n,t){return n[jt].data[t].pure}function Kne(){return this._results[Symbol.iterator]()}class Cc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Ct)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Cc.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=Kne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function xa(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function KY(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Yne(n,t,e,i=!0){const r=t[jt];if(function NQ(n,t,e,i){const r=Wr+i,o=e.length;i>0&&(e[r-1][os]=t),i<o-Wr?(t[os]=e[r],xN(e,Wr+i,t)):(e.push(t),t[os]=null),t[Bi]=e;const s=t[uc];null!==s&&e!==s&&function LQ(n,t){const e=n[fc];t[pr]!==t[Bi][Bi][pr]&&(n[Hf]=!0),null===e?n[fc]=[t]:e.push(t)}(s,t);const a=t[Es];null!==a&&a.insertView(n),t[Cn]|=128}(r,t,n,e),i){const o=hT(e,n),s=t[En],a=tx(s,n[ma]);null!==a&&function PQ(n,t,e,i,r,o){i[Vi]=r,i[Hr]=t,X_(n,i,e,1,r,o)}(r,n[Hr],s,t,a,o)}}let ki=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Jne}return n})();const Qne=ki,Xne=class extends Qne{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function Zne(n,t,e,i){const r=t.tView,a=yx(n,r,e,4096&n[Cn]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[uc]=n[t.index];const c=n[Es];return null!==c&&(a[Es]=c.createEmbeddedView(r)),rA(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new cy(r)}};function Jne(){return Fx(Kr(),pt())}function Fx(n,t){return 4&n.type?new Xne(t,n,Sp(n,t)):null}let yr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=oie}return n})();function oie(){return R3(Kr(),pt())}const sie=yr,k3=class extends sie{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Sp(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){const t=D(this._hostTNode,this._hostLView);if(lp(t)){const e=Zu(t,this._hostLView),i=Ed(t);return new Qr(e[jt].data[i+8],e)}return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=M3(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Wr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function q_(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const R=e||{};a=R.index,i=R.injector,r=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef}const l=s?t:new dy(Kn(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const F=(s?c:this.parentInjector).get(Zs,null);F&&(o=F)}Kn(l.componentType??{});const y=l.create(c,r,null,o);return this.insertImpl(y.hostView,a,false),y}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function NS(n){return bo(n[Bi])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[Bi],d=new k3(c,c[Hr],c[Bi]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return Yne(a,r,s,!i),t.attachToViewContainerRef(),xN(MA(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=M3(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=ex(this._lContainer,e);i&&(Gw(MA(this._lContainer),e),lT(i[jt],i))}detach(t){const e=this._adjustIndex(t,-1),i=ex(this._lContainer,e);return i&&null!=Gw(MA(this._lContainer),e)?new cy(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function M3(n){return n[8]}function MA(n){return n[8]||(n[8]=[])}function R3(n,t){let e;const i=t[n.index];return bo(i)?e=i:(e=hV(i,t,null,n),t[n.index]=e,vx(t,e)),P3(e,t,n,i),new k3(e,n,t)}let P3=function O3(n,t,e,i){if(n[ma])return;let r;r=8&e.type?mi(i):function aie(n,t){const e=n[En],i=e.createComment(""),r=No(t,n);return Xu(e,tx(e,r),i,function zQ(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[ma]=r};class RA{constructor(t){this.queryList=t,this.matches=null}clone(){return new RA(this.queryList)}setDirty(){this.queryList.setDirty()}}class PA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new PA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==B3(t,e).matches&&this.queries[e].setDirty()}}class F3{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class OA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new OA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class FA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new FA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,die(e,o)),this.matchTNodeWithReadOption(t,e,Yr(e,t,o,!1,!1))}else i===ki?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Yr(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Dt||r===yr||r===ki&&4&e.type)this.addMatch(e.index,-2);else{const o=Yr(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function die(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function hie(n,t,e,i){return-1===e?function uie(n,t){return 11&n.type?Sp(n,t):4&n.type?Fx(n,t):null}(t,n):-2===e?function fie(n,t,e){return e===Dt?Sp(t,n):e===ki?Fx(t,n):e===yr?R3(t,n):void 0}(n,t,i):Lo(n,n[jt],e,t)}function N3(n,t,e,i){const r=t[Es].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:hie(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function NA(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=N3(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],d=t[-l];for(let f=Wr;f<d.length;f++){const g=d[f];g[uc]===g[Bi]&&NA(g[jt],g,c,i)}if(null!==d[fc]){const f=d[fc];for(let g=0;g<f.length;g++){const y=f[g];NA(y[jt],y,c,i)}}}}}return i}function Vt(n){const t=pt(),e=Jn(),i=Rw();O_(i+1);const r=B3(e,i);if(n.dirty&&function OS(n){return 4==(4&n[Cn])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?NA(e,t,i,[]):N3(e,t,r,i);n.reset(o,$X),n.notifyOnChanges()}return!0}return!1}function An(n,t,e){const i=Jn();i.firstCreatePass&&(V3(i,new F3(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),L3(i,pt(),t)}function ii(n,t,e,i){const r=Jn();if(r.firstCreatePass){const o=Kr();V3(r,new F3(t,e,i),o.index),function mie(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}L3(r,pt(),e)}function Bt(){return function pie(n,t){return n[Es].queries[t].queryList}(pt(),Rw())}function L3(n,t,e){const i=new Cc(4==(4&e));(function xJ(n,t,e,i){const r=pV(t);r.push(e),n.firstCreatePass&&mV(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[Es]&&(t[Es]=new PA),t[Es].queries.push(new RA(i))}function V3(n,t,e){null===n.queries&&(n.queries=new OA),n.queries.track(new FA(t,e))}function B3(n,t){return n.queries.getByIndex(t)}function Ml(n,t){return Fx(n,t)}const jA=new Ue("Application Initializer");let HA=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=Tt(jA,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(my(o))e.push(o);else if(WV(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n4=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Rl=new Ue("LocaleId",{providedIn:"root",factory:()=>Tt(Rl,Vn.Optional|Vn.SkipSelf)||function Nie(){return typeof $localize<"u"&&$localize.locale||Hp}()});let Vx=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Bie{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let r4=(()=>{class n{compileModuleSync(e){return new SA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=wc(vo(e).declarations).reduce((s,a)=>{const l=Kn(a);return l&&s.push(new dy(l)),s},[]);return new Bie(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const l4=new Ue(""),Ux=new Ue("");let KA,qA=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,KA||(function are(n){KA=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Lt),Y(WA),Y(Ux))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),WA=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return KA?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Rd=null;const c4=new Ue("AllowMultipleToken"),ZA=new Ue("PlatformDestroyListeners"),zx=new Ue("appBootstrapListener");class u4{constructor(t,e){this.name=t,this.token=e}}function f4(n,t,e=[]){const i=`Platform: ${t}`,r=new Ue(i);return(o=[])=>{let s=YA();if(!s||s.injector.get(c4,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function dre(n){if(Rd&&!Rd.get(c4,!1))throw new X(400,!1);(function d4(){!function IS(n){Wf=n}(()=>{throw new X(600,!1)})})(),Rd=n;const t=n.get(m4);(function h4(n){n.get(IL,null)?.forEach(e=>e())})(n)}(function p4(n=[],t){return Ii.create({name:t,providers:[{provide:ET,useValue:"platform"},{provide:ZA,useValue:new Set([()=>Rd=null])},...n]})}(a,i))}return function hre(n){const t=YA();if(!t)throw new X(401,!1);return t}()}}function YA(){return Rd?.get(m4)??null}let m4=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function fre(n="zone.js",t){return"noop"===n?new oJ:"zone.js"===n?new Lt(t):n}(i?.ngZone,function g4(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function Rne(n,t,e){return new IA(n,t,e)}(e.moduleType,this.injector,function w4(n){return[{provide:Lt,useFactory:n},{provide:ty,multi:!0,useFactory:()=>{const t=Tt(mre,{optional:!0});return()=>t.initialize()}},{provide:b4,useFactory:pre},{provide:HL,useFactory:GL}]}(()=>r)),s=o.injector.get(Ea,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{jx(this._modules,o),a.unsubscribe()})}),function _4(n,t,e){try{const i=e();return my(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(HA);return a.runInitializers(),a.donePromise.then(()=>(function LB(n){Cs(n,"Expected localeId to be defined"),"string"==typeof n&&(NB=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Rl,Hp)||Hp),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=y4({},i);return function lre(n,t,e){const i=new SA(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ec);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new X(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(ZA,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Ii))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function y4(n,t){return Array.isArray(t)?t.reduce(y4,n):{...n,...t}}let Ec=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Tt(b4),this.zoneIsStable=Tt(HL),this.componentTypes=[],this.components=[],this.isStable=Tt(Vx).hasPendingTasks.pipe(St(e=>e?ne(!1):this.zoneIsStable),dn(),lt()),this._injector=Tt(Zs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof ML;if(!this._injector.get(HA).done)throw!r&&function vl(n){const t=Kn(n)||Or(n)||jr(n);return null!==t&&t.standalone}(e),new X(405,!1);let s;s=r?e:this._injector.get(th).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function cre(n){return n.isBoundToModule}(s)?void 0:this._injector.get(sh),c=s.create(Ii.NULL,[],i||s.selector,a),d=c.location.nativeElement,f=c.injector.get(l4,null);return f?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),jx(this.components,c),f?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;jx(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(zx,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>jx(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new X(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const b4=new Ue("",{providedIn:"root",factory:()=>Tt(Ea).handleError.bind(void 0)});function pre(){const n=Tt(Lt),t=Tt(Ea);return e=>n.runOutsideAngular(()=>t.handleError(e))}let mre=(()=>{class n{constructor(){this.zone=Tt(Lt),this.applicationRef=Tt(Ec)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let qi=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=_re}return n})();function _re(n){return function yre(n,t,e){if(gd(n)&&!e){const i=wo(n.index,t);return new cy(i,i)}return 47&n.type?new cy(t[pr],t):null}(Kr(),pt(),16==(16&n))}class I4{constructor(){}supports(t){return Cx(t)}create(t){return new Ere(t)}}const Cre=(n,t)=>t;class Ere{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Cre}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<T4(i,r,o)?e:i,a=T4(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,d=l-r;if(c!=d){for(let g=0;g<c;g++){const y=g<o.length?o[g]:o[g]=0,C=y+g;d<=C&&C<c&&(o[g]=y+1)}o[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cx(t))throw new X(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function pee(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Dre(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new S4),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new S4),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Dre{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ire{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class S4{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Ire,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T4(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class A4{constructor(){}supports(t){return t instanceof Map||oA(t)}create(){return new Sre}}class Sre{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||oA(t)))throw new X(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Tre(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Tre{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function k4(){return new Pl([new I4])}let Pl=(()=>{class n{static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:k4});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||k4()),deps:[[n,new Qu,new $a]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new X(901,!1)}}return n})();function M4(){return new lh([new A4])}let lh=(()=>{class n{static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:M4});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||M4()),deps:[[n,new Qu,new $a]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new X(901,!1)}}return n})();const Mre=f4(null,"core",[]);let Rre=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Ec))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({})}return n})();function Wp(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let n1=null;function Pd(){return n1}class qre{}const fn=new Ue("DocumentToken");let r1=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return Tt(Kre)},providedIn:"platform"})}return n})();const Wre=new Ue("Location Initialized");let Kre=(()=>{class n extends r1{constructor(){super(),this._doc=Tt(fn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pd().getBaseHref(this._doc)}onPopState(e){const i=Pd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Pd().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function o1(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function U4(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Dc(n){return n&&"?"!==n[0]?"?"+n:n}let ch=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return Tt(j4)},providedIn:"root"})}return n})();const z4=new Ue("appBaseHref");let j4=(()=>{class n extends ch{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Tt(fn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return o1(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Dc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Dc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Dc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(r1),Y(z4,8))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zre=(()=>{class n extends ch{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=o1(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Dc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Dc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(r1),Y(z4,8))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),Ty=(()=>{class n{constructor(e){this._subject=new Ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Xre(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(U4(H4(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Dc(i))}normalize(e){return n.stripTrailingSlash(function Qre(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,H4(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Dc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Dc;static#t=this.joinWithSlash=o1;static#n=this.stripTrailingSlash=U4;static#i=this.\u0275fac=function(i){return new(i||n)(Y(ch))};static#r=this.\u0275prov=Ge({token:n,factory:function(){return function Yre(){return new Ty(Y(ch))}()},providedIn:"root"})}return n})();function H4(n){return n.replace(/\/index.html$/,"")}var qx=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(qx||{}),cs=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(cs||{}),Mi=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Mi||{}),Xs=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Xs||{}),Fr=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Fr||{});function Wx(n,t){return Sa(as(n)[Ui.DateFormat],t)}function Kx(n,t){return Sa(as(n)[Ui.TimeFormat],t)}function Zx(n,t){return Sa(as(n)[Ui.DateTimeFormat],t)}function Ia(n,t){const e=as(n),i=e[Ui.NumberSymbols][t];if(typeof i>"u"){if(t===Fr.CurrencyDecimal)return e[Ui.NumberSymbols][Fr.Decimal];if(t===Fr.CurrencyGroup)return e[Ui.NumberSymbols][Fr.Group]}return i}function $4(n){if(!n[Ui.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ui.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Sa(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function a1(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hoe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ay={},foe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ic=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Ic||{}),di=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(di||{}),ui=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(ui||{});function poe(n,t,e,i){let r=function Coe(n){if(K4(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Yx(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hoe))return function Eoe(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,c),t}(i)}const t=new Date(n);if(!K4(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Sc(e,t)||t;let a,s=[];for(;t;){if(a=foe.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const d=s.pop();if(!d)break;t=d}}let l=r.getTimezoneOffset();i&&(l=W4(i,l),r=function xoe(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function woe(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(W4(t,r)-r))}(r,i,!0));let c="";return s.forEach(d=>{const f=function boe(n){if(c1[n])return c1[n];let t;switch(n){case"G":case"GG":case"GGG":t=zi(ui.Eras,Mi.Abbreviated);break;case"GGGG":t=zi(ui.Eras,Mi.Wide);break;case"GGGGG":t=zi(ui.Eras,Mi.Narrow);break;case"y":t=Gr(di.FullYear,1,0,!1,!0);break;case"yy":t=Gr(di.FullYear,2,0,!0,!0);break;case"yyy":t=Gr(di.FullYear,3,0,!1,!0);break;case"yyyy":t=Gr(di.FullYear,4,0,!1,!0);break;case"Y":t=eC(1);break;case"YY":t=eC(2,!0);break;case"YYY":t=eC(3);break;case"YYYY":t=eC(4);break;case"M":case"L":t=Gr(di.Month,1,1);break;case"MM":case"LL":t=Gr(di.Month,2,1);break;case"MMM":t=zi(ui.Months,Mi.Abbreviated);break;case"MMMM":t=zi(ui.Months,Mi.Wide);break;case"MMMMM":t=zi(ui.Months,Mi.Narrow);break;case"LLL":t=zi(ui.Months,Mi.Abbreviated,cs.Standalone);break;case"LLLL":t=zi(ui.Months,Mi.Wide,cs.Standalone);break;case"LLLLL":t=zi(ui.Months,Mi.Narrow,cs.Standalone);break;case"w":t=l1(1);break;case"ww":t=l1(2);break;case"W":t=l1(1,!0);break;case"d":t=Gr(di.Date,1);break;case"dd":t=Gr(di.Date,2);break;case"c":case"cc":t=Gr(di.Day,1);break;case"ccc":t=zi(ui.Days,Mi.Abbreviated,cs.Standalone);break;case"cccc":t=zi(ui.Days,Mi.Wide,cs.Standalone);break;case"ccccc":t=zi(ui.Days,Mi.Narrow,cs.Standalone);break;case"cccccc":t=zi(ui.Days,Mi.Short,cs.Standalone);break;case"E":case"EE":case"EEE":t=zi(ui.Days,Mi.Abbreviated);break;case"EEEE":t=zi(ui.Days,Mi.Wide);break;case"EEEEE":t=zi(ui.Days,Mi.Narrow);break;case"EEEEEE":t=zi(ui.Days,Mi.Short);break;case"a":case"aa":case"aaa":t=zi(ui.DayPeriods,Mi.Abbreviated);break;case"aaaa":t=zi(ui.DayPeriods,Mi.Wide);break;case"aaaaa":t=zi(ui.DayPeriods,Mi.Narrow);break;case"b":case"bb":case"bbb":t=zi(ui.DayPeriods,Mi.Abbreviated,cs.Standalone,!0);break;case"bbbb":t=zi(ui.DayPeriods,Mi.Wide,cs.Standalone,!0);break;case"bbbbb":t=zi(ui.DayPeriods,Mi.Narrow,cs.Standalone,!0);break;case"B":case"BB":case"BBB":t=zi(ui.DayPeriods,Mi.Abbreviated,cs.Format,!0);break;case"BBBB":t=zi(ui.DayPeriods,Mi.Wide,cs.Format,!0);break;case"BBBBB":t=zi(ui.DayPeriods,Mi.Narrow,cs.Format,!0);break;case"h":t=Gr(di.Hours,1,-12);break;case"hh":t=Gr(di.Hours,2,-12);break;case"H":t=Gr(di.Hours,1);break;case"HH":t=Gr(di.Hours,2);break;case"m":t=Gr(di.Minutes,1);break;case"mm":t=Gr(di.Minutes,2);break;case"s":t=Gr(di.Seconds,1);break;case"ss":t=Gr(di.Seconds,2);break;case"S":t=Gr(di.FractionalSeconds,1);break;case"SS":t=Gr(di.FractionalSeconds,2);break;case"SSS":t=Gr(di.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Xx(Ic.Short);break;case"ZZZZZ":t=Xx(Ic.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Xx(Ic.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Xx(Ic.Long);break;default:return null}return c1[n]=t,t}(d);c+=f?f(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Yx(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Sc(n,t){const e=function eoe(n){return as(n)[Ui.LocaleId]}(n);if(Ay[e]=Ay[e]||{},Ay[e][t])return Ay[e][t];let i="";switch(t){case"shortDate":i=Wx(n,Xs.Short);break;case"mediumDate":i=Wx(n,Xs.Medium);break;case"longDate":i=Wx(n,Xs.Long);break;case"fullDate":i=Wx(n,Xs.Full);break;case"shortTime":i=Kx(n,Xs.Short);break;case"mediumTime":i=Kx(n,Xs.Medium);break;case"longTime":i=Kx(n,Xs.Long);break;case"fullTime":i=Kx(n,Xs.Full);break;case"short":const r=Sc(n,"shortTime"),o=Sc(n,"shortDate");i=Qx(Zx(n,Xs.Short),[r,o]);break;case"medium":const s=Sc(n,"mediumTime"),a=Sc(n,"mediumDate");i=Qx(Zx(n,Xs.Medium),[s,a]);break;case"long":const l=Sc(n,"longTime"),c=Sc(n,"longDate");i=Qx(Zx(n,Xs.Long),[l,c]);break;case"full":const d=Sc(n,"fullTime"),f=Sc(n,"fullDate");i=Qx(Zx(n,Xs.Full),[d,f])}return i&&(Ay[e][t]=i),i}function Qx(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Za(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.slice(s.length-t)),o+s}function Gr(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function goe(n,t){switch(n){case di.FullYear:return t.getFullYear();case di.Month:return t.getMonth();case di.Date:return t.getDate();case di.Hours:return t.getHours();case di.Minutes:return t.getMinutes();case di.Seconds:return t.getSeconds();case di.FractionalSeconds:return t.getMilliseconds();case di.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===di.Hours)0===a&&-12===e&&(a=12);else if(n===di.FractionalSeconds)return function moe(n,t){return Za(n,3).substring(0,t)}(a,t);const l=Ia(s,Fr.MinusSign);return Za(a,t,l,i,r)}}function zi(n,t,e=cs.Format,i=!1){return function(r,o){return function _oe(n,t,e,i,r,o){switch(e){case ui.Months:return function ioe(n,t,e){const i=as(n),o=Sa([i[Ui.MonthsFormat],i[Ui.MonthsStandalone]],t);return Sa(o,e)}(t,r,i)[n.getMonth()];case ui.Days:return function noe(n,t,e){const i=as(n),o=Sa([i[Ui.DaysFormat],i[Ui.DaysStandalone]],t);return Sa(o,e)}(t,r,i)[n.getDay()];case ui.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const c=function aoe(n){const t=as(n);return $4(t),(t[Ui.ExtraData][2]||[]).map(i=>"string"==typeof i?a1(i):[a1(i[0]),a1(i[1])])}(t),d=function loe(n,t,e){const i=as(n);$4(i);const o=Sa([i[Ui.ExtraData][0],i[Ui.ExtraData][1]],t)||[];return Sa(o,e)||[]}(t,r,i),f=c.findIndex(g=>{if(Array.isArray(g)){const[y,C]=g,R=s>=y.hours&&a>=y.minutes,F=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(R&&F)return!0}else if(R||F)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(-1!==f)return d[f]}return function toe(n,t,e){const i=as(n),o=Sa([i[Ui.DayPeriodsFormat],i[Ui.DayPeriodsStandalone]],t);return Sa(o,e)}(t,r,i)[s<12?0:1];case ui.Eras:return function roe(n,t){return Sa(as(n)[Ui.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Xx(n){return function(t,e,i){const r=-1*i,o=Ia(e,Fr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ic.Short:return(r>=0?"+":"")+Za(s,2,o)+Za(Math.abs(r%60),2,o);case Ic.ShortGMT:return"GMT"+(r>=0?"+":"")+Za(s,1,o);case Ic.Long:return"GMT"+(r>=0?"+":"")+Za(s,2,o)+":"+Za(Math.abs(r%60),2,o);case Ic.Extended:return 0===i?"Z":(r>=0?"+":"")+Za(s,2,o)+":"+Za(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const yoe=0,Jx=4;function q4(n){return Yx(n.getFullYear(),n.getMonth(),n.getDate()+(Jx-n.getDay()))}function l1(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=q4(e),s=function voe(n){const t=Yx(n,yoe,1).getDay();return Yx(n,0,1+(t<=Jx?Jx:Jx+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Za(r,n,Ia(i,Fr.MinusSign))}}function eC(n,t=!1){return function(e,i){return Za(q4(e).getFullYear(),n,Ia(i,Fr.MinusSign),t)}}const c1={};function W4(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function K4(n){return n instanceof Date&&!isNaN(n.valueOf())}const Doe=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function f1(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function X4(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const m1=/\s+/,J4=[];let Od=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=J4,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(m1):J4}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(m1):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(m1).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(v(Pl),v(lh),v(Dt),v(Ca))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Loe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jo=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Loe(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),tU(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{tU(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(v(yr),v(ki),v(Pl))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function tU(n,t){n.context.$implicit=t.item}let xi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Voe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){nU("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){nU("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(v(yr),v(ki))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Voe{constructor(){this.$implicit=null,this.ngIf=null}}function nU(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Xt(t)}'.`)}class g1{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let dh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),My=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new g1(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(v(yr),v(ki),v(dh,9))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),_1=(()=>{class n{constructor(e,i,r){r._addDefault(new g1(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(v(yr),v(ki),v(dh,9))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),nC=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),s=-1===r.indexOf("-")?void 0:Sd.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(v(Dt),v(lh),v(Ca))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),uh=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(v(yr))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Di]})}return n})();function Ya(n,t){return new X(2100,!1)}class Uoe{createSubscription(t,e){return pw(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){pw(()=>t.unsubscribe())}}class zoe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const joe=new zoe,Hoe=new Uoe;let Js=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(my(e))return joe;if(WV(e))return Hoe;throw Ya()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(v(qi,16))};static#t=this.\u0275pipe=hr({name:"async",type:n,pure:!1,standalone:!0})}return n})(),y1=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Ya();return e.toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=hr({name:"uppercase",type:n,pure:!0,standalone:!0})}return n})();const Koe=new Ue("DATE_PIPE_DEFAULT_TIMEZONE"),Zoe=new Ue("DATE_PIPE_DEFAULT_OPTIONS");let Ry=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,o){if(null==e||""===e||e!=e)return null;try{return poe(e,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Ya()}}static#e=this.\u0275fac=function(i){return new(i||n)(v(Rl,16),v(Koe,24),v(Zoe,24))};static#t=this.\u0275pipe=hr({name:"date",type:n,pure:!0,standalone:!0})}return n})(),rU=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=oU}transform(e,i=oU){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function ese(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}static#e=this.\u0275fac=function(i){return new(i||n)(v(lh,16))};static#t=this.\u0275pipe=hr({name:"keyvalue",type:n,pure:!1,standalone:!0})}return n})();function oU(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Zp=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function v1(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Moe(n,t,e){return function u1(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function Poe(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function Roe(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let d=t.minInt,f=t.minFrac,g=t.maxFrac;if(o){const ie=o.match(Doe);if(null===ie)throw new Error(`${o} is not a valid digit info`);const ye=ie[1],Ve=ie[3],_t=ie[5];null!=ye&&(d=f1(ye)),null!=Ve&&(f=f1(Ve)),null!=_t?g=f1(_t):null!=Ve&&f>g&&(g=f)}!function Ooe(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let f=s;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let f=1;f<s;f++)i[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,d=i.reduceRight(function(f,g,y,C){return C[y]=(g+=f)<10?g:g-10,l&&(0===C[y]&&y>=c?C.pop():l=!1),g>=10?1:0},0);d&&(i.unshift(d),n.integerLen++)}(c,f,g);let y=c.digits,C=c.integerLen;const R=c.exponent;let F=[];for(l=y.every(ie=>!ie);C<d;C++)y.unshift(0);for(;C<0;C++)y.unshift(0);C>0?F=y.splice(C,y.length):(F=y,y=[0]);const te=[];for(y.length>=t.lgSize&&te.unshift(y.splice(-t.lgSize,y.length).join(""));y.length>t.gSize;)te.unshift(y.splice(-t.gSize,y.length).join(""));y.length&&te.unshift(y.join("")),a=te.join(Ia(e,i)),F.length&&(a+=Ia(e,r)+F.join("")),R&&(a+=Ia(e,Fr.Exponential)+"+"+R)}else a=Ia(e,Fr.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function h1(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substring(0,a.indexOf("#"));for(let d=0;d<l.length;d++){const f=l.charAt(d);"0"===f?e.minFrac=e.maxFrac=d+1:"#"===f?e.maxFrac=d+1:e.posSuf+=f}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const d=r.length-e.posPre.length-e.posSuf.length,f=o.indexOf("#");e.negPre=o.substring(0,f).replace(/'/g,""),e.negSuf=o.slice(f+d).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function s1(n,t){return as(n)[Ui.NumberFormats][t]}(t,qx.Decimal),Ia(t,Fr.MinusSign)),t,Fr.Group,Fr.Decimal,e)}(function b1(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw Ya()}}static#e=this.\u0275fac=function(i){return new(i||n)(v(Rl,16))};static#t=this.\u0275pipe=hr({name:"number",type:n,pure:!0,standalone:!0})}return n})();let Yp=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Ya();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=hr({name:"slice",type:n,pure:!1,standalone:!0})}return n})(),ea=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({})}return n})();const sU="browser";function Tc(n){return n===sU}function Ol(n){return"server"===n}let sse=(()=>{class n{static#e=this.\u0275prov=Ge({token:n,providedIn:"root",factory:()=>new ase(Y(fn),window)})}return n})();class ase{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function lse(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aU{}class Mse extends qre{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class C1 extends Mse{static makeCurrent(){!function $re(n){n1||(n1=n)}(new C1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Rse(){return Oy=Oy||document.querySelector("base"),Oy?Oy.getAttribute("href"):null}();return null==e?null:function Pse(n){oC=oC||document.createElement("a"),oC.setAttribute("href",n);const t=oC.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Oy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return X4(document.cookie,t)}}let oC,Oy=null,Fse=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const E1=new Ue("EventManagerPlugins");let hU=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Y(E1),Y(Lt))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();class fU{constructor(t){this._doc=t}}const D1="ng-app-id";let pU=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ol(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${D1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(D1),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(D1,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn),Y(ny),Y(SL,8),Y(gr))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const I1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S1=/%COMP%/g,Bse=new Ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function gU(n,t){return t.map(e=>e.replace(S1,n))}let T1=(()=>{class n{constructor(e,i,r,o,s,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ol(a),this.defaultRenderer=new A1(e,s,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dr.ShadowDom&&(i={...i,encapsulation:Dr.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof yU?r.applyToHost(e):r instanceof k1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Dr.Emulated:o=new yU(l,c,i,this.appId,d,s,a,f);break;case Dr.ShadowDom:return new Hse(l,c,e,i,s,a,this.nonce,f);default:o=new k1(l,c,i,d,s,a,f)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(hU),Y(pU),Y(ny),Y(Bse),Y(fn),Y(gr),Y(Lt),Y(SL))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();class A1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(I1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(_U(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(_U(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new X(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=I1[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=I1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Sd.DashCase|Sd.Important)?t.style.setProperty(e,i,r&Sd.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Sd.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Pd().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function _U(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Hse extends A1{constructor(t,e,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=gU(r.id,r.styles);for(const d of c){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class k1 extends A1{constructor(t,e,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?gU(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class yU extends k1{constructor(t,e,i,r,o,s,a,l){const c=r+"-"+i.id;super(t,e,i,o,s,a,l,c),this.contentAttr=function Use(n){return"_ngcontent-%COMP%".replace(S1,n)}(c),this.hostAttr=function zse(n){return"_nghost-%COMP%".replace(S1,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Gse=(()=>{class n extends fU{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const vU=["alt","control","meta","shift"],$se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qse={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wse=(()=>{class n extends fU{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pd().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),vU.forEach(c=>{const d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(e,i){let r=$se[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vU.forEach(s=>{s!==r&&(0,qse[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const Qse=f4(Mre,"browser",[{provide:gr,useValue:sU},{provide:IL,useValue:function Kse(){C1.makeCurrent()},multi:!0},{provide:fn,useFactory:function Yse(){return function ZQ(n){mT=n}(document),document},deps:[]}]),Xse=new Ue(""),xU=[{provide:Ux,useClass:class Ose{addToWindow(t){pi.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new X(5103,!1);return o},pi.getAllAngularTestabilities=()=>t.getAllTestabilities(),pi.getAllAngularRootElements=()=>t.getAllRootElements(),pi.frameworkStabilizers||(pi.frameworkStabilizers=[]),pi.frameworkStabilizers.push(i=>{const r=pi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Pd().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l4,useClass:qA,deps:[Lt,WA,Ux]},{provide:qA,useClass:qA,deps:[Lt,WA,Ux]}],CU=[{provide:ET,useValue:"root"},{provide:Ea,useFactory:function Zse(){return new Ea},deps:[]},{provide:E1,useClass:Gse,multi:!0,deps:[fn,Lt,gr]},{provide:E1,useClass:Wse,multi:!0,deps:[fn]},T1,pU,hU,{provide:oy,useExisting:T1},{provide:aU,useClass:Fse,deps:[]},[]];let EU=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ny,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Xse,12))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({providers:[...CU,...xU],imports:[ea,Rre]})}return n})(),DU=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn))};static#t=this.\u0275prov=Ge({token:n,factory:function(i){let r=null;return r=i?new i:function eae(){return new DU(Y(fn))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Fy=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(i){let r=null;return r=i?new(i||n):Y(TU),r},providedIn:"root"})}return n})(),TU=(()=>{class n extends Fy{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case oo.NONE:return i;case oo.HTML:return Il(i,"HTML")?Ks(i):gL(this._doc,String(i)).toString();case oo.STYLE:return Il(i,"Style")?Ks(i):i;case oo.SCRIPT:if(Il(i,"Script"))return Ks(i);throw new X(5200,!1);case oo.URL:return Il(i,"URL")?Ks(i):sx(String(i));case oo.RESOURCE_URL:if(Il(i,"ResourceURL"))return Ks(i);throw new X(5201,!1);default:throw new X(5202,!1)}}bypassSecurityTrustHtml(e){return function nX(n){return new YQ(n)}(e)}bypassSecurityTrustStyle(e){return function iX(n){return new QQ(n)}(e)}bypassSecurityTrustScript(e){return function rX(n){return new XQ(n)}(e)}bypassSecurityTrustUrl(e){return function oX(n){return new JQ(n)}(e)}bypassSecurityTrustResourceUrl(e){return function sX(n){return new eX(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn))};static#t=this.\u0275prov=Ge({token:n,factory:function(i){let r=null;return r=i?new i:function rae(n){return new TU(n.get(fn))}(Y(Ii)),r},providedIn:"root"})}return n})();const oae=new Ue("cdk-dir-doc",{providedIn:"root",factory:function sae(){return Tt(fn)}}),aae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let R1,so=(()=>{class n{constructor(e){this.value="ltr",this.change=new Ct,e&&(this.value=function lae(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?aae.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(Y(oae,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})();try{R1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{R1=!1}let Qp,nr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Tc(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!R1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(Y(gr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function MU(){if(Qp)return Qp;if("object"!=typeof document||!document)return Qp=new Set(kU),Qp;let n=document.createElement("input");return Qp=new Set(kU.filter(t=>(n.setAttribute("type",t),n.type===t))),Qp}let Ny,sC,fh,P1;function Fl(n){return function cae(){if(null==Ny&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ny=!0}))}finally{Ny=Ny||!1}return Ny}()?n:!!n.capture}function RU(){if(null==fh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return fh=!1,fh;if("scrollBehavior"in document.documentElement.style)fh=!0;else{const n=Element.prototype.scrollTo;fh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return fh}function Ly(){if("object"!=typeof document||!document)return 0;if(null==sC){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),sC=0,0===n.scrollLeft&&(n.scrollLeft=1,sC=0===n.scrollLeft?1:2),n.remove()}return sC}function O1(n){if(function dae(){if(null==P1){const n=typeof document<"u"?document.head:null;P1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return P1}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function aC(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ta(n){return n.composedPath?n.composedPath()[0]:n.target}function F1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function bn(n){return Ae((t,e)=>{at(n).subscribe(ut(e,()=>e.complete(),N)),!e.closed&&t.subscribe(e)})}function Jt(n){return null!=n&&"false"!=`${n}`}function Qa(n,t=0){return PU(n)?Number(n):t}function PU(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Vy(n){return Array.isArray(n)?n:[n]}function $r(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Sr(n){return n instanceof Dt?n.nativeElement:n}class OU{}class uae{}const Ac="*";function Ho(n,t){return{type:7,name:n,definitions:t,options:{}}}function vr(n,t=null){return{type:4,styles:t,timings:n}}function NU(n,t=null){return{type:2,steps:n,options:t}}function In(n){return{type:6,styles:n,offset:null}}function Si(n,t,e){return{type:0,name:n,styles:t,options:e}}function Wi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function cC(n=null){return{type:9,options:n}}function dC(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class By{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class LU{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class hae extends K{constructor(t,e){super()}schedule(t,e=0){return this}}const uC={setInterval(n,t,...e){const{delegate:i}=uC;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=uC;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class hC extends hae{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return uC.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&uC.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,V(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const L1={now:()=>(L1.delegate||Date).now(),delegate:void 0};class Uy{constructor(t,e=Uy.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Uy.now=L1.now;class fC extends Uy{constructor(t,e=Uy.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Nd=new fC(hC),fae=Nd;function pC(n,t=Nd){return Ae((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,d=t.now();if(d<c)return r=this.schedule(void 0,c-d),void i.add(r);a()}e.subscribe(ut(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}let VU=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pae=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Sr(e);return new mt(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Z,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(Y(VU))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mae=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Qa(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Ct,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(pC(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(v(pae),v(Dt),v(Lt))},n.\u0275dir=Se({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[VU]}),n})();function Nl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ei(n,t,e){const i=T(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ae((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ut(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):dt}function gi(n,t){return Ae((e,i)=>{let r=0;e.subscribe(ut(i,o=>n.call(t,o,r++)&&i.next(o)))})}function sn(n){return n<=0?()=>yi:Ae((t,e)=>{let i=0;t.subscribe(ut(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function V1(n){return gi((t,e)=>n<=e)}const{isArray:Aae}=Array,{getPrototypeOf:kae,prototype:Mae,keys:Rae}=Object;function zU(n){if(1===n.length){const t=n[0];if(Aae(t))return{args:t,keys:null};if(function Pae(n){return n&&"object"==typeof n&&kae(n)===Mae}(t)){const e=Rae(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Oae}=Array;function Gy(n){return We(t=>function Fae(n,t){return Oae(t)?n(...t):n(t)}(n,t))}function jU(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function to(...n){const t=Fi(n),e=Ro(n),{args:i,keys:r}=zU(n);if(0===i.length)return B([],t);const o=new mt(HU(i,t,r?s=>jU(r,s):dt));return e?o.pipe(Gy(e)):o}function HU(n,t,e=dt){return i=>{GU(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)GU(t,()=>{const c=B(n[l],t);let d=!1;c.subscribe(ut(i,f=>{o[l]=f,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function GU(n,t,e){n?Qn(e,n,t):t()}function $y(...n){return function Nae(){return er(1)}()(B(n,Fi(n)))}function Tr(...n){const t=Fi(n);return Ae((e,i)=>{(t?$y(n,e,t):$y(n,e)).subscribe(i)})}const $U=new Set;let Xp,Lae=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Bae}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Vae(n){if(!$U.has(n))try{Xp||(Xp=document.createElement("style"),Xp.setAttribute("type","text/css"),document.head.appendChild(Xp)),Xp.sheet&&(Xp.sheet.insertRule(`@media ${n} {body{ }}`,0),$U.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(Y(nr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let B1=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return qU(Vy(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=to(qU(Vy(e)).map(s=>this._registerQuery(s).observable));return o=$y(o.pipe(sn(1)),o.pipe(V1(1),pC(0))),o.pipe(We(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new mt(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Tr(i),We(({matches:s})=>({query:e,matches:s})),bn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(Y(Lae),Y(Lt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qU(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function vC(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const KU="cdk-describedby-message",bC="cdk-describedby-host";let U1=0,Hae=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+U1++,this._document=e,this._id=Tt(ny)+"-"+U1++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=z1(i,r);"string"!=typeof i?(ZU(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=z1(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${bC}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(bC);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");ZU(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(z1(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=vC(e,"aria-describedby").filter(r=>0!=r.indexOf(KU));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function zae(n,t,e){const i=vC(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(bC,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function jae(n,t,e){const r=vC(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(bC)}_isElementDescribedByMessage(e,i){const r=vC(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(Y(fn),Y(nr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z1(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function ZU(n,t){n.id||(n.id=`${KU}-${t}-${U1++}`)}class YU{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Z,this._typeaheadSubscription=K.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Z,this.change=new Z,t instanceof Cc&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ei(e=>this._pressedLetters.push(e)),pC(t),gi(()=>this._pressedLetters.length>0),We(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||Nl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Cc?this._items.toArray():this._items}}class Gae extends YU{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class QU extends YU{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let wC=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function qae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function $ae(n){try{return n.frameElement}catch{return null}}(function ele(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===JU(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=JU(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Xae(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Jae(n){return!function Kae(n){return function Yae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Wae(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Zae(n){return function Qae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||XU(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(Y(nr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XU(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function JU(n){if(!XU(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class tle{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(sn(1)).subscribe(t)}}let j1=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new tle(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(Y(wC),Y(Lt),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xC(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function CC(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const nle=new Ue("cdk-input-modality-detector-options"),ile={ignoreKeys:[18,17,224,91,16]},Jp=Fl({passive:!0,capture:!0});let rle=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new P(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ta(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(xC(s)?"keyboard":"mouse"),this._mostRecentTarget=Ta(s))},this._onTouchstart=s=>{CC(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ta(s))},this._options={...ile,...o},this.modalityDetected=this._modality.pipe(V1(1)),this.modalityChanged=this.modalityDetected.pipe(dn()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Jp),r.addEventListener("mousedown",this._onMousedown,Jp),r.addEventListener("touchstart",this._onTouchstart,Jp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Jp),document.removeEventListener("mousedown",this._onMousedown,Jp),document.removeEventListener("touchstart",this._onTouchstart,Jp))}}return n.\u0275fac=function(e){return new(e||n)(Y(nr),Y(Lt),Y(fn),Y(nle,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ole=new Ue("liveAnnouncerElement",{providedIn:"root",factory:function sle(){return null}}),ale=new Ue("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let lle=0,H1=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+lle++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}}return n.\u0275fac=function(e){return new(e||n)(Y(ole,8),Y(Lt),Y(fn),Y(ale,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cle=new Ue("cdk-focus-monitor-default-options"),EC=Fl({passive:!0,capture:!0});let kc=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Z,this._rootNodeFocusAndBlurListener=a=>{for(let c=Ta(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Sr(e);if(!this._platform.isBrowser||1!==r.nodeType)return ne(null);const o=O1(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Z,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Sr(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Sr(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Ta(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,EC),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,EC)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,EC),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,EC),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(Y(Lt),Y(nr),Y(rle),Y(fn,8),Y(cle,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t5="cdk-high-contrast-black-on-white",n5="cdk-high-contrast-white-on-black",G1="cdk-high-contrast-active";let i5=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Tt(B1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(G1,t5,n5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(G1,t5):2===i&&e.add(G1,n5)}}}return n.\u0275fac=function(e){return new(e||n)(Y(nr),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r5=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(Y(i5))},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[BU]}),n})();const dle=["text"];function ule(n,t){if(1&n&&vt(0,"mat-pseudo-checkbox",6),2&n){const e=se();L("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function hle(n,t){1&n&&vt(0,"mat-pseudo-checkbox",7),2&n&&L("disabled",se().disabled)}function fle(n,t){if(1&n&&(b(0,"span",8),O(1),x()),2&n){const e=se();k(1),_n("(",e.group.label,")")}}const ple=[[["mat-icon"]],"*"],mle=["mat-icon","*"],vle=new Ue("mat-sanity-checks",{providedIn:"root",factory:function yle(){return!0}});let On=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!F1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(Y(i5),Y(vle,8),Y(fn))},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[hh,hh]}),n})();function qy(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Jt(t)}constructor(...t){super(...t),this._disabled=!1}}}function Wy(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function Ky(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Jt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function $1(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Qa(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function a5(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}function ble(n){return class extends n{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new mt(e=>{this._isInitialized?this._notifySubscriber(e):this._pendingSubscribers.push(e)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}let Zy=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,On]}),n})();class xle{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const c5=Fl({passive:!0,capture:!0});class Cle{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ta(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,c5)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,c5)))}}const d5={enterDuration:225,exitDuration:150},u5=Fl({passive:!0,capture:!0}),h5=["mousedown","touchstart"],f5=["mouseup","mouseleave","touchend","touchcancel"];class Qy{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Sr(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...d5,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function Dle(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=l-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);const f=window.getComputedStyle(d),y=f.transitionDuration,C="none"===f.transitionProperty||"0s"===y||"0s, 0s"===y||0===r.width&&0===r.height,R=new xle(this,d,i,C);d.style.transform="scale3d(1, 1, 1)",R.state=0,i.persistent||(this._mostRecentTransientRipple=R);let F=null;return!C&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const te=()=>this._finishRippleTransition(R),ie=()=>this._destroyRipple(R);d.addEventListener("transitionend",te),d.addEventListener("transitioncancel",ie),F={onTransitionEnd:te,onTransitionCancel:ie}}),this._activeRipples.set(R,F),(C||!c)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...d5,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Sr(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,h5.forEach(i=>{Qy._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{f5.forEach(e=>{this._triggerElement.addEventListener(e,this,u5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=xC(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!CC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(h5.forEach(e=>Qy._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&f5.forEach(e=>t.removeEventListener(e,this,u5)))}}Qy._eventManager=new Cle;const Ile=new Ue("mat-ripple-global-options");let Xa=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Qy(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt),v(nr),v(Ile,8),v(Uo,8))},n.\u0275dir=Se({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&hn("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),em=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,On]}),n})(),Sle=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}}return n.\u0275fac=function(e){return new(e||n)(v(Uo,8))},n.\u0275cmp=It({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&hn("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0}),n})(),Tle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On]}),n})();const p5=new Ue("MAT_OPTION_PARENT_COMPONENT"),m5=new Ue("MatOptgroup");let Ale=0;class kle{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Mle=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Jt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ale++,this.onSelectionChange=new Ct,this._stateChanges=new Z}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Nl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new kle(this,e))}}return n.\u0275fac=function(e){Td()},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&An(dle,7),2&e){let r;Vt(r=Bt())&&(i._text=r.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),tm=(()=>{class n extends Mle{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(qi),v(p5,8),v(m5,8))},n.\u0275cmp=It({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(e,i){1&e&&Te("click",function(){return i._selectViaInteraction()})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(Qs("id",i.id),Bn("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),hn("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},exportAs:["matOption"],features:[it],ngContentSelectors:mle,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],["state","checked","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(_r(ple),he(0,ule,1,2,"mat-pseudo-checkbox",0),Dn(1),b(2,"span",1,2),Dn(4,1),x(),he(5,hle,1,1,"mat-pseudo-checkbox",3),he(6,fle,2,1,"span",4),vt(7,"div",5)),2&e&&(L("ngIf",i.multiple),k(5),L("ngIf",!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator),k(1),L("ngIf",i.group&&i.group._inert),k(1),L("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Xa,xi,Sle],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),g5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[em,ea,On,Tle]}),n})();const Ole=["matFormFieldNotchedOutline",""],Fle=["*"],Nle=["textField"],Lle=["iconPrefixContainer"],Vle=["textPrefixContainer"];function Ble(n,t){1&n&&vt(0,"span",19)}function Ule(n,t){if(1&n){const e=Yt();b(0,"label",17),Te("cdkObserveContent",function(){return Xe(e),Ye(se(2)._refreshOutlineNotchWidth())}),Dn(1,1),he(2,Ble,1,0,"span",18),x()}if(2&n){const e=se(2);L("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),Bn("for",e._control.id)("aria-owns",e._control.id),k(2),L("ngIf",!e.hideRequiredMarker&&e._control.required)}}function zle(n,t){1&n&&he(0,Ule,3,6,"label",16),2&n&&L("ngIf",se()._hasFloatingLabel())}function jle(n,t){1&n&&vt(0,"div",20)}function Hle(n,t){}function Gle(n,t){1&n&&he(0,Hle,0,0,"ng-template",22),2&n&&(se(2),L("ngTemplateOutlet",tr(1)))}function $le(n,t){if(1&n&&(b(0,"div",21),he(1,Gle,1,1,"ng-template",9),x()),2&n){const e=se();L("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),k(1),L("ngIf",!e._forceDisplayInfixLabel())}}function qle(n,t){1&n&&(b(0,"div",23,24),Dn(2,2),x())}function Wle(n,t){1&n&&(b(0,"div",25,26),Dn(2,3),x())}function Kle(n,t){}function Zle(n,t){1&n&&he(0,Kle,0,0,"ng-template",22),2&n&&(se(),L("ngTemplateOutlet",tr(1)))}function Yle(n,t){1&n&&(b(0,"div",27),Dn(1,4),x())}function Qle(n,t){1&n&&(b(0,"div",28),Dn(1,5),x())}function Xle(n,t){1&n&&vt(0,"div",29)}function Jle(n,t){1&n&&(b(0,"div",30),Dn(1,6),x()),2&n&&L("@transitionMessages",se()._subscriptAnimationState)}function ece(n,t){if(1&n&&(b(0,"mat-hint",34),O(1),x()),2&n){const e=se(2);L("id",e._hintLabelId),k(1),ln(e.hintLabel)}}function tce(n,t){if(1&n&&(b(0,"div",31),he(1,ece,2,2,"mat-hint",32),Dn(2,7),vt(3,"div",33),Dn(4,8),x()),2&n){const e=se();L("@transitionMessages",e._subscriptAnimationState),k(1),L("ngIf",e.hintLabel)}}const nce=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ice=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let Aa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-label"]]}),n})(),rce=0;const _5=new Ue("MatError");let Xy=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+rce++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(Ss("aria-live"),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(e,i){2&e&&Qs("id",i.id)},inputs:{id:"id"},features:[Wt([{provide:_5,useExisting:n}])]}),n})(),oce=0,q1=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+oce++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(Qs("id",i.id),Bn("align",null),hn("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const sce=new Ue("MatPrefix"),ace=new Ue("MatSuffix");let y5=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function lce(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(v(Dt))},n.\u0275dir=Se({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&hn("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const v5="mdc-line-ripple--active",DC="mdc-line-ripple--deactivating";let b5=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(DC);"opacity"===r.propertyName&&s&&o.remove(v5,DC)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(DC),e.add(v5)}deactivate(){this._elementRef.nativeElement.classList.add(DC)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt))},n.\u0275dir=Se({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),w5=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt))},n.\u0275cmp=It({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&hn("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Ole,ngContentSelectors:Fle,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(_r(),vt(0,"div",0),b(1,"div",1),Dn(2),x(),vt(3,"div",2)),2&e&&(k(1),ai("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const cce={transitionMessages:Ho("transitionMessages",[Si("enter",In({opacity:1,transform:"translateY(0%)"})),Wi("void => enter",[In({opacity:0,transform:"translateY(-5px)"}),vr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let W1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n}),n})();const K1=new Ue("MatFormField"),dce=new Ue("MAT_FORM_FIELD_DEFAULT_OPTIONS");let x5=0,ka=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Jt(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._document=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+x5++,this._hintLabelId="mat-mdc-hint-"+x5++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Z,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),j(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(bn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(qi),v(Lt),v(so),v(nr),v(dce,8),v(Uo,8),v(fn))},n.\u0275cmp=It({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(ii(r,Aa,5),ii(r,Aa,7),ii(r,W1,5),ii(r,sce,5),ii(r,ace,5),ii(r,_5,5),ii(r,q1,5)),2&e){let o;Vt(o=Bt())&&(i._labelChildNonStatic=o.first),Vt(o=Bt())&&(i._labelChildStatic=o.first),Vt(o=Bt())&&(i._formFieldControl=o.first),Vt(o=Bt())&&(i._prefixChildren=o),Vt(o=Bt())&&(i._suffixChildren=o),Vt(o=Bt())&&(i._errorChildren=o),Vt(o=Bt())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(An(Nle,5),An(Lle,5),An(Vle,5),An(y5,5),An(w5,5),An(b5,5)),2&e){let r;Vt(r=Bt())&&(i._textField=r.first),Vt(r=Bt())&&(i._iconPrefixContainer=r.first),Vt(r=Bt())&&(i._textPrefixContainer=r.first),Vt(r=Bt())&&(i._floatingLabel=r.first),Vt(r=Bt())&&(i._notchedOutline=r.first),Vt(r=Bt())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&hn("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Wt([{provide:K1,useExisting:n}])],ngContentSelectors:ice,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(_r(nce),he(0,zle,1,1,"ng-template",null,0,Ml),b(2,"div",1,2),Te("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),he(4,jle,1,0,"div",3),b(5,"div",4),he(6,$le,2,3,"div",5),he(7,qle,3,0,"div",6),he(8,Wle,3,0,"div",7),b(9,"div",8),he(10,Zle,1,1,"ng-template",9),Dn(11),x(),he(12,Yle,2,0,"div",10),he(13,Qle,2,0,"div",11),x(),he(14,Xle,1,0,"div",12),x(),b(15,"div",13),he(16,Jle,2,1,"div",14),he(17,tce,5,2,"div",15),x()),2&e&&(k(2),hn("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),k(2),L("ngIf",!i._hasOutline()&&!i._control.disabled),k(2),L("ngIf",i._hasOutline()),k(1),L("ngIf",i._hasIconPrefix),k(1),L("ngIf",i._hasTextPrefix),k(2),L("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),k(2),L("ngIf",i._hasTextSuffix),k(1),L("ngIf",i._hasIconSuffix),k(1),L("ngIf",!i._hasOutline()),k(1),hn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),L("ngSwitch",i._getDisplayedMessages()),k(1),L("ngSwitchCase","error"),k(1),L("ngSwitchCase","hint"))},dependencies:[xi,uh,dh,My,mae,q1,y5,w5,b5],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[cce.transitionMessages]},changeDetection:0}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,ea,BU,On]}),n})();const D5=Fl({passive:!0});let fce=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return yi;const i=Sr(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Z,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,D5),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,D5)}}),o}stopMonitoring(e){const i=Sr(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(Y(nr),Y(Lt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})();function I5(...n){const t=Ro(n),{args:e,keys:i}=zU(n),r=new mt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let f=!1;at(e[d]).subscribe(ut(o,g=>{f||(f=!0,c--),a[d]=g},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?jU(i,a):a),o.complete())}))}});return t?r.pipe(Gy(t)):r}let S5=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Ca),v(Dt))};static#t=this.\u0275dir=Se({type:n})}return n})(),ph=(()=>{class n extends S5{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=Se({type:n,features:[it]})}return n})();const Ma=new Ue("NgValueAccessor"),mce={provide:Ma,useExisting:Xn(()=>SC),multi:!0};let SC=(()=>{class n extends ph{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=Se({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){1&i&&Te("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Wt([mce]),it]})}return n})();const gce={provide:Ma,useExisting:Xn(()=>ds),multi:!0},yce=new Ue("CompositionEventMode");let ds=(()=>{class n extends S5{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function _ce(){const n=Pd()?Pd().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Ca),v(Dt),v(yce,8))};static#t=this.\u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Te("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Wt([gce]),it]})}return n})();function Ld(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function T5(n){return null!=n&&"number"==typeof n.length}const Co=new Ue("NgValidators"),Vd=new Ue("NgAsyncValidators"),vce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Go{static min(t){return A5(t)}static max(t){return function k5(n){return t=>{if(Ld(t.value)||Ld(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function M5(n){return Ld(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function R5(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function P5(n){return Ld(n.value)||vce.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function O5(n){return t=>Ld(t.value)||!T5(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return F5(t)}static pattern(t){return function N5(n){if(!n)return TC;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ld(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return j5(t)}static composeAsync(t){return H5(t)}}function A5(n){return t=>{if(Ld(t.value)||Ld(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function F5(n){return t=>T5(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function TC(n){return null}function L5(n){return null!=n}function V5(n){return my(n)?B(n):n}function B5(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function U5(n,t){return t.map(e=>e(n))}function z5(n){return n.map(t=>function bce(n){return!n.validate}(t)?t:e=>t.validate(e))}function j5(n){if(!n)return null;const t=n.filter(L5);return 0==t.length?null:function(e){return B5(U5(e,t))}}function Z1(n){return null!=n?j5(z5(n)):null}function H5(n){if(!n)return null;const t=n.filter(L5);return 0==t.length?null:function(e){return I5(U5(e,t).map(V5)).pipe(We(B5))}}function Y1(n){return null!=n?H5(z5(n)):null}function G5(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $5(n){return n._rawValidators}function q5(n){return n._rawAsyncValidators}function Q1(n){return n?Array.isArray(n)?n:[n]:[]}function AC(n,t){return Array.isArray(n)?n.includes(t):n===t}function W5(n,t){const e=Q1(t);return Q1(n).forEach(r=>{AC(e,r)||e.push(r)}),e}function K5(n,t){return Q1(t).filter(e=>!AC(n,e))}class Z5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Z1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Y1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class us extends Z5{get formDirective(){return null}get path(){return null}}class Ll extends Z5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Y5{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $o=(()=>{class n extends Y5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Ll,2))};static#t=this.\u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&hn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[it]})}return n})(),Bd=(()=>{class n extends Y5{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(us,10))};static#t=this.\u0275dir=Se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&hn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[it]})}return n})();const Jy="VALID",MC="INVALID",nm="PENDING",ev="DISABLED";function ek(n){return(RC(n)?n.validators:n)||null}function tk(n,t){return(RC(t)?t.asyncValidators:n)||null}function RC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function X5(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new X(1e3,"");if(!i[e])throw new X(1001,"")}function J5(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new X(1002,"")})}class PC{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jy}get invalid(){return this.status===MC}get pending(){return this.status==nm}get disabled(){return this.status===ev}get enabled(){return this.status!==ev}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(W5(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(W5(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(K5(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(K5(t,this._rawAsyncValidators))}hasValidator(t){return AC(this._rawValidators,t)}hasAsyncValidator(t){return AC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nm,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ev,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jy,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jy||this.status===nm)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ev:Jy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nm,this._hasOwnPendingAsyncValidator=!0;const e=V5(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ct,this.statusChanges=new Ct}_calculateStatus(){return this._allControlsDisabled()?ev:this.errors?MC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nm)?nm:this._anyControlsHaveStatus(MC)?MC:Jy}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){RC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Ece(n){return Array.isArray(n)?Z1(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Dce(n){return Array.isArray(n)?Y1(n):n||null}(this._rawAsyncValidators)}}class Ms extends PC{constructor(t,e,i){super(ek(e),tk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){J5(this,0,t),Object.keys(t).forEach(i=>{X5(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class ez extends Ms{}const mh=new Ue("CallSetDisabledState",{providedIn:"root",factory:()=>tv}),tv="always";function OC(n,t){return[...t.path,n]}function nv(n,t,e=tv){nk(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Sce(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&tz(n,t)})}(n,t),function Ace(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Tce(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&tz(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Ice(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function FC(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),LC(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function NC(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nk(n,t){const e=$5(n);null!==t.validator?n.setValidators(G5(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=q5(n);null!==t.asyncValidator?n.setAsyncValidators(G5(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();NC(t._rawValidators,r),NC(t._rawAsyncValidators,r)}function LC(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=$5(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=q5(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return NC(t._rawValidators,i),NC(t._rawAsyncValidators,i),e}function tz(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function nz(n,t){nk(n,t)}function rk(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function iz(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function ok(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===ds?e=o:function Rce(n){return Object.getPrototypeOf(n.constructor)===ph}(o)?i=o:r=o}),r||i||e||null}const Oce={provide:us,useExisting:Xn(()=>rv)},iv=(()=>Promise.resolve())();let rv=(()=>{class n extends us{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ct,this.form=new Ms({},Z1(e),Y1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){iv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),nv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){iv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){iv.then(()=>{const i=this._findContainer(e.path),r=new Ms({});nz(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){iv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){iv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,iz(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(v(Co,10),v(Vd,10),v(mh,8))};static#t=this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([Oce]),it]})}return n})();function rz(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function oz(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Nr=class extends PC{constructor(t=null,e,i){super(ek(e),tk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),RC(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=oz(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){oz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Lce={provide:Ll,useExisting:Xn(()=>Vl)},lz=(()=>Promise.resolve())();let Vl=(()=>{class n extends Ll{constructor(e,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Nr,this._registered=!1,this.name="",this.update=new Ct,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ok(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),rk(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nv(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){lz.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&Wp(i);lz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?OC(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(v(us,9),v(Co,10),v(Vd,10),v(Ma,10),v(qi,8),v(mh,8))};static#t=this.\u0275dir=Se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Wt([Lce]),it,Di]})}return n})(),sk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const Vce={provide:Ma,useExisting:Xn(()=>ak),multi:!0};let ak=(()=>{class n extends ph{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=Se({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&Te("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Wt([Vce]),it]})}return n})();const Bce={provide:Ma,useExisting:Xn(()=>lk),multi:!0};let cz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({})}return n})(),Uce=(()=>{class n{constructor(){this._accessors=[]}add(e,i){this._accessors.push([e,i])}remove(e){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===e)return void this._accessors.splice(i,1)}select(e){this._accessors.forEach(i=>{this._isSameGroup(i,e)&&i[1]!==e&&i[1].fireUncheck(e.value)})}_isSameGroup(e,i){return!!e[0].control&&e[0]._parent===i._control._parent&&e[1].name===i.name}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:cz})}return n})(),lk=(()=>{class n extends ph{constructor(e,i,r,o){super(e,i),this._registry=r,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Tt(mh,{optional:!0})??tv}ngOnInit(){this._control=this._injector.get(Ll),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Ca),v(Dt),v(Uce),v(Ii))};static#t=this.\u0275dir=Se({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,r){1&i&&Te("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Wt([Bce]),it]})}return n})();const ck=new Ue("NgModelWithFormControlWarning"),jce={provide:Ll,useExisting:Xn(()=>dk)};let dk=(()=>{class n extends Ll{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Ct,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=ok(0,r)}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&FC(i,this,!1),nv(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rk(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&FC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(v(Co,10),v(Vd,10),v(Ma,10),v(ck,8),v(mh,8))};static#n=this.\u0275dir=Se({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Wt([jce]),it,Di]})}return n})();const Hce={provide:us,useExisting:Xn(()=>Ra)};let Ra=(()=>{class n extends us{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ct,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return nv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){FC(e.control||null,e,!1),function Pce(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,iz(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(FC(i||null,e),(n=>n instanceof Nr)(r)&&(nv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);nz(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function kce(n,t){return LC(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nk(this.form,this),this._oldForm&&LC(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(v(Co,10),v(Vd,10),v(mh,8))};static#t=this.\u0275dir=Se({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Te("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Wt([Hce]),it,Di]})}return n})();const qce={provide:Ll,useExisting:Xn(()=>Mc)};let Mc=(()=>{class n extends Ll{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ct,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ok(0,o)}ngOnChanges(e){this._added||this._setUpControl(),rk(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return OC(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(v(us,13),v(Co,10),v(Vd,10),v(Ma,10),v(ck,8))};static#n=this.\u0275dir=Se({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Wt([qce]),it,Di]})}return n})();let gh=(()=>{class n{constructor(){this._validator=TC}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):TC,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Se({type:n,features:[Di]})}return n})();const ede={provide:Co,useExisting:Xn(()=>mk),multi:!0};let mk=(()=>{class n extends gh{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>function mz(n){return"number"==typeof n?n:parseFloat(n)}(e),this.createValidator=e=>A5(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=Se({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Bn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Wt([ede]),it]})}return n})();const ode={provide:Co,useExisting:Xn(()=>yk),multi:!0};let yk=(()=>{class n extends gh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function pz(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>F5(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275dir=Se({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&Bn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Wt([ode]),it]})}return n})(),bz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({imports:[cz]})}return n})();class wz extends PC{constructor(t,e,i){super(ek(e),tk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){J5(this,0,t),t.forEach((i,r)=>{X5(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function xz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let VC=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return xz(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ms(r,o)}record(e,i=null){const r=this._reduceControls(e);return new ez(r,i)}control(e,i,r){let o={};return this.useNonNullable?(xz(i)?o=i:(o.validators=i,o.asyncValidators=r),new Nr(e,{...o,nonNullable:!0})):new Nr(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new wz(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Nr||e instanceof PC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ade=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:mh,useValue:e.callSetDisabledState??tv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({imports:[bz]})}return n})(),lde=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ck,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:mh,useValue:e.callSetDisabledState??tv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({imports:[bz]})}return n})();const cde=new Ue("MAT_INPUT_VALUE_ACCESSOR"),dde=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ude=0;const hde=a5(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Z}});let Pa=(()=>{class n extends hde{get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Go.required)??!1}set required(e){this._required=Jt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&MU().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Jt(e)}constructor(e,i,r,o,s,a,l,c,d,f){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=f,this._uid="mat-input-"+ude++,this.focused=!1,this.stateChanges=new Z,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(C=>MU().has(C)),this._iOSKeyupListener=C=>{const R=C.target;!R.value&&0===R.selectionStart&&0===R.selectionEnd&&(R.setSelectionRange(1,1),R.setSelectionRange(0,0))};const g=this._elementRef.nativeElement,y=g.nodeName.toLowerCase();this._inputValueAccessor=l||g,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===y,this._isTextarea="textarea"===y,this._isInFormField=!!f,this._isNativeSelect&&(this.controlType=g.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){dde.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(Ll,10),v(rv,8),v(Ra,8),v(Zy),v(cde,10),v(fce),v(Lt),v(K1,8))},n.\u0275dir=Se({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&Te("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(Qs("id",i.id)("disabled",i.disabled)("required",i.required),Bn("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),hn("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Wt([{provide:W1,useExisting:n}]),it,Di]}),n})(),fde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,IC,IC,pce,On]}),n})();function Cz(n){return!!n&&(n instanceof mt||T(n.lift)&&T(n.subscribe))}const BC=H(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ov(n){return new mt(t=>{at(n()).subscribe(t)})}function im(n,t){const e=T(n)?n:()=>n,i=r=>r.error(e());return new mt(t?r=>t.schedule(i,0,r):i)}function vk(){return Ae((n,t)=>{let e=null;n._refCount++;const i=ut(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class UC extends mt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,tt(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new K;const e=this.getSubject();t.add(this.source.subscribe(ut(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=K.EMPTY)}return t}refCount(){return vk()(this)}}function zC(n){return Ae((t,e)=>{let i=!1;t.subscribe(ut(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ez(n=pde){return Ae((t,e)=>{let i=!1;t.subscribe(ut(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pde(){return new BC}function Ja(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gi((r,o)=>n(r,o,i)):dt,sn(1),e?zC(t):Ez(()=>new BC))}function rm(n,t){return T(t)?mn(n,t,1):mn(n,1)}function Ud(n){return Ae((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ut(e,void 0,void 0,s=>{o=at(n(s,Ud(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function _h(n,t){return Ae(function mde(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ut(s,d=>{const f=c++;l=a?n(l,d,f):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,t,arguments.length>=2,!0))}function bk(n){return n<=0?()=>yi:Ae((t,e)=>{let i=[];t.subscribe(ut(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Dz(n){return We(()=>n)}function om(n){return Ae((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Fn="primary",sv=Symbol("RouteTitle");class _de{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function sm(n){return new _de(n)}function yde(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Bl(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Iz(n[r],t[r]))return!1;return!0}function Iz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Sz(n){return n.length>0?n[n.length-1]:null}function zd(n){return Cz(n)?n:my(n)?B(Promise.resolve(n)):ne(n)}const bde={exact:function kz(n,t,e){if(!yh(n.segments,t.segments)||!jC(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!kz(n.children[i],t.children[i],e))return!1;return!0},subset:Mz},Tz={exact:function wde(n,t){return Bl(n,t)},subset:function xde(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Iz(n[e],t[e]))},ignored:()=>!0};function Az(n,t,e){return bde[e.paths](n.root,t.root,e.matrixParams)&&Tz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Mz(n,t,e){return Rz(n,t,t.segments,e)}function Rz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!yh(r,e)||t.hasChildren()||!jC(r,e,i))}if(n.segments.length===e.length){if(!yh(n.segments,e)||!jC(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Mz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(yh(n.segments,r)&&jC(n.segments,r,i)&&n.children[Fn])&&Rz(n.children[Fn],t,o,i)}}function jC(n,t,e){return t.every((i,r)=>Tz[e](n[r].parameters,i.parameters))}class am{constructor(t=new Ci([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sm(this.queryParams)),this._queryParamMap}toString(){return Dde.serialize(this)}}class Ci{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return HC(this)}}class av{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=sm(this.parameters)),this._parameterMap}toString(){return Fz(this)}}function yh(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let lv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return new wk},providedIn:"root"})}return n})();class wk{parse(t){const e=new Nde(t);return new am(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${cv(t.root,!0)}`,i=function Tde(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${GC(e)}=${GC(r)}`).join("&"):`${GC(e)}=${GC(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Ide(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Dde=new wk;function HC(n){return n.segments.map(t=>Fz(t)).join("/")}function cv(n,t){if(!n.hasChildren())return HC(n);if(t){const e=n.children[Fn]?cv(n.children[Fn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Fn&&i.push(`${r}:${cv(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ede(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Fn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Fn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Fn?[cv(n.children[Fn],!1)]:[`${r}:${cv(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Fn]?`${HC(n)}/${e[0]}`:`${HC(n)}/(${e.join("//")})`}}function Pz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function GC(n){return Pz(n).replace(/%3B/gi,";")}function xk(n){return Pz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $C(n){return decodeURIComponent(n)}function Oz(n){return $C(n.replace(/\+/g,"%20"))}function Fz(n){return`${xk(n.path)}${function Sde(n){return Object.keys(n).map(t=>`;${xk(t)}=${xk(n[t])}`).join("")}(n.parameters)}`}const Ade=/^[^\/()?;#]+/;function Ck(n){const t=n.match(Ade);return t?t[0]:""}const kde=/^[^\/()?;=#]+/,Rde=/^[^=?&#]+/,Ode=/^[^&#]+/;class Nde{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Fn]=new Ci(t,e)),i}parseSegment(){const t=Ck(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new av($C(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Mde(n){const t=n.match(kde);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ck(this.remaining);r&&(i=r,this.capture(i))}t[$C(e)]=$C(i)}parseQueryParam(t){const e=function Pde(n){const t=n.match(Rde);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Fde(n){const t=n.match(Ode);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Oz(e),o=Oz(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ck(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new X(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Fn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Fn]:new Ci([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}}function Nz(n){return n.segments.length>0?new Ci([],{[Fn]:n}):n}function Lz(n){const t={};for(const i of Object.keys(n.children)){const o=Lz(n.children[i]);if(i===Fn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Lde(n){if(1===n.numberOfChildren&&n.children[Fn]){const t=n.children[Fn];return new Ci(n.segments.concat(t.segments),t.children)}return n}(new Ci(n.segments,t))}function vh(n){return n instanceof am}function Vz(n){let t;const r=Nz(function e(o){const s={};for(const l of o.children){const c=e(l);s[l.outlet]=c}const a=new Ci(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function Bz(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return Ek(r,r,r,e,i);const o=function Bde(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zz(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new zz(e,t,i)}(t);if(o.toRoot())return Ek(r,r,new Ci([],{}),e,i);const s=function Ude(n,t,e){if(n.isAbsolute)return new WC(t,!0,0);if(!e)return new WC(t,!1,NaN);if(null===e.parent)return new WC(e,!0,0);const i=qC(n.commands[0])?0:1;return function zde(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new X(4005,!1);r=i.segments.length}return new WC(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?uv(s.segmentGroup,s.index,o.commands):jz(s.segmentGroup,s.index,o.commands);return Ek(r,s.segmentGroup,a,e,i)}function qC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function dv(n){return"object"==typeof n&&null!=n&&n.outlets}function Ek(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===t?e:Uz(n,t,e);const a=Nz(Lz(s));return new am(a,o,r)}function Uz(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:Uz(o,t,e)}),new Ci(n.segments,i)}class zz{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&qC(i[0]))throw new X(4003,!1);const r=i.find(dv);if(r&&r!==Sz(i))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class WC{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function jz(n,t,e){if(n||(n=new Ci([],{})),0===n.segments.length&&n.hasChildren())return uv(n,t,e);const i=function Hde(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(dv(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Gz(l,c,s))return o;i+=2}else{if(!Gz(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ci(n.segments.slice(0,i.pathIndex),{});return o.children[Fn]=new Ci(n.segments.slice(i.pathIndex),n.children),uv(o,0,r)}return i.match&&0===r.length?new Ci(n.segments,{}):i.match&&!n.hasChildren()?Dk(n,t,e):i.match?uv(n,0,r):Dk(n,t,e)}function uv(n,t,e){if(0===e.length)return new Ci(n.segments,{});{const i=function jde(n){return dv(n[0])?n[0].outlets:{[Fn]:n}}(e),r={};if(Object.keys(i).some(o=>o!==Fn)&&n.children[Fn]&&1===n.numberOfChildren&&0===n.children[Fn].segments.length){const o=uv(n.children[Fn],t,e);return new Ci(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=jz(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Ci(n.segments,r)}}function Dk(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(dv(o)){const l=Gde(o.outlets);return new Ci(i,l)}if(0===r&&qC(e[0])){i.push(new av(n.segments[t].path,Hz(e[0]))),r++;continue}const s=dv(o)?o.outlets[Fn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&qC(a)?(i.push(new av(s,Hz(a))),r+=2):(i.push(new av(s,{})),r++)}return new Ci(i,{})}function Gde(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Dk(new Ci([],{}),0,i))}),t}function Hz(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Gz(n,t,e){return n==e.path&&Bl(t,e.parameters)}const hv="imperative";class Ul{constructor(t,e){this.id=t,this.url=e}}class KC extends Ul{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class jd extends Ul{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fv extends Ul{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lm extends Ul{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class ZC extends Ul{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $z extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $de extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qde extends Ul{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wde extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kde extends Ul{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zde{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yde{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qde{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xde{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jde{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eue{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qz{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ik{}class Sk{constructor(t){this.url=t}}class tue{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new pv,this.attachRef=null}}let pv=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new tue,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Wz{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tk(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Tk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ak(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ak(t,this._root).map(e=>e.value)}}function Tk(n,t){if(n===t.value)return t;for(const e of t.children){const i=Tk(n,e);if(i)return i}return null}function Ak(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ak(n,e);if(i.length)return i.unshift(t),i}return[]}class Rc{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function cm(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Kz extends Wz{constructor(t,e){super(t),this.snapshot=e,kk(this,t)}toString(){return this.snapshot.toString()}}function Zz(n,t){const e=function nue(n,t){const s=new YC([],{},{},"",{},Fn,t,null,{});return new Qz("",new Rc(s,[]))}(0,t),i=new P([new av("",{})]),r=new P({}),o=new P({}),s=new P({}),a=new P(""),l=new zl(i,r,s,a,o,Fn,t,e.root);return l.snapshot=e.root,new Kz(new Rc(l,[]),e)}class zl{constructor(t,e,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(We(c=>c[sv]))??ne(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(We(t=>sm(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(We(t=>sm(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yz(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function iue(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class YC{get title(){return this.data?.[sv]}constructor(t,e,i,r,o,s,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qz extends Wz{constructor(t,e){super(e),this.url=t,kk(this,e)}toString(){return Xz(this._root)}}function kk(n,t){t.value._routerState=n,t.children.forEach(e=>kk(n,e))}function Xz(n){const t=n.children.length>0?` { ${n.children.map(Xz).join(", ")} } `:"";return`${n.value}${t}`}function Mk(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Bl(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Bl(t.params,e.params)||n.paramsSubject.next(e.params),function vde(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Bl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Bl(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Rk(n,t){const e=Bl(n.params,t.params)&&function Cde(n,t){return yh(n,t)&&n.every((e,i)=>Bl(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Rk(n.parent,t.parent))}let Pk=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fn,this.activateEvents=new Ct,this.deactivateEvents=new Ct,this.attachEvents=new Ct,this.detachEvents=new Ct,this.parentContexts=Tt(pv),this.location=Tt(yr),this.changeDetector=Tt(qi),this.environmentInjector=Tt(Zs),this.inputBinder=Tt(QC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rue(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Di]})}return n})();class rue{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===zl?this.route:t===pv?this.childContexts:this.parent.get(t,e)}}const QC=new Ue("");let Jz=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=to([i.queryParams,i.params,i.data]).pipe(St(([o,s,a],l)=>(a={...o,...s,...a},0===l?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Gre(n){const t=Kn(n);if(!t)return null;const e=new dy(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function mv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function sue(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mv(n,i,r);return mv(n,i)})}(n,t,e);return new Rc(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>mv(n,a)),s}}const i=function aue(n){return new zl(new P(n.url),new P(n.params),new P(n.queryParams),new P(n.fragment),new P(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>mv(n,o));return new Rc(i,r)}}const Ok="ngNavigationCancelingError";function ej(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=vh(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=tj(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function tj(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ok]=!0,i.cancellationCode=t,e&&(i.url=e),i}function nj(n){return n&&n[Ok]}let ij=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["ng-component"]],standalone:!0,features:[AA],decls:1,vars:0,template:function(i,r){1&i&&vt(0,"router-outlet")},dependencies:[Pk],encapsulation:2})}return n})();function Fk(n){const t=n.children&&n.children.map(Fk),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Fn&&(e.component=ij),e}function el(n){return n.outlet||Fn}function gv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class mue{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Mk(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=cm(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=cm(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=cm(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=cm(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new eue(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xde(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Mk(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mk(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=gv(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class rj{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class XC{constructor(t,e){this.component=t,this.route=e}}function gue(n,t,e){const i=n._root;return _v(i,t?t._root:null,e,[i.value])}function dm(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function _S(n){return null!==Ef(n)}(n)?t.get(n):n:i}function _v(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=cm(t);return n.children.forEach(s=>{(function yue(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function vue(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!yh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!yh(n.url,t.url)||!Bl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rk(n,t)||!Bl(n.queryParams,t.queryParams);default:return!Rk(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new rj(i)):(o.data=s.data,o._resolvedData=s._resolvedData),_v(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new XC(a.outlet.component,s))}else s&&yv(t,a,r),r.canActivateChecks.push(new rj(i)),_v(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yv(a,e.getContext(s),r)),r}function yv(n,t,e){const i=cm(n),r=n.value;Object.entries(i).forEach(([o,s])=>{yv(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new XC(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function vv(n){return"function"==typeof n}function oj(n){return n instanceof BC||"EmptyError"===n?.name}const JC=Symbol("INITIAL_VALUE");function um(){return St(n=>to(n.map(t=>t.pipe(sn(1),Tr(JC)))).pipe(We(t=>{for(const e of t)if(!0!==e){if(e===JC)return JC;if(!1===e||e instanceof am)return e}return!0}),gi(t=>t!==JC),sn(1)))}function sj(n){return on(ei(t=>{if(vh(t))throw ej(0,t)}),We(t=>!0===t))}class eE{constructor(t){this.segmentGroup=t||null}}class aj{constructor(t){this.urlTree=t}}function hm(n){return im(new eE(n))}function lj(n){return im(new aj(n))}class Bue{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new X(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ne(i);if(r.numberOfChildren>1||!r.children[Fn])return im(new X(4e3,!1));r=r.children[Fn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new am(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new Ci(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new X(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Nk={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uue(n,t,e,i,r){const o=Lk(n,t,e);return o.matched?(i=function cue(n,t){return n.providers&&!n._injector&&(n._injector=TA(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function Nue(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?ne(r.map(s=>{const a=dm(s,n);return zd(function Due(n){return n&&vv(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(um(),sj()):ne(!0)}(i,t,e).pipe(We(s=>!0===s?o:{...Nk}))):ne(o)}function Lk(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Nk}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||yde)(e,n,t);if(!r)return{...Nk};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function cj(n,t,e,i){return e.length>0&&function Hue(n,t,e){return e.some(i=>tE(n,t,i)&&el(i)!==Fn)}(n,e,i)?{segmentGroup:new Ci(t,jue(i,new Ci(e,n.children))),slicedSegments:[]}:0===e.length&&function Gue(n,t,e){return e.some(i=>tE(n,t,i))}(n,e,i)?{segmentGroup:new Ci(n.segments,zue(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ci(n.segments,n.children),slicedSegments:e}}function zue(n,t,e,i,r){const o={};for(const s of i)if(tE(n,e,s)&&!r[el(s)]){const a=new Ci([],{});o[el(s)]=a}return{...r,...o}}function jue(n,t){const e={};e[Fn]=t;for(const i of n)if(""===i.path&&el(i)!==Fn){const r=new Ci([],{});e[el(i)]=r}return e}function tE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Kue{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Bue(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,!1)}recognize(){const t=cj(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Fn).pipe(Ud(e=>{if(e instanceof aj)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof eE?this.noMatchError(e):e}),We(e=>{const i=new YC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Fn,this.rootComponentType,null,{}),r=new Rc(i,e),o=new Qz("",r),s=function Vde(n,t,e=null,i=null){return Bz(Vz(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Fn).pipe(Ud(i=>{throw i instanceof eE?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=Yz(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return B(r).pipe(rm(o=>{const s=i.children[o],a=function fue(n,t){const e=n.filter(i=>el(i)===t);return e.push(...n.filter(i=>el(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),_h((o,s)=>(o.push(...s),o)),zC(null),function gde(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gi((r,o)=>n(r,o,i)):dt,bk(1),e?zC(t):Ez(()=>new BC))}(),mn(o=>{if(null===o)return hm(i);const s=dj(o);return function Zue(n){n.sort((t,e)=>t.value.outlet===Fn?-1:e.value.outlet===Fn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),ne(s)}))}processSegment(t,e,i,r,o,s){return B(e).pipe(rm(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Ud(l=>{if(l instanceof eE)return ne(null);throw l}))),Ja(a=>!!a),Ud(a=>{if(oj(a))return function que(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?ne([]):hm(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function $ue(n,t,e,i){return!!(el(n)===i||i!==Fn&&tE(t,e,n))&&("**"===n.path||Lk(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):hm(r):hm(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?lj(o):this.applyRedirects.lineralizeSegments(i,o).pipe(mn(s=>{const a=new Ci(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:d}=Lk(e,r,o);if(!a)return hm(e);const f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?lj(f):this.applyRedirects.lineralizeSegments(r,f).pipe(mn(g=>this.processSegment(t,i,e,g.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?Sz(r).parameters:{};a=ne({snapshot:new YC(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uj(i),el(i),i.component??i._loadedComponent??null,i,hj(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Uue(e,i,r,t).pipe(We(({matched:l,consumedSegments:c,remainingSegments:d,parameters:f})=>l?{snapshot:new YC(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uj(i),el(i),i.component??i._loadedComponent??null,i,hj(i)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(St(l=>null===l?hm(e):this.getChildConfig(t=i._injector??t,i,r).pipe(St(({routes:c})=>{const d=i._loadedInjector??t,{snapshot:f,consumedSegments:g,remainingSegments:y}=l,{segmentGroup:C,slicedSegments:R}=cj(e,g,y,c);if(0===R.length&&C.hasChildren())return this.processChildren(d,c,C).pipe(We(te=>null===te?null:[new Rc(f,te)]));if(0===c.length&&0===R.length)return ne([new Rc(f,[])]);const F=el(i)===o;return this.processSegment(d,c,C,R,F?Fn:o,!0).pipe(We(te=>[new Rc(f,te)]))}))))}getChildConfig(t,e,i){return e.children?ne({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ne({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fue(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?ne(!0):ne(r.map(s=>{const a=dm(s,n);return zd(function wue(n){return n&&vv(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(um(),sj())}(t,e,i).pipe(mn(r=>r?this.configLoader.loadChildren(t,e).pipe(ei(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Vue(n){return im(tj(!1,3))}())):ne({routes:[],injector:t})}}function Yue(n){const t=n.value.routeConfig;return t&&""===t.path}function dj(n){const t=[],e=new Set;for(const i of n){if(!Yue(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=dj(i.children);t.push(new Rc(i.value,r))}return t.filter(i=>!e.has(i))}function uj(n){return n.data||{}}function hj(n){return n.resolve||{}}function fj(n){return"string"==typeof n.title||null===n.title}function Vk(n){return St(t=>{const e=n(t);return e?B(e).pipe(We(()=>t)):ne(t)})}const fm=new Ue("ROUTES");let Bk=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Tt(r4)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ne(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=zd(e.loadComponent()).pipe(We(pj),ei(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),om(()=>{this.componentLoaders.delete(e)})),r=new UC(i,()=>new Z).pipe(vk());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ihe(n,t,e,i){return zd(n.loadChildren()).pipe(We(pj),mn(r=>r instanceof c3||Array.isArray(r)?ne(r):B(t.compileModuleAsync(r))),We(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(fm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fk),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(om(()=>{this.childrenLoaders.delete(i)})),s=new UC(o,()=>new Z).pipe(vk());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pj(n){return function rhe(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let nE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=Tt(Bk),this.environmentInjector=Tt(Zs),this.urlSerializer=Tt(lv),this.rootContexts=Tt(pv),this.inputBindingEnabled=null!==Tt(QC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Yde(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Zde(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new P({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:hv,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(gi(o=>0!==o.id),We(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{this.currentTransition=o;let s=!1,a=!1;return ne(o).pipe(ei(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),St(l=>{const c=l.currentBrowserUrl.toString(),d=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const g="";return this.events.next(new lm(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),yi}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(St(g=>{const y=this.transitions?.getValue();return this.events.next(new KC(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?yi:Promise.resolve(g)}),function Que(n,t,e,i,r,o){return mn(s=>function Wue(n,t,e,i,r,o,s="emptyOnly"){return new Kue(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(We(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),ei(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new $z(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:y,source:C,restoredState:R,extras:F}=l,te=new KC(g,this.urlSerializer.serialize(y),C,R);this.events.next(te);const ie=Zz(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:ie,urlAfterRedirects:y,extras:{...F,skipLocationChange:!1,replaceUrl:!1}},ne(o)}{const g="";return this.events.next(new lm(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),yi}}),ei(l=>{const c=new $de(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),We(l=>(this.currentTransition=o={...l,guards:gue(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Sue(n,t){return mn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?ne({...e,guardsResult:!0}):function Tue(n,t,e,i){return B(n).pipe(mn(r=>function Oue(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ne(o.map(a=>{const l=gv(t)??r,c=dm(a,l);return zd(function Eue(n){return n&&vv(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Ja())})).pipe(um()):ne(!0)}(r.component,r.route,e,t,i)),Ja(r=>!0!==r,!0))}(s,i,r,n).pipe(mn(a=>a&&function bue(n){return"boolean"==typeof n}(a)?function Aue(n,t,e,i){return B(t).pipe(rm(r=>$y(function Mue(n,t){return null!==n&&t&&t(new Qde(n)),ne(!0)}(r.route.parent,i),function kue(n,t){return null!==n&&t&&t(new Jde(n)),ne(!0)}(r.route,i),function Pue(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function _ue(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>ov(()=>ne(s.guards.map(l=>{const c=gv(s.node)??e,d=dm(l,c);return zd(function Cue(n){return n&&vv(n.canActivateChild)}(d)?d.canActivateChild(i,n):c.runInContext(()=>d(i,n))).pipe(Ja())})).pipe(um())));return ne(o).pipe(um())}(n,r.path,e),function Rue(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ne(!0);const r=i.map(o=>ov(()=>{const s=gv(t)??e,a=dm(o,s);return zd(function xue(n){return n&&vv(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Ja())}));return ne(r).pipe(um())}(n,r.route,e))),Ja(r=>!0!==r,!0))}(i,o,n,t):ne(a)),We(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),ei(l=>{if(o.guardsResult=l.guardsResult,vh(l.guardsResult))throw ej(0,l.guardsResult);const c=new qde(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),gi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),Vk(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(ei(c=>{const d=new Wde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),St(c=>{let d=!1;return ne(c).pipe(function Xue(n,t){return mn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ne(e);let o=0;return B(r).pipe(rm(s=>function Jue(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!fj(r)&&(o[sv]=r.title),function ehe(n,t,e,i){const r=function the(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ne({});const o={};return B(r).pipe(mn(s=>function nhe(n,t,e,i){const r=gv(t)??i,o=dm(n,r);return zd(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Ja(),ei(a=>{o[s]=a}))),bk(1),Dz(o),Ud(s=>oj(s)?yi:im(s)))}(o,n,t,i).pipe(We(s=>(n._resolvedData=s,n.data=Yz(n,e).resolve,r&&fj(r)&&(n.data[sv]=r.title),null)))}(s.route,i,n,t)),ei(()=>o++),bk(1),mn(s=>o===r.length?ne(e):yi))})}(e.paramsInheritanceStrategy,this.environmentInjector),ei({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),ei(c=>{const d=new Kde(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),Vk(l=>{const c=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ei(g=>{d.component=g}),We(()=>{})));for(const g of d.children)f.push(...c(g));return f};return to(c(l.targetSnapshot.root)).pipe(zC(),sn(1))}),Vk(()=>this.afterPreactivation()),We(l=>{const c=function oue(n,t,e){const i=mv(n,t._root,e?e._root:void 0);return new Kz(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),ei(()=>{this.events.next(new Ik)}),((n,t,e,i)=>We(r=>(new mue(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),sn(1),ei({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),bn(this.transitionAbortSubject.pipe(ei(l=>{throw l}))),om(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ud(l=>{if(a=!0,nj(l))this.events.next(new fv(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function lue(n){return nj(n)&&vh(n.url)}(l)?this.events.next(new Sk(l.url)):o.resolve(!1);else{this.events.next(new ZC(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(l))}catch(c){o.reject(c)}}return yi}))}))}cancelNavigationTransition(e,i,r){const o=new fv(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(n){return n!==hv}let gj=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Fn);return i}getResolvedTitleForRoute(e){return e.data[sv]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return Tt(ohe)},providedIn:"root"})}return n})(),ohe=(()=>{class n extends gj{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(DU))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),she=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return Tt(lhe)},providedIn:"root"})}return n})();class ahe{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let lhe=(()=>{class n extends ahe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Mt(n)))(r||n)}}();static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iE=new Ue("",{providedIn:"root",factory:()=>({})});let che=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:function(){return Tt(dhe)},providedIn:"root"})}return n})(),dhe=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bv=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(bv||{});function _j(n,t){n.events.pipe(gi(e=>e instanceof jd||e instanceof fv||e instanceof ZC||e instanceof lm),We(e=>e instanceof jd||e instanceof lm?bv.COMPLETE:e instanceof fv&&(0===e.code||1===e.code)?bv.REDIRECTING:bv.FAILED),gi(e=>e!==bv.REDIRECTING),sn(1)).subscribe(()=>{t()})}function uhe(n){throw n}function hhe(n,t,e){return t.parse("/")}const fhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},phe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Tt(n4),this.isNgZoneEnabled=!1,this._events=new Z,this.options=Tt(iE,{optional:!0})||{},this.pendingTasks=Tt(Vx),this.errorHandler=this.options.errorHandler||uhe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||hhe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Tt(che),this.routeReuseStrategy=Tt(she),this.titleStrategy=Tt(gj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Tt(fm,{optional:!0})?.flat()??[],this.navigationTransitions=Tt(nE),this.urlSerializer=Tt(lv),this.location=Tt(Ty),this.componentInputBindingEnabled=!!Tt(QC,{optional:!0}),this.eventsSubscription=new K,this.isNgZoneEnabled=Tt(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new am,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zz(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(yj(i)&&this._events.next(i));if(i instanceof KC)mj(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof lm)this.rawUrlTree=r.rawUrl;else if(i instanceof $z){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof Ik)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof fv)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof Sk){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mj(r.source)};this.scheduleNavigation(o,hv,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof ZC&&this.restoreHistory(r,!0),i instanceof jd&&(this.navigated=!0),yj(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),hv,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Fk),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let f,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=Vz(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),f=this.currentUrlTree.root}return Bz(f,e,d,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vh(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,hv,null,i)}navigate(e,i={skipLocationChange:!1}){return function mhe(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new X(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...fhe}:!1===i?{...phe}:i,vh(e))return Az(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Az(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((f,g)=>{a=f,l=g});const d=this.pendingTasks.add();return _j(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yj(n){return!(n instanceof Ik||n instanceof Sk)}let wv=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof jd&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function yL(n,t,e){return function wX(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?_L:Bo}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(v(Ar),v(zl),Ss("tabindex"),v(Ca),v(Dt),v(ch))};static#t=this.\u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Te("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Bn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Wp],skipLocationChange:["skipLocationChange","skipLocationChange",Wp],replaceUrl:["replaceUrl","replaceUrl",Wp],routerLink:"routerLink"},standalone:!0,features:[kV,Di]})}return n})();class vj{}let yhe=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(gi(e=>e instanceof jd),rm(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=TA(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return B(r).pipe(er())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ne(null);const o=r.pipe(mn(s=>null===s?ne(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?B([o,this.loader.loadComponent(i)]).pipe(er()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Ar),Y(r4),Y(Zs),Y(vj),Y(Bk))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uk=new Ue("");let bj=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof KC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof jd?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof lm&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qz&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qz(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Td()};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function Pc(n,t){return{\u0275kind:n,\u0275providers:t}}function xj(){const n=Tt(Ii);return t=>{const e=n.get(Ec);if(t!==e.components[0])return;const i=n.get(Ar),r=n.get(Cj);1===n.get(zk)&&i.initialNavigation(),n.get(Ej,null,Vn.Optional)?.setUpPreloading(),n.get(Uk,null,Vn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Cj=new Ue("",{factory:()=>new Z}),zk=new Ue("",{providedIn:"root",factory:()=>1}),Ej=new Ue("");function xhe(n){return Pc(0,[{provide:Ej,useExisting:yhe},{provide:vj,useExisting:n}])}const Dj=new Ue("ROUTER_FORROOT_GUARD"),Ehe=[Ty,{provide:lv,useClass:wk},Ar,pv,{provide:zl,useFactory:function wj(n){return n.routerState.root},deps:[Ar]},Bk,[]];function Dhe(){return new u4("Router",Ar)}let Ij=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Ehe,[],{provide:fm,multi:!0,useValue:e},{provide:Dj,useFactory:Ahe,deps:[[Ar,new $a,new Qu]]},{provide:iE,useValue:i||{}},i?.useHash?{provide:ch,useClass:Zre}:{provide:ch,useClass:j4},{provide:Uk,useFactory:()=>{const n=Tt(sse),t=Tt(Lt),e=Tt(iE),i=Tt(nE),r=Tt(lv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new bj(r,i,n,t,e)}},i?.preloadingStrategy?xhe(i.preloadingStrategy).\u0275providers:[],{provide:u4,multi:!0,useFactory:Dhe},i?.initialNavigation?khe(i):[],i?.bindToComponentInputs?Pc(8,[Jz,{provide:QC,useExisting:Jz}]).\u0275providers:[],[{provide:Sj,useFactory:xj},{provide:zx,multi:!0,useExisting:Sj}]]}}static forChild(e){return{ngModule:n,providers:[{provide:fm,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Dj,8))};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({})}return n})();function Ahe(n){return"guarded"}function khe(n){return["disabled"===n.initialNavigation?Pc(3,[{provide:jA,multi:!0,useFactory:()=>{const t=Tt(Ar);return()=>{t.setUpLocationChangeListener()}}},{provide:zk,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pc(2,[{provide:zk,useValue:0},{provide:jA,multi:!0,deps:[Ii],useFactory:t=>{const e=t.get(Wre,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Ar),o=t.get(Cj);_j(r,()=>{i(!0)}),t.get(nE).afterPreactivation=()=>(i(!0),o.closed?ne(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const Sj=new Ue("");var Rs=ze(571);(0,Rs.registerVersion)("firebase","10.12.2","app");const Nhe=new class Fhe extends fC{}(class Ohe extends hC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),pm=new bc("ANGULARFIRE2_VERSION");class rE{constructor(){return((n,t)=>{const e=(0,Rs.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(Vhe)}}const Vhe="app-check";function mm(){}class Tj{zone;delegate;constructor(t,e=Nhe){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class Bhe{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",mm,{},mm,mm)),e.pipe(ei({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oE=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Tj(Zone.current)),this.insideAngular=e.run(()=>new Tj(Zone.current,Nd)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(Y(Lt))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gm(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Aj(n){return n.pipe(vi(gm().outsideAngular))}function Lr(n){return function zhe(n){return function(e){return(e=e.lift(new Bhe(n.ngZone))).pipe(_o(n.outsideAngular),vi(n.insideAngular))}}(gm())(n)}var ta=ze(399);ta.Z.registerVersion("firebase","10.12.2","app-compat");const $he=["ngOnDestroy"];class kj{constructor(t){return t}}const _m=new Ue("angularfire2.app.options"),ym=new Ue("angularfire2.app.name");function xv(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=ta.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>ta.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Khe("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new kj(s)}const Khe=(n,...t)=>{},Zhe={provide:kj,useFactory:xv,deps:[_m,Lt,[new $a,ym]]};let Yhe=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:_m,useValue:e},{provide:ym,useValue:i}]}}constructor(e){ta.Z.registerVersion("angularfire",pm.full,"core"),ta.Z.registerVersion("angularfire",pm.full,"app-compat"),ta.Z.registerVersion("angular",PL.full,e.toString())}static \u0275fac=function(i){return new(i||n)(Y(gr))};static \u0275mod=Zt({type:n});static \u0275inj=qt({providers:[Zhe]})}return n})();function sE(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Qhe(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(Mj("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Xhe?" You may need to reload as Firebase is not HMR aware.":""}`),Mj("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Xhe=typeof module<"u"&&!!module.hot,Mj=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],ze(661);class Jhe extends Z{constructor(t=1/0,e=1/0,i=L1){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function Rj(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,lt({connector:()=>new Jhe(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Pj(n,t){return T(t)?St(()=>n,t):St(()=>n)}const jk=new Ue("angularfire2.auth.use-emulator"),Hk=new Ue("angularfire2.auth.settings"),Gk=new Ue("angularfire2.auth.tenant-id"),$k=new Ue("angularfire2.auth.langugage-code"),qk=new Ue("angularfire2.auth.use-device-language"),Wk=new Ue("angularfire.auth.persistence"),Kk=(n,t,e,i,r,o,s,a)=>sE(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(const[c,d]of Object.entries(s))l.settings[c]=d;return a&&l.setPersistence(a),l},[e,i,r,o,s,a]);let vm=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,l,c,d,f,g,y){const C=new Z,R=ne(void 0).pipe(vi(s.outsideAngular),St(()=>o.runOutsideAngular(()=>Promise.resolve().then(ze.bind(ze,661)))),We(()=>xv(e,o,i)),We(F=>Kk(F,o,a,c,d,f,l,g)),Rj({bufferSize:1,refCount:!1}));if(Ol(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ne(null);else{R.pipe(Ja()).subscribe();const F=R.pipe(St(ye=>ye.getRedirectResult().then(Ve=>Ve,()=>null)),Lr,Rj({bufferSize:1,refCount:!1})),te=R.pipe(St(ye=>new mt(Ve=>({unsubscribe:o.runOutsideAngular(()=>ye.onAuthStateChanged(_t=>Ve.next(_t),_t=>Ve.error(_t),()=>Ve.complete()))})))),ie=R.pipe(St(ye=>new mt(Ve=>({unsubscribe:o.runOutsideAngular(()=>ye.onIdTokenChanged(_t=>Ve.next(_t),_t=>Ve.error(_t),()=>Ve.complete()))}))));this.authState=F.pipe(Pj(te),_o(s.outsideAngular),vi(s.insideAngular)),this.user=F.pipe(Pj(ie),_o(s.outsideAngular),vi(s.insideAngular)),this.idToken=this.user.pipe(St(ye=>ye?B(ye.getIdToken()):ne(null))),this.idTokenResult=this.user.pipe(St(ye=>ye?B(ye.getIdTokenResult()):ne(null))),this.credential=j(F,C,this.authState.pipe(gi(ye=>!ye))).pipe(We(ye=>ye?.user?ye:null),_o(s.outsideAngular),vi(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if($he.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const l=a?.[o];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(d=>{const f=d?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,f),f})})})}))(this,R,o,{spy:{apply:(F,te,ie)=>{(F.startsWith("signIn")||F.startsWith("createUser"))&&ie.then(ye=>C.next(ye))}}})}static \u0275fac=function(i){return new(i||n)(Y(_m),Y(ym,8),Y(gr),Y(Lt),Y(oE),Y(jk,8),Y(Hk,8),Y(Gk,8),Y($k,8),Y(qk,8),Y(Wk,8),Y(rE,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),tfe=(()=>{class n{constructor(){ta.Z.registerVersion("angularfire",pm.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=qt({providers:[vm]})}return n})();function Zk(){return Ae((n,t)=>{let e,i=!1;n.subscribe(ut(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var wh,Nj,$e=ze(861),tl=ze(820),na=ze(287),W=ze(229),Oj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fj={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(ue,J,de){de||(de=0);var Ie=Array(16);if("string"==typeof J)for(var ke=0;16>ke;++ke)Ie[ke]=J.charCodeAt(de++)|J.charCodeAt(de++)<<8|J.charCodeAt(de++)<<16|J.charCodeAt(de++)<<24;else for(ke=0;16>ke;++ke)Ie[ke]=J[de++]|J[de++]<<8|J[de++]<<16|J[de++]<<24;var Le=ue.g[3],me=(J=ue.g[0])+(Le^(de=ue.g[1])&((ke=ue.g[2])^Le))+Ie[0]+3614090360&4294967295;me=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=(de=(ke=(Le=(J=de+(me<<7&4294967295|me>>>25))+((me=Le+(ke^J&(de^ke))+Ie[1]+3905402710&4294967295)<<12&4294967295|me>>>20))+((me=ke+(de^Le&(J^de))+Ie[2]+606105819&4294967295)<<17&4294967295|me>>>15))+((me=de+(J^ke&(Le^J))+Ie[3]+3250441966&4294967295)<<22&4294967295|me>>>10))+((me=J+(Le^de&(ke^Le))+Ie[4]+4118548399&4294967295)<<7&4294967295|me>>>25))+((me=Le+(ke^J&(de^ke))+Ie[5]+1200080426&4294967295)<<12&4294967295|me>>>20))+((me=ke+(de^Le&(J^de))+Ie[6]+2821735955&4294967295)<<17&4294967295|me>>>15))+((me=de+(J^ke&(Le^J))+Ie[7]+4249261313&4294967295)<<22&4294967295|me>>>10))+((me=J+(Le^de&(ke^Le))+Ie[8]+1770035416&4294967295)<<7&4294967295|me>>>25))+((me=Le+(ke^J&(de^ke))+Ie[9]+2336552879&4294967295)<<12&4294967295|me>>>20))+((me=ke+(de^Le&(J^de))+Ie[10]+4294925233&4294967295)<<17&4294967295|me>>>15))+((me=de+(J^ke&(Le^J))+Ie[11]+2304563134&4294967295)<<22&4294967295|me>>>10))+((me=J+(Le^de&(ke^Le))+Ie[12]+1804603682&4294967295)<<7&4294967295|me>>>25))+((me=Le+(ke^J&(de^ke))+Ie[13]+4254626195&4294967295)<<12&4294967295|me>>>20))+((me=ke+(de^Le&(J^de))+Ie[14]+2792965006&4294967295)<<17&4294967295|me>>>15))+((me=de+(J^ke&(Le^J))+Ie[15]+1236535329&4294967295)<<22&4294967295|me>>>10))+((me=J+(ke^Le&(de^ke))+Ie[1]+4129170786&4294967295)<<5&4294967295|me>>>27))+((me=Le+(de^ke&(J^de))+Ie[6]+3225465664&4294967295)<<9&4294967295|me>>>23))+((me=ke+(J^de&(Le^J))+Ie[11]+643717713&4294967295)<<14&4294967295|me>>>18))+((me=de+(Le^J&(ke^Le))+Ie[0]+3921069994&4294967295)<<20&4294967295|me>>>12))+((me=J+(ke^Le&(de^ke))+Ie[5]+3593408605&4294967295)<<5&4294967295|me>>>27))+((me=Le+(de^ke&(J^de))+Ie[10]+38016083&4294967295)<<9&4294967295|me>>>23))+((me=ke+(J^de&(Le^J))+Ie[15]+3634488961&4294967295)<<14&4294967295|me>>>18))+((me=de+(Le^J&(ke^Le))+Ie[4]+3889429448&4294967295)<<20&4294967295|me>>>12))+((me=J+(ke^Le&(de^ke))+Ie[9]+568446438&4294967295)<<5&4294967295|me>>>27))+((me=Le+(de^ke&(J^de))+Ie[14]+3275163606&4294967295)<<9&4294967295|me>>>23))+((me=ke+(J^de&(Le^J))+Ie[3]+4107603335&4294967295)<<14&4294967295|me>>>18))+((me=de+(Le^J&(ke^Le))+Ie[8]+1163531501&4294967295)<<20&4294967295|me>>>12))+((me=J+(ke^Le&(de^ke))+Ie[13]+2850285829&4294967295)<<5&4294967295|me>>>27))+((me=Le+(de^ke&(J^de))+Ie[2]+4243563512&4294967295)<<9&4294967295|me>>>23))+((me=ke+(J^de&(Le^J))+Ie[7]+1735328473&4294967295)<<14&4294967295|me>>>18))+((me=de+(Le^J&(ke^Le))+Ie[12]+2368359562&4294967295)<<20&4294967295|me>>>12))+((me=J+(de^ke^Le)+Ie[5]+4294588738&4294967295)<<4&4294967295|me>>>28))+((me=Le+(J^de^ke)+Ie[8]+2272392833&4294967295)<<11&4294967295|me>>>21))+((me=ke+(Le^J^de)+Ie[11]+1839030562&4294967295)<<16&4294967295|me>>>16))+((me=de+(ke^Le^J)+Ie[14]+4259657740&4294967295)<<23&4294967295|me>>>9))+((me=J+(de^ke^Le)+Ie[1]+2763975236&4294967295)<<4&4294967295|me>>>28))+((me=Le+(J^de^ke)+Ie[4]+1272893353&4294967295)<<11&4294967295|me>>>21))+((me=ke+(Le^J^de)+Ie[7]+4139469664&4294967295)<<16&4294967295|me>>>16))+((me=de+(ke^Le^J)+Ie[10]+3200236656&4294967295)<<23&4294967295|me>>>9))+((me=J+(de^ke^Le)+Ie[13]+681279174&4294967295)<<4&4294967295|me>>>28))+((me=Le+(J^de^ke)+Ie[0]+3936430074&4294967295)<<11&4294967295|me>>>21))+((me=ke+(Le^J^de)+Ie[3]+3572445317&4294967295)<<16&4294967295|me>>>16))+((me=de+(ke^Le^J)+Ie[6]+76029189&4294967295)<<23&4294967295|me>>>9))+((me=J+(de^ke^Le)+Ie[9]+3654602809&4294967295)<<4&4294967295|me>>>28))+((me=Le+(J^de^ke)+Ie[12]+3873151461&4294967295)<<11&4294967295|me>>>21))+((me=ke+(Le^J^de)+Ie[15]+530742520&4294967295)<<16&4294967295|me>>>16))+((me=de+(ke^Le^J)+Ie[2]+3299628645&4294967295)<<23&4294967295|me>>>9))+((me=J+(ke^(de|~Le))+Ie[0]+4096336452&4294967295)<<6&4294967295|me>>>26))+((me=Le+(de^(J|~ke))+Ie[7]+1126891415&4294967295)<<10&4294967295|me>>>22))+((me=ke+(J^(Le|~de))+Ie[14]+2878612391&4294967295)<<15&4294967295|me>>>17))+((me=de+(Le^(ke|~J))+Ie[5]+4237533241&4294967295)<<21&4294967295|me>>>11))+((me=J+(ke^(de|~Le))+Ie[12]+1700485571&4294967295)<<6&4294967295|me>>>26))+((me=Le+(de^(J|~ke))+Ie[3]+2399980690&4294967295)<<10&4294967295|me>>>22))+((me=ke+(J^(Le|~de))+Ie[10]+4293915773&4294967295)<<15&4294967295|me>>>17))+((me=de+(Le^(ke|~J))+Ie[1]+2240044497&4294967295)<<21&4294967295|me>>>11))+((me=J+(ke^(de|~Le))+Ie[8]+1873313359&4294967295)<<6&4294967295|me>>>26))+((me=Le+(de^(J|~ke))+Ie[15]+4264355552&4294967295)<<10&4294967295|me>>>22))+((me=ke+(J^(Le|~de))+Ie[6]+2734768916&4294967295)<<15&4294967295|me>>>17))+((me=de+(Le^(ke|~J))+Ie[13]+1309151649&4294967295)<<21&4294967295|me>>>11))+((Le=(J=de+((me=J+(ke^(de|~Le))+Ie[4]+4149444226&4294967295)<<6&4294967295|me>>>26))+((me=Le+(de^(J|~ke))+Ie[11]+3174756917&4294967295)<<10&4294967295|me>>>22))^((ke=Le+((me=ke+(J^(Le|~de))+Ie[2]+718787259&4294967295)<<15&4294967295|me>>>17))|~J))+Ie[9]+3951481745&4294967295,ue.g[0]=ue.g[0]+J&4294967295,ue.g[1]=ue.g[1]+(ke+(me<<21&4294967295|me>>>11))&4294967295,ue.g[2]=ue.g[2]+ke&4294967295,ue.g[3]=ue.g[3]+Le&4294967295}function s(ue,J){this.h=J;for(var de=[],Ie=!0,ke=ue.length-1;0<=ke;ke--){var Le=0|ue[ke];Ie&&Le==J||(de[ke]=Le,Ie=!1)}this.g=de}(function t(ue,J){function de(){}de.prototype=J.prototype,ue.D=J.prototype,ue.prototype=new de,ue.prototype.constructor=ue,ue.C=function(Ie,ke,Le){for(var me=Array(arguments.length-2),zs=2;zs<arguments.length;zs++)me[zs-2]=arguments[zs];return J.prototype[ke].apply(Ie,me)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(ue,J){void 0===J&&(J=ue.length);for(var de=J-this.blockSize,Ie=this.B,ke=this.h,Le=0;Le<J;){if(0==ke)for(;Le<=de;)r(this,ue,Le),Le+=this.blockSize;if("string"==typeof ue){for(;Le<J;)if(Ie[ke++]=ue.charCodeAt(Le++),ke==this.blockSize){r(this,Ie),ke=0;break}}else for(;Le<J;)if(Ie[ke++]=ue[Le++],ke==this.blockSize){r(this,Ie),ke=0;break}}this.h=ke,this.o+=J},i.prototype.v=function(){var ue=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ue[0]=128;for(var J=1;J<ue.length-8;++J)ue[J]=0;var de=8*this.o;for(J=ue.length-8;J<ue.length;++J)ue[J]=255&de,de/=256;for(this.u(ue),ue=Array(16),J=de=0;4>J;++J)for(var Ie=0;32>Ie;Ie+=8)ue[de++]=this.g[J]>>>Ie&255;return ue};var a={};function l(ue){return-128<=ue&&128>ue?function o(ue,J){var de=a;return Object.prototype.hasOwnProperty.call(de,ue)?de[ue]:de[ue]=J(ue)}(ue,function(J){return new s([0|J],0>J?-1:0)}):new s([0|ue],0>ue?-1:0)}function c(ue){if(isNaN(ue)||!isFinite(ue))return f;if(0>ue)return F(c(-ue));for(var J=[],de=1,Ie=0;ue>=de;Ie++)J[Ie]=ue/de|0,de*=4294967296;return new s(J,0)}var f=l(0),g=l(1),y=l(16777216);function C(ue){if(0!=ue.h)return!1;for(var J=0;J<ue.g.length;J++)if(0!=ue.g[J])return!1;return!0}function R(ue){return-1==ue.h}function F(ue){for(var J=ue.g.length,de=[],Ie=0;Ie<J;Ie++)de[Ie]=~ue.g[Ie];return new s(de,~ue.h).add(g)}function te(ue,J){return ue.add(F(J))}function ie(ue,J){for(;(65535&ue[J])!=ue[J];)ue[J+1]+=ue[J]>>>16,ue[J]&=65535,J++}function ye(ue,J){this.g=ue,this.h=J}function Ve(ue,J){if(C(J))throw Error("division by zero");if(C(ue))return new ye(f,f);if(R(ue))return J=Ve(F(ue),J),new ye(F(J.g),F(J.h));if(R(J))return J=Ve(ue,F(J)),new ye(F(J.g),J.h);if(30<ue.g.length){if(R(ue)||R(J))throw Error("slowDivide_ only works with positive integers.");for(var de=g,Ie=J;0>=Ie.l(ue);)de=_t(de),Ie=_t(Ie);var ke=At(de,1),Le=At(Ie,1);for(Ie=At(Ie,2),de=At(de,2);!C(Ie);){var me=Le.add(Ie);0>=me.l(ue)&&(ke=ke.add(de),Le=me),Ie=At(Ie,1),de=At(de,1)}return J=te(ue,ke.j(J)),new ye(ke,J)}for(ke=f;0<=ue.l(J);){for(de=Math.max(1,Math.floor(ue.m()/J.m())),Ie=48>=(Ie=Math.ceil(Math.log(de)/Math.LN2))?1:Math.pow(2,Ie-48),me=(Le=c(de)).j(J);R(me)||0<me.l(ue);)me=(Le=c(de-=Ie)).j(J);C(Le)&&(Le=g),ke=ke.add(Le),ue=te(ue,me)}return new ye(ke,ue)}function _t(ue){for(var J=ue.g.length+1,de=[],Ie=0;Ie<J;Ie++)de[Ie]=ue.i(Ie)<<1|ue.i(Ie-1)>>>31;return new s(de,ue.h)}function At(ue,J){var de=J>>5;J%=32;for(var Ie=ue.g.length-de,ke=[],Le=0;Le<Ie;Le++)ke[Le]=0<J?ue.i(Le+de)>>>J|ue.i(Le+de+1)<<32-J:ue.i(Le+de);return new s(ke,ue.h)}(n=s.prototype).m=function(){if(R(this))return-F(this).m();for(var ue=0,J=1,de=0;de<this.g.length;de++){var Ie=this.i(de);ue+=(0<=Ie?Ie:4294967296+Ie)*J,J*=4294967296}return ue},n.toString=function(ue){if(2>(ue=ue||10)||36<ue)throw Error("radix out of range: "+ue);if(C(this))return"0";if(R(this))return"-"+F(this).toString(ue);for(var J=c(Math.pow(ue,6)),de=this,Ie="";;){var ke=Ve(de,J).g,Le=((0<(de=te(de,ke.j(J))).g.length?de.g[0]:de.h)>>>0).toString(ue);if(C(de=ke))return Le+Ie;for(;6>Le.length;)Le="0"+Le;Ie=Le+Ie}},n.i=function(ue){return 0>ue?0:ue<this.g.length?this.g[ue]:this.h},n.l=function(ue){return R(ue=te(this,ue))?-1:C(ue)?0:1},n.abs=function(){return R(this)?F(this):this},n.add=function(ue){for(var J=Math.max(this.g.length,ue.g.length),de=[],Ie=0,ke=0;ke<=J;ke++){var Le=Ie+(65535&this.i(ke))+(65535&ue.i(ke)),me=(Le>>>16)+(this.i(ke)>>>16)+(ue.i(ke)>>>16);Ie=me>>>16,de[ke]=(me&=65535)<<16|(Le&=65535)}return new s(de,-2147483648&de[de.length-1]?-1:0)},n.j=function(ue){if(C(this)||C(ue))return f;if(R(this))return R(ue)?F(this).j(F(ue)):F(F(this).j(ue));if(R(ue))return F(this.j(F(ue)));if(0>this.l(y)&&0>ue.l(y))return c(this.m()*ue.m());for(var J=this.g.length+ue.g.length,de=[],Ie=0;Ie<2*J;Ie++)de[Ie]=0;for(Ie=0;Ie<this.g.length;Ie++)for(var ke=0;ke<ue.g.length;ke++){var Le=this.i(Ie)>>>16,me=65535&this.i(Ie),zs=ue.i(ke)>>>16,oc=65535&ue.i(ke);de[2*Ie+2*ke]+=me*oc,ie(de,2*Ie+2*ke),de[2*Ie+2*ke+1]+=Le*oc,ie(de,2*Ie+2*ke+1),de[2*Ie+2*ke+1]+=me*zs,ie(de,2*Ie+2*ke+1),de[2*Ie+2*ke+2]+=Le*zs,ie(de,2*Ie+2*ke+2)}for(Ie=0;Ie<J;Ie++)de[Ie]=de[2*Ie+1]<<16|de[2*Ie];for(Ie=J;Ie<2*J;Ie++)de[Ie]=0;return new s(de,0)},n.A=function(ue){return Ve(this,ue).h},n.and=function(ue){for(var J=Math.max(this.g.length,ue.g.length),de=[],Ie=0;Ie<J;Ie++)de[Ie]=this.i(Ie)&ue.i(Ie);return new s(de,this.h&ue.h)},n.or=function(ue){for(var J=Math.max(this.g.length,ue.g.length),de=[],Ie=0;Ie<J;Ie++)de[Ie]=this.i(Ie)|ue.i(Ie);return new s(de,this.h|ue.h)},n.xor=function(ue){for(var J=Math.max(this.g.length,ue.g.length),de=[],Ie=0;Ie<J;Ie++)de[Ie]=this.i(Ie)^ue.i(Ie);return new s(de,this.h^ue.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Nj=Fj.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(ue,J){if(0==ue.length)throw Error("number format error: empty string");if(2>(J=J||10)||36<J)throw Error("radix out of range: "+J);if("-"==ue.charAt(0))return F(d(ue.substring(1),J));if(0<=ue.indexOf("-"))throw Error('number format error: interior "-" character');for(var de=c(Math.pow(J,8)),Ie=f,ke=0;ke<ue.length;ke+=8){var Le=Math.min(8,ue.length-ke),me=parseInt(ue.substring(ke,ke+Le),J);8>Le?(Le=c(Math.pow(J,Le)),Ie=Ie.j(Le).add(c(me))):Ie=(Ie=Ie.j(de)).add(c(me))}return Ie},wh=Fj.Integer=s}).apply(typeof Oj<"u"?Oj:typeof self<"u"?self:typeof window<"u"?window:{});var Lj,Vj,Cv,Bj,lE,Yk,Uj,zj,jj,aE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p},i=function e(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof aE&&aE];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}(this);!function r(p,w){if(w)e:{var S=i;p=p.split(".");for(var G=0;G<p.length-1;G++){var Pe=p[G];if(!(Pe in S))break e;S=S[Pe]}(w=w(G=S[p=p[p.length-1]]))!=G&&null!=w&&t(S,p,{configurable:!0,writable:!0,value:w})}}("Array.prototype.values",function(p){return p||function(){return function o(p,w){p instanceof String&&(p+="");var S=0,G=!1,Pe={next:function(){if(!G&&S<p.length){var et=S++;return{value:w(et,p[et]),done:!1}}return G=!0,{done:!0,value:void 0}}};return Pe[Symbol.iterator]=function(){return Pe},Pe}(this,function(w,S){return S})}});var s=s||{},a=this||self;function l(p){var w=typeof p;return"array"==(w="object"!=w?w:p?Array.isArray(p)?"array":w:"null")||"object"==w&&"number"==typeof p.length}function c(p){var w=typeof p;return"object"==w&&null!=p||"function"==w}function d(p,w,S){return p.call.apply(p.bind,arguments)}function f(p,w,S){if(!p)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var Pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Pe,G),p.apply(w,Pe)}}return function(){return p.apply(w,arguments)}}function g(p,w,S){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:f).apply(null,arguments)}function y(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var G=S.slice();return G.push.apply(G,arguments),p.apply(this,G)}}function C(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(G,Pe,et){for(var Ot=Array(arguments.length-2),Oi=2;Oi<arguments.length;Oi++)Ot[Oi-2]=arguments[Oi];return w.prototype[Pe].apply(G,Ot)}}function R(p){const w=p.length;if(0<w){const S=Array(w);for(let G=0;G<w;G++)S[G]=p[G];return S}return[]}function F(p,w){for(let S=1;S<arguments.length;S++){const G=arguments[S];if(l(G)){const Pe=p.length||0,et=G.length||0;p.length=Pe+et;for(let Ot=0;Ot<et;Ot++)p[Pe+Ot]=G[Ot]}else p.push(G)}}function ie(p){return/^[\s\xa0]*$/.test(p)}function ye(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function Ve(p){return Ve[" "](p),p}Ve[" "]=function(){};var _t=!(-1==ye().indexOf("Gecko")||-1!=ye().toLowerCase().indexOf("webkit")&&-1==ye().indexOf("Edge")||-1!=ye().indexOf("Trident")||-1!=ye().indexOf("MSIE")||-1!=ye().indexOf("Edge"));function At(p,w,S){for(const G in p)w.call(S,p[G],G,p)}function J(p){const w={};for(const S in p)w[S]=p[S];return w}const de="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(p,w){let S,G;for(let Pe=1;Pe<arguments.length;Pe++){for(S in G=arguments[Pe],G)p[S]=G[S];for(let et=0;et<de.length;et++)S=de[et],Object.prototype.hasOwnProperty.call(G,S)&&(p[S]=G[S])}}function ke(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function Le(p){a.setTimeout(()=>{throw p},0)}function me(){var p=$n;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}var oc=new class te{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}(()=>new Kt,p=>p.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let tn,cn=!1,$n=new class zs{constructor(){this.h=this.g=null}add(w,S){const G=oc.get();G.set(w,S),this.h?this.h.next=G:this.g=G,this.h=G}},Er=()=>{const p=a.Promise.resolve(void 0);tn=()=>{p.then(js)}};var js=()=>{for(var p;p=me();){try{p.h.call(p.g)}catch(S){Le(S)}var w=oc;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}cn=!1};function cr(){this.s=this.s,this.C=this.C}function Pi(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Pi.prototype.h=function(){this.defaultPrevented=!0};var Xi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};a.addEventListener("test",S,w),a.removeEventListener("test",S,w)}catch{}return p}();function Du(p,w){if(Pi.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,G=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(_t){e:{try{Ve(w.nodeName);var Pe=!0;break e}catch{}Pe=!1}Pe||(w=null)}}else"mouseover"==S?w=p.fromElement:"mouseout"==S&&(w=p.toElement);this.relatedTarget=w,G?(this.clientX=void 0!==G.clientX?G.clientX:G.pageX,this.clientY=void 0!==G.clientY?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=void 0!==p.clientX?p.clientX:p.pageX,this.clientY=void 0!==p.clientY?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType="string"==typeof p.pointerType?p.pointerType:x2[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Du.aa.h.call(this)}}C(Du,Pi);var x2={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Rr="closure_listenable_"+(1e6*Math.random()|0),rd=0;function Hs(p,w,S,G,Pe){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!G,this.ha=Pe,this.key=++rd,this.da=this.fa=!1}function od(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Iu(p){this.src=p,this.g={},this.h=0}function C2(p,w){var S=w.type;if(S in p.g){var et,G=p.g[S],Pe=Array.prototype.indexOf.call(G,w,void 0);(et=0<=Pe)&&Array.prototype.splice.call(G,Pe,1),et&&(od(w),0==p.g[S].length&&(delete p.g[S],p.h--))}}function E2(p,w,S,G){for(var Pe=0;Pe<p.length;++Pe){var et=p[Pe];if(!et.da&&et.listener==w&&et.capture==!!S&&et.ha==G)return Pe}return-1}Iu.prototype.add=function(p,w,S,G,Pe){var et=p.toString();(p=this.g[et])||(p=this.g[et]=[],this.h++);var Ot=E2(p,w,G,Pe);return-1<Ot?(w=p[Ot],S||(w.fa=!1)):((w=new Hs(w,this.src,et,!!G,Pe)).fa=S,p.push(w)),w};var D2="closure_lm_"+(1e6*Math.random()|0),I2={};function VZ(p,w,S,G,Pe){if(G&&G.once)return UZ(p,w,S,G,Pe);if(Array.isArray(w)){for(var et=0;et<w.length;et++)VZ(p,w[et],S,G,Pe);return null}return S=k2(S),p&&p[Rr]?p.K(w,S,c(G)?!!G.capture:!!G,Pe):BZ(p,w,S,!1,G,Pe)}function BZ(p,w,S,G,Pe,et){if(!w)throw Error("Invalid event type");var Ot=c(Pe)?!!Pe.capture:!!Pe,Oi=T2(p);if(Oi||(p[D2]=Oi=new Iu(p)),(S=Oi.add(w,S,G,Ot,et)).proxy)return S;if(G=function bNe(){const w=wNe;return function p(S){return w.call(p.src,p.listener,S)}}(),S.proxy=G,G.src=p,G.listener=S,p.addEventListener)Xi||(Pe=Ot),void 0===Pe&&(Pe=!1),p.addEventListener(w.toString(),G,Pe);else if(p.attachEvent)p.attachEvent(jZ(w.toString()),G);else{if(!p.addListener||!p.removeListener)throw Error("addEventListener and attachEvent are unavailable.");p.addListener(G)}return S}function UZ(p,w,S,G,Pe){if(Array.isArray(w)){for(var et=0;et<w.length;et++)UZ(p,w[et],S,G,Pe);return null}return S=k2(S),p&&p[Rr]?p.L(w,S,c(G)?!!G.capture:!!G,Pe):BZ(p,w,S,!0,G,Pe)}function zZ(p,w,S,G,Pe){if(Array.isArray(w))for(var et=0;et<w.length;et++)zZ(p,w[et],S,G,Pe);else G=c(G)?!!G.capture:!!G,S=k2(S),p&&p[Rr]?(p=p.i,(w=String(w).toString())in p.g&&-1<(S=E2(et=p.g[w],S,G,Pe))&&(od(et[S]),Array.prototype.splice.call(et,S,1),0==et.length&&(delete p.g[w],p.h--))):p&&(p=T2(p))&&(w=p.g[w.toString()],p=-1,w&&(p=E2(w,S,G,Pe)),(S=-1<p?w[p]:null)&&S2(S))}function S2(p){if("number"!=typeof p&&p&&!p.da){var w=p.src;if(w&&w[Rr])C2(w.i,p);else{var S=p.type,G=p.proxy;w.removeEventListener?w.removeEventListener(S,G,p.capture):w.detachEvent?w.detachEvent(jZ(S),G):w.addListener&&w.removeListener&&w.removeListener(G),(S=T2(w))?(C2(S,p),0==S.h&&(S.src=null,w[D2]=null)):od(p)}}}function jZ(p){return p in I2?I2[p]:I2[p]="on"+p}function wNe(p,w){if(p.da)p=!0;else{w=new Du(w,this);var S=p.listener,G=p.ha||p.src;p.fa&&S2(p),p=S.call(G,w)}return p}function T2(p){return(p=p[D2])instanceof Iu?p:null}var A2="__closure_events_fn_"+(1e9*Math.random()>>>0);function k2(p){return"function"==typeof p?p:(p[A2]||(p[A2]=function(w){return p.handleEvent(w)}),p[A2])}function Jo(){cr.call(this),this.i=new Iu(this),this.M=this,this.F=null}function bs(p,w){var S,G=p.F;if(G)for(S=[];G;G=G.F)S.push(G);if(p=p.M,G=w.type||w,"string"==typeof w)w=new Pi(w,p);else if(w instanceof Pi)w.target=w.target||p;else{var Pe=w;Ie(w=new Pi(G,p),Pe)}if(Pe=!0,S)for(var et=S.length-1;0<=et;et--){var Ot=w.g=S[et];Pe=eS(Ot,G,!0,w)&&Pe}if(Pe=eS(Ot=w.g=p,G,!0,w)&&Pe,Pe=eS(Ot,G,!1,w)&&Pe,S)for(et=0;et<S.length;et++)Pe=eS(Ot=w.g=S[et],G,!1,w)&&Pe}function eS(p,w,S,G){if(!(w=p.i.g[String(w)]))return!0;w=w.concat();for(var Pe=!0,et=0;et<w.length;++et){var Ot=w[et];if(Ot&&!Ot.da&&Ot.capture==S){var Oi=Ot.listener,Mo=Ot.ha||Ot.src;Ot.fa&&C2(p.i,Ot),Pe=!1!==Oi.call(Mo,G)&&Pe}}return Pe&&!G.defaultPrevented}function HZ(p,w,S){if("function"==typeof p)S&&(p=g(p,S));else{if(!p||"function"!=typeof p.handleEvent)throw Error("Invalid listener argument");p=g(p.handleEvent,p)}return 2147483647<Number(w)?-1:a.setTimeout(p,w||0)}function GZ(p){p.g=HZ(()=>{p.g=null,p.i&&(p.i=!1,GZ(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}C(Jo,cr),Jo.prototype[Rr]=!0,Jo.prototype.removeEventListener=function(p,w,S,G){zZ(this,p,w,S,G)},Jo.prototype.N=function(){if(Jo.aa.N.call(this),this.i){var w,p=this.i;for(w in p.g){for(var S=p.g[w],G=0;G<S.length;G++)od(S[G]);delete p.g[w],p.h--}}this.F=null},Jo.prototype.K=function(p,w,S,G){return this.i.add(String(p),w,!1,S,G)},Jo.prototype.L=function(p,w,S,G){return this.i.add(String(p),w,!0,S,G)};class xNe extends cr{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:GZ(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function C0(p){cr.call(this),this.h=p,this.g={}}C(C0,cr);var $Z=[];function qZ(p){At(p.g,function(w,S){this.g.hasOwnProperty(S)&&S2(w)},p),p.g={}}C0.prototype.N=function(){C0.aa.N.call(this),qZ(this)},C0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var M2=a.JSON.stringify,CNe=a.JSON.parse,ENe=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function R2(){}function KZ(){}R2.prototype.h=null;var E0={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function P2(){Pi.call(this,"d")}function O2(){Pi.call(this,"c")}C(P2,Pi),C(O2,Pi);var _f={},ZZ=null;function tS(){return ZZ=ZZ||new Jo}function YZ(p){Pi.call(this,_f.La,p)}function D0(p){const w=tS();bs(w,new YZ(w))}function QZ(p,w){Pi.call(this,_f.STAT_EVENT,p),this.stat=w}function ws(p){const w=tS();bs(w,new QZ(w,p))}function XZ(p,w){Pi.call(this,_f.Ma,p),this.size=w}function I0(p,w){if("function"!=typeof p)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},w)}function S0(){this.g=!0}function Ug(p,w,S,G){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+function TNe(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S)for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var G=S[p];if(!(2>G.length)){var Pe=G[1];if(Array.isArray(Pe)&&!(1>Pe.length)){var et=Pe[0];if("noop"!=et&&"stop"!=et&&"close"!=et)for(var Ot=1;Ot<Pe.length;Ot++)Pe[Ot]=""}}}return M2(S)}catch{return w}}(p,S)+(G?" "+G:"")})}_f.La="serverreachability",C(YZ,Pi),_f.STAT_EVENT="statevent",C(QZ,Pi),_f.Ma="timingevent",C(XZ,Pi),S0.prototype.xa=function(){this.g=!1},S0.prototype.info=function(){};var F2,nS={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},JZ={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function iS(){}function Su(p,w,S,G){this.j=p,this.i=w,this.l=S,this.R=G||1,this.U=new C0(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eY}function eY(){this.i=null,this.g="",this.h=!1}C(iS,R2),iS.prototype.g=function(){return new XMLHttpRequest},iS.prototype.i=function(){return{}},F2=new iS;var tY={},N2={};function L2(p,w,S){p.L=1,p.v=aS(sd(w)),p.m=S,p.P=!0,nY(p,null)}function nY(p,w){p.F=Date.now(),rS(p),p.A=sd(p.v);var S=p.A,G=p.R;Array.isArray(G)||(G=[String(G)]),gY(S.i,"t",G),p.C=0,S=p.j.J,p.h=new eY,p.g=OY(p.j,S?w:null,!p.m),0<p.O&&(p.M=new xNe(g(p.Y,p,p.g),p.O)),w=p.U,S=p.g,G=p.ca;var Pe="readystatechange";Array.isArray(Pe)||(Pe&&($Z[0]=Pe.toString()),Pe=$Z);for(var et=0;et<Pe.length;et++){var Ot=VZ(S,Pe[et],G||w.handleEvent,!1,w.h||w);if(!Ot)break;w.g[Ot.key]=Ot}w=p.H?J(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),D0(),function DNe(p,w,S,G,Pe,et){p.info(function(){if(p.g)if(et)for(var Ot="",Oi=et.split("&"),Mo=0;Mo<Oi.length;Mo++){var ci=Oi[Mo].split("=");if(1<ci.length){var es=ci[0];ci=ci[1];var ts=es.split("_");Ot=2<=ts.length&&"type"==ts[1]?Ot+(es+"=")+ci+"&":Ot+(es+"=redacted&")}}else Ot=null;else Ot=et;return"XMLHTTP REQ ("+G+") [attempt "+Pe+"]: "+w+"\n"+S+"\n"+Ot})}(p.i,p.u,p.A,p.l,p.R,p.m)}function iY(p){return!!p.g&&"GET"==p.u&&2!=p.L&&p.j.Ca}function ANe(p,w){var S=p.C,G=w.indexOf("\n",S);return-1==G?N2:(S=Number(w.substring(S,G)),isNaN(S)?tY:(G+=1)+S>w.length?N2:(w=w.slice(G,G+S),p.C=G+S,w))}function rS(p){p.S=Date.now()+p.I,rY(p,p.I)}function rY(p,w){if(null!=p.B)throw Error("WatchDog timer not null");p.B=I0(g(p.ba,p),w)}function V2(p){p.B&&(a.clearTimeout(p.B),p.B=null)}function T0(p){0==p.j.G||p.J||kY(p.j,p)}function yf(p){V2(p);var w=p.M;w&&"function"==typeof w.ma&&w.ma(),p.M=null,qZ(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function B2(p,w){try{var S=p.j;if(0!=S.G&&(S.g==p||U2(S.h,p)))if(!p.K&&U2(S.h,p)&&3==S.G){try{var G=S.Da.g.parse(w)}catch{G=null}if(Array.isArray(G)&&3==G.length){var Pe=G;if(0==Pe[0]){e:if(!S.u){if(S.g){if(!(S.g.F+3e3<p.F))break e;hS(S),dS(S)}G2(S),ws(18)}}else S.za=Pe[1],0<S.za-S.T&&37500>Pe[2]&&S.F&&0==S.v&&!S.C&&(S.C=I0(g(S.Za,S),6e3));if(1>=aY(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else bf(S,11)}else if((p.K||S.g==p)&&hS(S),!ie(w))for(Pe=S.Da.g.parse(w),w=0;w<Pe.length;w++){let ci=Pe[w];if(S.T=ci[0],ci=ci[1],2==S.G)if("c"==ci[0]){S.K=ci[1],S.ia=ci[2];const es=ci[3];null!=es&&(S.la=es,S.j.info("VER="+S.la));const ts=ci[4];null!=ts&&(S.Aa=ts,S.j.info("SVER="+S.Aa));const Hg=ci[5];null!=Hg&&"number"==typeof Hg&&0<Hg&&(S.L=G=1.5*Hg,S.j.info("backChannelRequestTimeoutMs_="+G)),G=S;const ul=p.g;if(ul){const pS=ul.g?ul.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pS){var et=G.h;et.g||-1==pS.indexOf("spdy")&&-1==pS.indexOf("quic")&&-1==pS.indexOf("h2")||(et.j=et.l,et.g=new Set,et.h&&(z2(et,et.h),et.h=null))}if(G.D){const q2=ul.g?ul.g.getResponseHeader("X-HTTP-Session-Id"):null;q2&&(G.ya=q2,Ji(G.I,G.D,q2))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms"));var Ot=p;if((G=S).qa=PY(G,G.J?G.ia:null,G.W),Ot.K){lY(G.h,Ot);var Oi=Ot,Mo=G.L;Mo&&(Oi.I=Mo),Oi.B&&(V2(Oi),rS(Oi)),G.g=Ot}else TY(G);0<S.i.length&&uS(S)}else"stop"!=ci[0]&&"close"!=ci[0]||bf(S,7);else 3==S.G&&("stop"==ci[0]||"close"==ci[0]?"stop"==ci[0]?bf(S,7):H2(S):"noop"!=ci[0]&&S.l&&S.l.ta(ci),S.v=0)}D0()}catch{}}function oY(p){this.l=p||10,p=a.PerformanceNavigationTiming?0<(p=a.performance.getEntriesByType("navigation")).length&&("hq"==p[0].nextHopProtocol||"h2"==p[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sY(p){return!!p.h||!!p.g&&p.g.size>=p.j}function aY(p){return p.h?1:p.g?p.g.size:0}function U2(p,w){return p.h?p.h==w:!!p.g&&p.g.has(w)}function z2(p,w){p.g?p.g.add(w):p.h=w}function lY(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}function cY(p){if(null!=p.h)return p.i.concat(p.h.D);if(null!=p.g&&0!==p.g.size){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return R(p.i)}function dY(p,w){if(p.forEach&&"function"==typeof p.forEach)p.forEach(w,void 0);else if(l(p)||"string"==typeof p)Array.prototype.forEach.call(p,w,void 0);else for(var S=function RNe(p){if(p.na&&"function"==typeof p.na)return p.na();if(!p.V||"function"!=typeof p.V){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||"string"==typeof p){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const G in p)w[S++]=G;return w}}}(p),G=function MNe(p){if(p.V&&"function"==typeof p.V)return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if("string"==typeof p)return p.split("");if(l(p)){for(var w=[],S=p.length,G=0;G<S;G++)w.push(p[G]);return w}for(G in w=[],S=0,p)w[S++]=p[G];return w}(p),Pe=G.length,et=0;et<Pe;et++)w.call(void 0,G[et],S&&S[et],p)}Su.prototype.ca=function(p){p=p.target;const w=this.M;w&&3==ad(p)?w.j():this.Y(p)},Su.prototype.Y=function(p){try{if(p==this.g)e:{const ts=ad(this.g);var w=this.g.Ba();if(this.g.Z(),!(3>ts)&&(3!=ts||this.g&&(this.h.h||this.g.oa()||CY(this.g)))){this.J||4!=ts||7==w||D0(),V2(this);var S=this.g.Z();this.X=S;t:if(iY(this)){var G=CY(this.g);p="";var Pe=G.length,et=4==ad(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yf(this),T0(this);var Ot="";break t}this.h.i=new a.TextDecoder}for(w=0;w<Pe;w++)this.h.h=!0,p+=this.h.i.decode(G[w],{stream:!(et&&w==Pe-1)});G.length=0,this.h.g+=p,this.C=0,Ot=this.h.g}else Ot=this.g.oa();if(this.o=200==S,function INe(p,w,S,G,Pe,et,Ot){p.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+Pe+"]: "+w+"\n"+S+"\n"+et+" "+Ot})}(this.i,this.u,this.A,this.l,this.R,ts,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Oi,Mo=this.g;if((Oi=Mo.g?Mo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Oi)){var ci=Oi;break t}}ci=null}if(!(S=ci)){this.o=!1,this.s=3,ws(12),yf(this),T0(this);break e}Ug(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,B2(this,S)}if(this.P){let ul;for(S=!0;!this.J&&this.C<Ot.length;){if(ul=ANe(this,Ot),ul==N2){4==ts&&(this.s=4,ws(14),S=!1),Ug(this.i,this.l,null,"[Incomplete Response]");break}if(ul==tY){this.s=4,ws(15),Ug(this.i,this.l,Ot,"[Invalid Chunk]"),S=!1;break}Ug(this.i,this.l,ul,null),B2(this,ul)}if(iY(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ts||0!=Ot.length||this.h.h||(this.s=1,ws(16),S=!1),this.o=this.o&&S,S){if(0<Ot.length&&!this.W){this.W=!0;var es=this.j;es.g==this&&es.ba&&!es.M&&(es.j.info("Great, no buffering proxy detected. Bytes received: "+Ot.length),$2(es),es.M=!0,ws(11))}}else Ug(this.i,this.l,Ot,"[Invalid Chunked Response]"),yf(this),T0(this)}else Ug(this.i,this.l,Ot,null),B2(this,Ot);4==ts&&yf(this),this.o&&!this.J&&(4==ts?kY(this.j,this):(this.o=!1,rS(this)))}else(function qNe(p){const w={};p=(p.g&&2<=ad(p)&&p.g.getAllResponseHeaders()||"").split("\r\n");for(let G=0;G<p.length;G++){if(ie(p[G]))continue;var S=ke(p[G]);const Pe=S[0];if("string"!=typeof(S=S[1]))continue;S=S.trim();const et=w[Pe]||[];w[Pe]=et,et.push(S)}!function ue(p,w){for(const S in p)w.call(void 0,p[S],S,p)}(w,function(G){return G.join(", ")})})(this.g),400==S&&0<Ot.indexOf("Unknown SID")?(this.s=3,ws(12)):(this.s=0,ws(13)),yf(this),T0(this)}}}catch{}},Su.prototype.cancel=function(){this.J=!0,yf(this)},Su.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(function SNe(p,w){p.info(function(){return"TIMEOUT: "+w})}(this.i,this.A),2!=this.L&&(D0(),ws(17)),yf(this),this.s=2,T0(this)):rY(this,this.S-p)},oY.prototype.cancel=function(){if(this.i=cY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const p of this.g.values())p.cancel();this.g.clear()}};var uY=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof vf){this.h=p.h,oS(this,p.j),this.o=p.o,this.g=p.g,sS(this,p.s),this.l=p.l;var w=p.i,S=new M0;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),hY(this,S),this.m=p.m}else p&&(w=String(p).match(uY))?(this.h=!1,oS(this,w[1]||"",!0),this.o=A0(w[2]||""),this.g=A0(w[3]||"",!0),sS(this,w[4]),this.l=A0(w[5]||"",!0),hY(this,w[6]||"",!0),this.m=A0(w[7]||"")):(this.h=!1,this.i=new M0(null,this.h))}function sd(p){return new vf(p)}function oS(p,w,S){p.j=S?A0(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function sS(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function hY(p,w,S){w instanceof M0?(p.i=w,function BNe(p,w){w&&!p.j&&(Tu(p),p.i=null,p.g.forEach(function(S,G){var Pe=G.toLowerCase();G!=Pe&&(pY(this,G),gY(this,Pe,S))},p)),p.j=w}(p.i,p.h)):(S||(w=k0(w,LNe)),p.i=new M0(w,p.h))}function Ji(p,w,S){p.i.set(w,S)}function aS(p){return Ji(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function A0(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function k0(p,w,S){return"string"==typeof p?(p=encodeURI(p).replace(w,ONe),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ONe(p){return"%"+((p=p.charCodeAt(0))>>4&15).toString(16)+(15&p).toString(16)}vf.prototype.toString=function(){var p=[],w=this.j;w&&p.push(k0(w,fY,!0),":");var S=this.g;return(S||"file"==w)&&(p.push("//"),(w=this.o)&&p.push(k0(w,fY,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(S=this.s)&&p.push(":",String(S))),(S=this.l)&&(this.g&&"/"!=S.charAt(0)&&p.push("/"),p.push(k0(S,"/"==S.charAt(0)?NNe:FNe,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",k0(S,VNe)),p.join("")};var p,fY=/[#\/\?@]/g,FNe=/[#\?:]/g,NNe=/[#\?]/g,LNe=/[#\?@]/g,VNe=/#/g;function M0(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function Tu(p){p.g||(p.g=new Map,p.h=0,p.i&&function PNe(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var G=p[S].indexOf("="),Pe=null;if(0<=G){var et=p[S].substring(0,G);Pe=p[S].substring(G+1)}else et=p[S];w(et,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}function pY(p,w){Tu(p),w=zg(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function mY(p,w){return Tu(p),w=zg(p,w),p.g.has(w)}function gY(p,w,S){pY(p,w),0<S.length&&(p.i=null,p.g.set(zg(p,w),R(S)),p.h+=S.length)}function zg(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function Au(p,w,S,G,Pe){try{Pe&&(Pe.onload=null,Pe.onerror=null,Pe.onabort=null,Pe.ontimeout=null),G(S)}catch{}}function jNe(){this.g=new ENe}function HNe(p,w,S){const G=S||"";try{dY(p,function(Pe,et){let Ot=Pe;c(Pe)&&(Ot=M2(Pe)),w.push(G+et+"="+encodeURIComponent(Ot))})}catch(Pe){throw w.push(G+"type="+encodeURIComponent("_badmap")),Pe}}function R0(p){this.l=p.Ub||null,this.j=p.eb||!1}function lS(p,w){Jo.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _Y(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}function P0(p){p.readyState=4,p.l=null,p.j=null,p.v=null,O0(p)}function O0(p){p.onreadystatechange&&p.onreadystatechange.call(p)}function yY(p){let w="";return At(p,function(S,G){w+=G,w+=":",w+=S,w+="\r\n"}),w}function j2(p,w,S){e:{for(G in S){var G=!1;break e}G=!0}G||(S=yY(S),"string"==typeof p?null!=S&&encodeURIComponent(String(S)):Ji(p,w,S))}function Pr(p){Jo.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=M0.prototype).add=function(p,w){Tu(this),this.i=null,p=zg(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this},n.forEach=function(p,w){Tu(this),this.g.forEach(function(S,G){S.forEach(function(Pe){p.call(w,Pe,G,this)},this)},this)},n.na=function(){Tu(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let G=0;G<w.length;G++){const Pe=p[G];for(let et=0;et<Pe.length;et++)S.push(w[G])}return S},n.V=function(p){Tu(this);let w=[];if("string"==typeof p)mY(this,p)&&(w=w.concat(this.g.get(zg(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},n.set=function(p,w){return Tu(this),this.i=null,mY(this,p=zg(this,p))&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p&&0<(p=this.V(p)).length?String(p[0]):w},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var G=w[S];const et=encodeURIComponent(String(G)),Ot=this.V(G);for(G=0;G<Ot.length;G++){var Pe=et;""!==Ot[G]&&(Pe+="="+encodeURIComponent(String(Ot[G]))),p.push(Pe)}}return this.i=p.join("&")},C(R0,R2),R0.prototype.g=function(){return new lS(this.l,this.j)},R0.prototype.i=(p={},function(){return p}),C(lS,Jo),(n=lS.prototype).open=function(p,w){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,O0(this)},n.send=function(p){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,P0(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,O0(this)),this.g&&(this.readyState=3,O0(this),this.g)))if("arraybuffer"===this.responseType)p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_Y(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?P0(this):O0(this),3==this.readyState&&_Y(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,P0(this))},n.Qa=function(p){this.g&&(this.response=p,P0(this))},n.ga=function(){this.g&&P0(this)},n.setRequestHeader=function(p,w){this.u.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)p.push((S=S.value)[0]+": "+S[1]),S=w.next();return p.join("\r\n")},Object.defineProperty(lS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(p){this.m=p?"include":"same-origin"}}),C(Pr,Jo);var GNe=/^https?$/i,$Ne=["POST","PUT"];function vY(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,bY(p),cS(p)}function bY(p){p.A||(p.A=!0,bs(p,"complete"),bs(p,"error"))}function wY(p){if(p.h&&typeof s<"u"&&(!p.v[1]||4!=ad(p)||2!=p.Z()))if(p.u&&4==ad(p))HZ(p.Ea,0,p);else if(bs(p,"readystatechange"),4==ad(p)){p.h=!1;try{const Ot=p.Z();e:switch(Ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var G;if(G=0===Ot){var Pe=String(p.D).match(uY)[1]||null;!Pe&&a.self&&a.self.location&&(Pe=a.self.location.protocol.slice(0,-1)),G=!GNe.test(Pe?Pe.toLowerCase():"")}S=G}if(S)bs(p,"complete"),bs(p,"success");else{p.m=6;try{var et=2<ad(p)?p.g.statusText:""}catch{et=""}p.l=et+" ["+p.Z()+"]",bY(p)}}finally{cS(p)}}}function cS(p,w){if(p.g){xY(p);const S=p.g,G=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||bs(p,"ready");try{S.onreadystatechange=G}catch{}}}function xY(p){p.I&&(a.clearTimeout(p.I),p.I=null)}function ad(p){return p.g?p.g.readyState:0}function CY(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function F0(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function EY(p){this.Aa=0,this.i=[],this.j=new S0,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=F0("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=F0("baseRetryDelayMs",5e3,p),this.cb=F0("retryDelaySeedMs",1e4,p),this.Wa=F0("forwardChannelMaxRetries",2,p),this.wa=F0("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new oY(p&&p.concurrentRequestLimit),this.Da=new jNe,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function H2(p){if(DY(p),3==p.G){var w=p.U++,S=sd(p.I);if(Ji(S,"SID",p.K),Ji(S,"RID",w),Ji(S,"TYPE","terminate"),N0(p,S),(w=new Su(p,p.j,w)).L=2,w.v=aS(sd(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&a.Image&&((new Image).src=w.v,S=!0),S||(w.g=OY(w.j,null),w.g.ea(w.v)),w.F=Date.now(),rS(w)}RY(p)}function dS(p){p.g&&($2(p),p.g.cancel(),p.g=null)}function DY(p){dS(p),p.u&&(a.clearTimeout(p.u),p.u=null),hS(p),p.h.cancel(),p.s&&("number"==typeof p.s&&a.clearTimeout(p.s),p.s=null)}function uS(p){if(!sY(p.h)&&!p.s){p.s=!0;var w=p.Ga;tn||Er(),cn||(tn(),cn=!0),$n.add(w,p),p.B=0}}function IY(p,w){var S;S=w?w.l:p.U++;const G=sd(p.I);Ji(G,"SID",p.K),Ji(G,"RID",S),Ji(G,"AID",p.T),N0(p,G),p.m&&p.o&&j2(G,p.m,p.o),S=new Su(p,p.j,S,p.B+1),null===p.m&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=SY(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),z2(p.h,S),L2(S,G,w)}function N0(p,w){p.H&&At(p.H,function(S,G){Ji(w,G,S)}),p.l&&dY({},function(S,G){Ji(w,G,S)})}function SY(p,w,S){S=Math.min(p.i.length,S);var G=p.l?g(p.l.Na,p.l,p):null;e:{var Pe=p.i;let et=-1;for(;;){const Ot=["count="+S];-1==et?0<S?(et=Pe[0].g,Ot.push("ofs="+et)):et=0:Ot.push("ofs="+et);let Oi=!0;for(let Mo=0;Mo<S;Mo++){let ci=Pe[Mo].g;const es=Pe[Mo].map;if(ci-=et,0>ci)et=Math.max(0,Pe[Mo].g-100),Oi=!1;else try{HNe(es,Ot,"req"+ci+"_")}catch{G&&G(es)}}if(Oi){G=Ot.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,G}function TY(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;tn||Er(),cn||(tn(),cn=!0),$n.add(w,p),p.v=0}}function G2(p){return!(p.g||p.u||3<=p.v||(p.Y++,p.u=I0(g(p.Fa,p),MY(p,p.v)),p.v++,0))}function $2(p){null!=p.A&&(a.clearTimeout(p.A),p.A=null)}function AY(p){p.g=new Su(p,p.j,"rpc",p.Y),null===p.m&&(p.g.H=p.o),p.g.O=0;var w=sd(p.qa);Ji(w,"RID","rpc"),Ji(w,"SID",p.K),Ji(w,"AID",p.T),Ji(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ji(w,"TO",p.ja),Ji(w,"TYPE","xmlhttp"),N0(p,w),p.m&&p.o&&j2(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=aS(sd(w)),S.m=null,S.P=!0,nY(S,p)}function hS(p){null!=p.C&&(a.clearTimeout(p.C),p.C=null)}function kY(p,w){var S=null;if(p.g==w){hS(p),$2(p),p.g=null;var G=2}else{if(!U2(p.h,w))return;S=w.D,lY(p.h,w),G=1}if(0!=p.G)if(w.o)if(1==G){S=w.m?w.m.length:0,w=Date.now()-w.F;var Pe=p.B;bs(G=tS(),new XZ(G,S)),uS(p)}else TY(p);else if(3==(Pe=w.s)||0==Pe&&0<w.X||!(1==G&&function WNe(p,w){return!(aY(p.h)>=p.h.j-(p.s?1:0)||(p.s?(p.i=w.D.concat(p.i),0):1==p.G||2==p.G||p.B>=(p.Va?0:p.Wa)||(p.s=I0(g(p.Ga,p,w),MY(p,p.B)),p.B++,0)))}(p,w)||2==G&&G2(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),Pe){case 1:bf(p,5);break;case 4:bf(p,10);break;case 3:bf(p,6);break;default:bf(p,2)}}function MY(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function bf(p,w){if(p.j.info("Error code "+w),2==w){var S=g(p.fb,p),G=p.Xa;const Pe=!G;G=new vf(G||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||oS(G,"https"),aS(G),Pe?function UNe(p,w){const S=new S0;if(a.Image){const G=new Image;G.onload=y(Au,S,"TestLoadImage: loaded",!0,w,G),G.onerror=y(Au,S,"TestLoadImage: error",!1,w,G),G.onabort=y(Au,S,"TestLoadImage: abort",!1,w,G),G.ontimeout=y(Au,S,"TestLoadImage: timeout",!1,w,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=p}else w(!1)}(G.toString(),S):function zNe(p,w){new S0;const G=new AbortController,Pe=setTimeout(()=>{G.abort(),Au(0,0,!1,w)},1e4);fetch(p,{signal:G.signal}).then(et=>{clearTimeout(Pe),Au(0,0,!!et.ok,w)}).catch(()=>{clearTimeout(Pe),Au(0,0,!1,w)})}(G.toString(),S)}else ws(2);p.G=0,p.l&&p.l.sa(w),RY(p),DY(p)}function RY(p){if(p.G=0,p.ka=[],p.l){const w=cY(p.h);(0!=w.length||0!=p.i.length)&&(F(p.ka,w),F(p.ka,p.i),p.h.i.length=0,R(p.i),p.i.length=0),p.l.ra()}}function PY(p,w,S){var G=S instanceof vf?sd(S):new vf(S);if(""!=G.g)w&&(G.g=w+"."+G.g),sS(G,G.s);else{var Pe=a.location;G=Pe.protocol,w=w?w+"."+Pe.hostname:Pe.hostname,Pe=+Pe.port;var et=new vf(null);G&&oS(et,G),w&&(et.g=w),Pe&&sS(et,Pe),S&&(et.l=S),G=et}return w=p.ya,(S=p.D)&&w&&Ji(G,S,w),Ji(G,"VER",p.la),N0(p,G),G}function OY(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new Pr(p.Ca&&!p.pa?new R0({eb:S}):p.pa)).Ha(p.J),w}function FY(){}function fS(){}function fa(p,w){Jo.call(this),this.g=new EY(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!ie(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!ie(w)&&(this.g.D=w,null!==(p=this.h)&&w in p&&w in(p=this.h)&&delete p[w]),this.j=new jg(this)}function NY(p){P2.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=null!==w&&p in w?w[p]:void 0),this.data=w}else this.data=p}function LY(){O2.call(this),this.status=1}function jg(p){this.g=p}(n=Pr.prototype).Ha=function(p){this.J=p},n.ea=function(p,w,S,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():F2.g(),this.v=function WZ(p){return p.h||(p.h=p.i())}(this.o?this.o:F2),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(et){return void vY(this,et)}if(p=S||"",S=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var Pe in G)S.set(Pe,G[Pe]);else{if("function"!=typeof G.keys||"function"!=typeof G.get)throw Error("Unknown input type for opt_headers: "+String(G));for(const et of G.keys())S.set(et,G.get(et))}G=Array.from(S.keys()).find(et=>"content-type"==et.toLowerCase()),Pe=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call($Ne,w,void 0))||G||Pe||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,Ot]of S)this.g.setRequestHeader(et,Ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xY(this),this.u=!0,this.g.send(p),this.u=!1}catch(et){vY(this,et)}},n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,bs(this,"complete"),bs(this,"abort"),cS(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cS(this,!0)),Pr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?wY(this):this.bb())},n.bb=function(){wY(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<ad(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&0==w.indexOf(p)&&(w=w.substring(p.length)),CNe(w)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=EY.prototype).la=8,n.G=1,n.connect=function(p,w,S,G){ws(0),this.W=p,this.H=w||{},S&&void 0!==G&&(this.H.OSID=S,this.H.OAID=G),this.F=this.X,this.I=PY(this,null,this.W),uS(this)},n.Ga=function(p){if(this.s)if(this.s=null,1==this.G){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Pe=new Su(this,this.j,p);let et=this.o;if(this.S&&(et?(et=J(et),Ie(et,this.S)):et=this.S),null!==this.m||this.O||(Pe.H=et,et=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){var G=this.i[S];if(void 0===(G="__data__"in G.map&&"string"==typeof(G=G.map.__data__)?G.length:void 0))break;if(4096<(w+=G)){w=S;break e}if(4096===w||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=SY(this,Pe,w),Ji(S=sd(this.I),"RID",p),Ji(S,"CVER",22),this.D&&Ji(S,"X-HTTP-Session-Id",this.D),N0(this,S),et&&(this.O?w="headers="+encodeURIComponent(String(yY(et)))+"&"+w:this.m&&j2(S,this.m,et)),z2(this.h,Pe),this.Ua&&Ji(S,"TYPE","init"),this.P?(Ji(S,"$req",w),Ji(S,"SID","null"),Pe.T=!0,L2(Pe,S,null)):L2(Pe,S,w),this.G=2}}else 3==this.G&&(p?IY(this,p):0==this.i.length||sY(this.h)||IY(this))},n.Fa=function(){if(this.u=null,AY(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=I0(g(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ws(10),dS(this),AY(this))},n.Za=function(){null!=this.C&&(this.C=null,dS(this),G2(this),ws(19))},n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=FY.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},fS.prototype.g=function(p,w){return new fa(p,w)},C(fa,Jo),fa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fa.prototype.close=function(){H2(this.g)},fa.prototype.o=function(p){var w=this.g;if("string"==typeof p){var S={};S.__data__=p,p=S}else this.u&&((S={}).__data__=M2(p),p=S);w.i.push(new class{constructor(p,w){this.g=p,this.map=w}}(w.Ya++,p)),3==w.G&&uS(w)},fa.prototype.N=function(){this.g.l=null,delete this.j,H2(this.g),delete this.g,fa.aa.N.call(this)},C(NY,P2),C(LY,O2),C(jg,FY),jg.prototype.ua=function(){bs(this.g,"a")},jg.prototype.ta=function(p){bs(this.g,new NY(p))},jg.prototype.sa=function(p){bs(this.g,new LY)},jg.prototype.ra=function(){bs(this.g,"b")},fS.prototype.createWebChannel=fS.prototype.g,fa.prototype.send=fa.prototype.o,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,jj=Oc.createWebChannelTransport=function(){return new fS},zj=Oc.getStatEventTarget=function(){return tS()},Uj=Oc.Event=_f,Yk=Oc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nS.NO_ERROR=0,nS.TIMEOUT=8,nS.HTTP_ERROR=6,lE=Oc.ErrorCode=nS,JZ.COMPLETE="complete",Bj=Oc.EventType=JZ,KZ.EventType=E0,E0.OPEN="a",E0.CLOSE="b",E0.ERROR="c",E0.MESSAGE="d",Jo.prototype.listen=Jo.prototype.K,Cv=Oc.WebChannel=KZ,Vj=Oc.FetchXmlHttpFactory=R0,Pr.prototype.listenOnce=Pr.prototype.L,Pr.prototype.getLastError=Pr.prototype.Ka,Pr.prototype.getLastErrorCode=Pr.prototype.Ba,Pr.prototype.getStatus=Pr.prototype.Z,Pr.prototype.getResponseJson=Pr.prototype.Oa,Pr.prototype.getResponseText=Pr.prototype.oa,Pr.prototype.send=Pr.prototype.ea,Pr.prototype.setWithCredentials=Pr.prototype.Ha,Lj=Oc.XhrIo=Pr}).apply(typeof aE<"u"?aE:typeof self<"u"?self:typeof window<"u"?window:{});const Hj="@firebase/firestore";class ao{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ao.UNAUTHENTICATED=new ao(null),ao.GOOGLE_CREDENTIALS=new ao("google-credentials-uid"),ao.FIRST_PARTY=new ao("first-party-uid"),ao.MOCK_USER=new ao("mock-user");let bm="10.12.1";const Hd=new na.Yd("@firebase/firestore");function wm(){return Hd.logLevel}function bt(n,...t){if(Hd.logLevel<=na.in.DEBUG){const e=t.map(Qk);Hd.debug(`Firestore (${bm}): ${n}`,...e)}}function Vr(n,...t){if(Hd.logLevel<=na.in.ERROR){const e=t.map(Qk);Hd.error(`Firestore (${bm}): ${n}`,...e)}}function Ps(n,...t){if(Hd.logLevel<=na.in.WARN){const e=t.map(Qk);Hd.warn(`Firestore (${bm}): ${n}`,...e)}}function Qk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $t(n="Unexpected state"){const t=`FIRESTORE (${bm}) INTERNAL ASSERTION FAILED: `+n;throw Vr(t),new Error(t)}function en(n,t){n||$t()}function Pt(n,t){return n}const Qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends W.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class no{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Gj{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class rfe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ao.UNAUTHENTICATED))}shutdown(){}}class ofe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class sfe{constructor(t){this.t=t,this.currentUser=ao.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let s=new no;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new no,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable((0,$e.Z)(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new no)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(en("string"==typeof i.accessToken),new Gj(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return en(null===t||"string"==typeof t),new ao(t)}}class afe{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ao.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lfe{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new afe(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ao.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $j{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cfe{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,bt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(en("string"==typeof e.token),this.R=e.token,new $j(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dfe(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class qj{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=dfe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Sn(n,t){return n<t?-1:n>t?1:0}function xm(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Wj(n){return n+"\0"}class ir{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(Qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ir.fromMillis(Date.now())}static fromDate(t){return ir.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ir(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Sn(this.nanoseconds,t.nanoseconds):Sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new rn(t)}static min(){return new rn(new ir(0,0))}static max(){return new rn(new ir(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ev{constructor(t,e,i){void 0===e?e=0:e>t.length&&$t(),void 0===i?i=t.length-e:i>t.length-e&&$t(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Ev.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Ev?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class ti extends Ev{construct(t,e,i){return new ti(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(Qe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new ti(e)}static emptyPath(){return new ti([])}}const ufe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends Ev{construct(t,e,i){return new Ki(t,e,i)}static isValidIdentifier(t){return ufe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new gt(Qe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new gt(Qe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new gt(Qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new gt(Qe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ki(e)}static emptyPath(){return new Ki([])}}class Ut{constructor(t){this.path=t}static fromPath(t){return new Ut(ti.fromString(t))}static fromName(t){return new Ut(ti.fromString(t).popFirst(5))}static empty(){return new Ut(ti.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===ti.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return ti.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ut(new ti(t.slice()))}}class Cm{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Xk(n){return n.fields.find(t=>2===t.kind)}function xh(n){return n.fields.filter(t=>2!==t.kind)}Cm.UNKNOWN_ID=-1;class Ch{constructor(t,e){this.fieldPath=t,this.kind=e}}class Em{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Em(0,ia.min())}}function Kj(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=rn.fromTimestamp(1e9===i?new ir(e+1,0):new ir(e,i));return new ia(r,Ut.empty(),t)}function Zj(n){return new ia(n.readTime,n.key,-1)}class ia{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ia(rn.min(),Ut.empty(),-1)}static max(){return new ia(rn.max(),Ut.empty(),-1)}}function Jk(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ut.comparator(n.documentKey,t.documentKey),0!==e?e:Sn(n.largestBatchId,t.largestBatchId))}const Yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Gd(n){return eM.apply(this,arguments)}function eM(){return(eM=(0,$e.Z)(function*(n){if(n.code!==Qe.FAILED_PRECONDITION||n.message!==Yj)throw n;bt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class Fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&$t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Fe((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Fe?e:Fe.resolve(e)}catch(e){return Fe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Fe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Fe.reject(e)}static resolve(t){return new Fe((e,i)=>{e(t)})}static reject(t){return new Fe((e,i)=>{i(t)})}static waitFor(t){return new Fe((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},l=>i(l))}),s=!0,o===r&&e()})}static or(t){let e=Fe.resolve(!1);for(const i of t)e=e.next(r=>r?Fe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new Fe((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;e(t[c]).next(d=>{s[c]=d,++a,a===o&&i(s)},d=>r(d))}})}static doWhile(t,e){return new Fe((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class cE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new no,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Dv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=tM(i.target.error);this.V.reject(new Dv(t,r))}}static open(t,e,i,r){try{return new cE(e,t.transaction(r,i))}catch(o){throw new Dv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(bt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new mfe(e)}}class jl{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===jl.S((0,W.z$)())&&Vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return bt("SimpleDb","Removing database:",t),Eh(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,W.hl)())return!1;if(jl.C())return!0;const t=(0,W.z$)(),e=jl.S(t),i=0<e&&e<10,r=Xj(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.v)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,$e.Z)(function*(){return e.db||(bt("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Dv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new gt(Qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new gt(Qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Dv(t,a))},o.onupgradeneeded=s=>{bt("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{bt("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,$e.Z)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const l=cE.open(o.db,t,s?"readonly":"readwrite",i),c=r(l).next(d=>(l.g(),d)).catch(d=>(l.abort(d),Fe.reject(d))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,d="FirebaseError"!==c.name&&a<3;if(bt("SimpleDb","Transaction failed with error:",c.message,"Retrying:",d),o.close(),!d)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Xj(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class pfe{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Eh(this.B.delete())}}class Dv extends gt{constructor(t,e){super(Qe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function $d(n){return"IndexedDbTransactionError"===n.name}class mfe{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(bt("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(bt("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Eh(i)}add(t){return bt("SimpleDb","ADD",this.store.name,t,t),Eh(this.store.add(t))}get(t){return Eh(this.store.get(t)).next(e=>(void 0===e&&(e=null),bt("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return bt("SimpleDb","DELETE",this.store.name,t),Eh(this.store.delete(t))}count(){return bt("SimpleDb","COUNT",this.store.name),Eh(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new Fe((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new Fe((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){bt("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new Fe((i,r)=>{e.onerror=o=>{const s=tM(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new Fe((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const l=new pfe(a),c=e(a.primaryKey,a.value,l);if(c instanceof Fe){const d=c.catch(f=>(l.done(),Fe.reject(f)));i.push(d)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>Fe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Eh(n){return new Fe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=tM(i.target.error);e(r)}})}let Jj=!1;function tM(n){const t=jl.S((0,W.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Jj||(Jj=!0,setTimeout(()=>{throw i},0)),i}}return n}class gfe{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;bt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,$e.Z)(function*(){e.task=null;try{bt("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){$d(i)?bt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Gd(i)}yield e.X(6e4)}))}}class _fe{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,$e.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return Fe.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return bt("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(bt("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=Zj(o);Jk(s,i)>0&&(i=s)}),new ia(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ra=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Iv(n){return null==n}function Sv(n){return 0===n&&1/n==-1/0}function eH(n){return"number"==typeof n&&Number.isInteger(n)&&!Sv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function qo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tH(t)),t=yfe(n.get(e),t);return tH(t)}function yfe(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function tH(n){return n+"\x01\x01"}function Hl(n){const t=n.length;if(en(t>=2),2===t)return en("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ti.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&$t(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:$t()}o=s+2}return new ti(i)}const nH=["userId","batchId"];function dE(n,t){return[n,qo(t)]}function iH(n,t,e){return[n,qo(t),e]}const vfe={},bfe=["prefixPath","collectionGroup","readTime","documentId"],wfe=["prefixPath","collectionGroup","documentId"],xfe=["collectionGroup","readTime","prefixPath","documentId"],Cfe=["canonicalId","targetId"],Efe=["targetId","path"],Dfe=["path","targetId"],Ife=["collectionId","parent"],Sfe=["indexId","uid"],Tfe=["uid","sequenceNumber"],Afe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kfe=["indexId","uid","orderedDocumentKey"],Mfe=["userId","collectionPath","documentId"],Rfe=["userId","collectionPath","largestBatchId"],Pfe=["userId","collectionGroup","largestBatchId"],rH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ofe=[...rH,"documentOverlays"],oH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sH=oH,aH=[...sH,"indexConfiguration","indexState","indexEntries"],Ffe=aH;class nM extends Qj{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function lo(n,t){const e=Pt(n);return jl.F(e._e,t)}function lH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function qd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function dH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ji{constructor(t,e){this.comparator=t,this.root=e||Eo.EMPTY}insert(t,e){return new ji(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(t){return new ji(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new uE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new uE(this.root,t,this.comparator,!1)}getReverseIterator(){return new uE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new uE(this.root,t,this.comparator,!0)}}class uE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Eo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Eo.RED,this.left=r??Eo.EMPTY,this.right=o??Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Eo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Eo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $t();const t=this.left.check();if(t!==this.right.check())throw $t();return t+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw $t()}get value(){throw $t()}get color(){throw $t()}get left(){throw $t()}get right(){throw $t()}copy(t,e,i,r,o){return this}insert(t,e,i){return new Eo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ti{constructor(t){this.comparator=t,this.data=new ji(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uH(this.data.getIterator())}getIteratorFrom(t){return new uH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Ti)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ti(this.comparator);return e.data=t,e}}class uH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dm(n){return n.hasNext()?n.getNext():void 0}class Os{constructor(t){this.fields=t,t.sort(Ki.comparator)}static empty(){return new Os([])}unionWith(t){let e=new Ti(Ki.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Os(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return xm(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class hH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class io{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hH("Invalid base64 string: "+o):o}}(t);return new io(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new io(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}io.EMPTY_BYTE_STRING=new io("");const Lfe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(n){if(en(!!n),"string"==typeof n){let t=0;const e=Lfe.exec(n);if(en(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:kr(n.seconds),nanos:kr(n.nanos)}}function kr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Nc(n){return"string"==typeof n?io.fromBase64String(n):io.fromUint8Array(n)}function hE(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function fE(n){const t=n.mapValue.fields.__previous_value__;return hE(t)?fE(t):t}function Tv(n){const t=Fc(n.mapValue.fields.__local_write_time__.timestampValue);return new ir(t.seconds,t.nanos)}class Vfe{constructor(t,e,i,r,o,s,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Wd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Wd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Wd&&t.projectId===this.projectId&&t.database===this.database}}const Kd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pE={nullValue:"NULL_VALUE"};function Zd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hE(n)?4:gH(n)?9007199254740991:10:$t()}function Gl(n,t){if(n===t)return!0;const e=Zd(n);if(e!==Zd(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Tv(n).isEqual(Tv(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Fc(r.timestampValue),a=Fc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,Nc(n.bytesValue).isEqual(Nc(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return kr(r.geoPointValue.latitude)===kr(o.geoPointValue.latitude)&&kr(r.geoPointValue.longitude)===kr(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return kr(r.integerValue)===kr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=kr(r.doubleValue),a=kr(o.doubleValue);return s===a?Sv(s)===Sv(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return xm(n.arrayValue.values||[],t.arrayValue.values||[],Gl);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(lH(s)!==lH(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!Gl(s[l],a[l])))return!1;return!0}(n,t);default:return $t()}var o}function Av(n,t){return void 0!==(n.values||[]).find(e=>Gl(e,t))}function Yd(n,t){if(n===t)return 0;const e=Zd(n),i=Zd(t);if(e!==i)return Sn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sn(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=kr(o.integerValue||o.doubleValue),l=kr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return fH(n.timestampValue,t.timestampValue);case 4:return fH(Tv(n),Tv(t));case 5:return Sn(n.stringValue,t.stringValue);case 6:return function(o,s){const a=Nc(o),l=Nc(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Sn(a[c],l[c]);if(0!==d)return d}return Sn(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Sn(kr(o.latitude),kr(s.latitude));return 0!==a?a:Sn(kr(o.longitude),kr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=Yd(a[c],l[c]);if(d)return d}return Sn(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Kd.mapValue&&s===Kd.mapValue)return 0;if(o===Kd.mapValue)return 1;if(s===Kd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=Sn(l[f],d[f]);if(0!==g)return g;const y=Yd(a[l[f]],c[d[f]]);if(0!==y)return y}return Sn(l.length,d.length)}(n.mapValue,t.mapValue);default:throw $t()}}function fH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Sn(n,t);const e=Fc(n),i=Fc(t),r=Sn(e.seconds,i.seconds);return 0!==r?r:Sn(e.nanos,i.nanos)}function Im(n){return iM(n)}function iM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Fc(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Nc(n.bytesValue).toBase64():"referenceValue"in n?Ut.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=iM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${iM(e.fields[s])}`;return r+"}"}(n.mapValue):$t()}function Dh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function rM(n){return!!n&&"integerValue"in n}function kv(n){return!!n&&"arrayValue"in n}function pH(n){return!!n&&"nullValue"in n}function mH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gE(n){return!!n&&"mapValue"in n}function Mv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return qd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Mv(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mv(n.arrayValue.values[e]);return t}return Object.assign({},n)}function gH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Bfe(n){return"nullValue"in n?pE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dh(Wd.empty(),Ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:$t()}function Ufe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dh(Wd.empty(),Ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kd:$t()}function _H(n,t){const e=Yd(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function yH(n,t){const e=Yd(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Do{constructor(t){this.value=t}static empty(){return new Do({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!gE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mv(e)}setAll(t){let e=Ki.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=Mv(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());gE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];gE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){qd(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Do(Mv(this.value))}}function vH(n){const t=[];return qd(n.fields,(e,i)=>{const r=new Ki([e]);if(gE(i)){const o=vH(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new Os(t)}class Zi{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Zi(t,0,rn.min(),rn.min(),rn.min(),Do.empty(),0)}static newFoundDocument(t,e,i,r){return new Zi(t,1,e,rn.min(),i,r,0)}static newNoDocument(t,e){return new Zi(t,2,e,rn.min(),rn.min(),Do.empty(),0)}static newUnknownDocument(t,e){return new Zi(t,3,e,rn.min(),rn.min(),Do.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Do.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Do.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Zi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qd{constructor(t,e){this.position=t,this.inclusive=e}}function bH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?Ut.comparator(Ut.fromName(s.referenceValue),e.key):Yd(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function wH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gl(n.position[e],t.position[e]))return!1;return!0}class Rv{constructor(t,e="asc"){this.field=t,this.dir=e}}function zfe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class xH{}class ni extends xH{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new jfe(t,e,i):"array-contains"===e?new $fe(t,i):"in"===e?new TH(t,i):"not-in"===e?new qfe(t,i):"array-contains-any"===e?new Wfe(t,i):new ni(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Hfe(t,i):new Gfe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Yd(e,this.value)):null!==e&&Zd(this.value)===Zd(e)&&this.matchesComparison(Yd(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return $t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends xH{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Ei(t,e)}matches(t){return Sm(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sm(n){return"and"===n.op}function oM(n){return"or"===n.op}function sM(n){return CH(n)&&Sm(n)}function CH(n){for(const t of n.filters)if(t instanceof Ei)return!1;return!0}function aM(n){if(n instanceof ni)return n.field.canonicalString()+n.op.toString()+Im(n.value);if(sM(n))return n.filters.map(t=>aM(t)).join(",");{const t=n.filters.map(e=>aM(e)).join(",");return`${n.op}(${t})`}}function EH(n,t){return n instanceof ni?(i=n,(r=t)instanceof ni&&i.op===r.op&&i.field.isEqual(r.field)&&Gl(i.value,r.value)):n instanceof Ei?function(i,r){return r instanceof Ei&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&EH(s,r.filters[a]),!0)}(n,t):void $t();var i,r}function DH(n,t){const e=n.filters.concat(t);return Ei.create(e,n.op)}function IH(n){return n instanceof ni?`${(e=n).field.canonicalString()} ${e.op} ${Im(e.value)}`:n instanceof Ei?function(e){return e.op.toString()+" {"+e.getFilters().map(IH).join(" ,")+"}"}(n):"Filter";var e}class jfe extends ni{constructor(t,e,i){super(t,e,i),this.key=Ut.fromName(i.referenceValue)}matches(t){const e=Ut.comparator(t.key,this.key);return this.matchesComparison(e)}}class Hfe extends ni{constructor(t,e){super(t,"in",e),this.keys=SH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Gfe extends ni{constructor(t,e){super(t,"not-in",e),this.keys=SH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function SH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ut.fromName(i.referenceValue))}class $fe extends ni{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return kv(e)&&Av(e.arrayValue,this.value)}}class TH extends ni{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Av(this.value.arrayValue,e)}}class qfe extends ni{constructor(t,e){super(t,"not-in",e)}matches(t){if(Av(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Av(this.value.arrayValue,e)}}class Wfe extends ni{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!kv(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Av(this.value.arrayValue,i))}}class Kfe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function lM(n,t=null,e=[],i=[],r=null,o=null,s=null){return new Kfe(n,t,e,i,r,o,s)}function Ih(n){const t=Pt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>aM(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Iv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Im(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Im(i)).join(",")),t.ue=e}return t.ue}function Pv(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!zfe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!EH(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!wH(n.startAt,t.startAt)&&wH(n.endAt,t.endAt)}function _E(n){return Ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yE(n,t){return n.filters.filter(e=>e instanceof ni&&e.field.isEqual(t))}function AH(n,t,e){let i=pE,r=!0;for(const o of yE(n,t)){let s=pE,a=!0;switch(o.op){case"<":case"<=":s=Bfe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=pE}_H({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];_H({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function kH(n,t,e){let i=Kd,r=!0;for(const o of yE(n,t)){let s=Kd,a=!0;switch(o.op){case">=":case">":s=Ufe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Kd}yH({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];yH({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class Lc{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function MH(n,t,e,i,r,o,s,a){return new Lc(n,t,e,i,r,o,s,a)}function Tm(n){return new Lc(n)}function RH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cM(n){return null!==n.collectionGroup}function Am(n){const t=Pt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ti(Ki.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Rv(o,i))}),e.has(Ki.keyField().canonicalString())||t.ce.push(new Rv(Ki.keyField(),i))}return t.ce}function Wo(n){const t=Pt(n);return t.le||(t.le=function OH(n,t){if("F"===n.limitType)return lM(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Rv(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Qd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qd(n.startAt.position,n.startAt.inclusive):null;return lM(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Am(n))),t.le}function dM(n,t){const e=n.filters.concat([t]);return new Lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function vE(n,t,e){return new Lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ov(n,t){return Pv(Wo(n),Wo(t))&&n.limitType===t.limitType}function FH(n){return`${Ih(Wo(n))}|lt:${n.limitType}`}function km(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>IH(r)).join(", ")}]`),Iv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Im(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Im(r)).join(",")),`Target(${i})`}(Wo(n))}; limitType=${n.limitType})`}function Fv(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ut.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Am(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,l){const c=bH(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Am(i),r)||i.endAt&&!function(s,a,l){const c=bH(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Am(i),r)));var i,r}function NH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function LH(n){return(t,e)=>{let i=!1;for(const r of Am(n)){const o=Zfe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function Zfe(n,t,e){const i=n.field.isKeyField()?Ut.comparator(t.key,e.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Yd(l,c):$t()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $t()}}class Vc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){qd(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return dH(this.inner)}size(){return this.innerSize}}const Yfe=new ji(Ut.comparator);function Fs(){return Yfe}const VH=new ji(Ut.comparator);function Nv(...n){let t=VH;for(const e of n)t=t.insert(e.key,e);return t}function BH(n){let t=VH;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function $l(){return Lv()}function UH(){return Lv()}function Lv(){return new Vc(n=>n.toString(),(n,t)=>n.isEqual(t))}const Qfe=new ji(Ut.comparator),Xfe=new Ti(Ut.comparator);function Nn(...n){let t=Xfe;for(const e of n)t=t.add(e);return t}const Jfe=new Ti(Sn);function uM(){return Jfe}function zH(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sv(t)?"-0":t}}function jH(n){return{integerValue:""+n}}function HH(n,t){return eH(t)?jH(t):zH(n,t)}class bE{constructor(){this._=void 0}}function epe(n,t,e){return n instanceof Mm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hE(o)&&(o=fE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Sh?$H(n,t):n instanceof Th?qH(n,t):function(r,o){const s=GH(r,o),a=WH(s)+WH(r.Pe);return rM(s)&&rM(r.Pe)?jH(a):zH(r.serializer,a)}(n,t)}function tpe(n,t,e){return n instanceof Sh?$H(n,t):n instanceof Th?qH(n,t):e}function GH(n,t){return n instanceof Rm?rM(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class Mm extends bE{}class Sh extends bE{constructor(t){super(),this.elements=t}}function $H(n,t){const e=KH(t);for(const i of n.elements)e.some(r=>Gl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Th extends bE{constructor(t){super(),this.elements=t}}function qH(n,t){let e=KH(t);for(const i of n.elements)e=e.filter(r=>!Gl(r,i));return{arrayValue:{values:e}}}class Rm extends bE{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function WH(n){return kr(n.integerValue||n.doubleValue)}function KH(n){return kv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vv{constructor(t,e){this.field=t,this.transform=e}}class ipe{constructor(t,e){this.version=t,this.transformResults=e}}class rr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new rr}static exists(t){return new rr(void 0,t)}static updateTime(t){return new rr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class xE{}function ZH(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Om(n.key,rr.none()):new Pm(n.key,n.data,rr.none());{const e=n.data,i=Do.empty();let r=new Ti(Ki.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Bc(n.key,i,new Os(r.toArray()),rr.none())}}function rpe(n,t,e){n instanceof Pm?function(r,o,s){const a=r.value.clone(),l=XH(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof Bc?function(r,o,s){if(!wE(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=XH(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(QH(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Bv(n,t,e,i){return n instanceof Pm?function(o,s,a,l){if(!wE(o.precondition,s))return a;const c=o.value.clone(),d=JH(o.fieldTransforms,l,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof Bc?function(o,s,a,l){if(!wE(o.precondition,s))return a;const c=JH(o.fieldTransforms,l,s),d=s.data;return d.setAll(QH(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,e,i):(a=e,wE(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function ope(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=GH(i.transform,r||null);null!=o&&(null===e&&(e=Do.empty()),e.set(i.field,o))}return e||null}function YH(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&xm(i,r,(o,s)=>function npe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Sh&&r instanceof Sh||i instanceof Th&&r instanceof Th?xm(i.elements,r.elements,Gl):i instanceof Rm&&r instanceof Rm?Gl(i.Pe,r.Pe):i instanceof Mm&&r instanceof Mm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Pm extends xE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Bc extends xE{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function QH(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function XH(n,t,e){const i=new Map;en(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,tpe(s,a,e[r]))}return i}function JH(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,epe(o,s,t))}return i}class Om extends xE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hM extends xE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&rpe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bv(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bv(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=UH();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const l=ZH(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(rn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Nn())}isEqual(t){return this.batchId===t.batchId&&xm(this.mutations,t.mutations,(e,i)=>YH(e,i))&&xm(this.baseMutations,t.baseMutations,(e,i)=>YH(e,i))}}class pM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){en(t.mutations.length===i.length);let r=Qfe;const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new pM(t,e,i,r)}}class mM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class spe{constructor(t,e){this.count=t,this.unchangedNames=e}}var qr,ri;function t8(n){switch(n){default:return $t();case Qe.CANCELLED:case Qe.UNKNOWN:case Qe.DEADLINE_EXCEEDED:case Qe.RESOURCE_EXHAUSTED:case Qe.INTERNAL:case Qe.UNAVAILABLE:case Qe.UNAUTHENTICATED:return!1;case Qe.INVALID_ARGUMENT:case Qe.NOT_FOUND:case Qe.ALREADY_EXISTS:case Qe.PERMISSION_DENIED:case Qe.FAILED_PRECONDITION:case Qe.ABORTED:case Qe.OUT_OF_RANGE:case Qe.UNIMPLEMENTED:case Qe.DATA_LOSS:return!0}}function n8(n){if(void 0===n)return Vr("GRPC error has no .code"),Qe.UNKNOWN;switch(n){case qr.OK:return Qe.OK;case qr.CANCELLED:return Qe.CANCELLED;case qr.UNKNOWN:return Qe.UNKNOWN;case qr.DEADLINE_EXCEEDED:return Qe.DEADLINE_EXCEEDED;case qr.RESOURCE_EXHAUSTED:return Qe.RESOURCE_EXHAUSTED;case qr.INTERNAL:return Qe.INTERNAL;case qr.UNAVAILABLE:return Qe.UNAVAILABLE;case qr.UNAUTHENTICATED:return Qe.UNAUTHENTICATED;case qr.INVALID_ARGUMENT:return Qe.INVALID_ARGUMENT;case qr.NOT_FOUND:return Qe.NOT_FOUND;case qr.ALREADY_EXISTS:return Qe.ALREADY_EXISTS;case qr.PERMISSION_DENIED:return Qe.PERMISSION_DENIED;case qr.FAILED_PRECONDITION:return Qe.FAILED_PRECONDITION;case qr.ABORTED:return Qe.ABORTED;case qr.OUT_OF_RANGE:return Qe.OUT_OF_RANGE;case qr.UNIMPLEMENTED:return Qe.UNIMPLEMENTED;case qr.DATA_LOSS:return Qe.DATA_LOSS;default:return $t()}}(ri=qr||(qr={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";function i8(){return new TextEncoder}const ape=new wh([4294967295,4294967295],0);function r8(n){const t=i8().encode(n),e=new Nj;return e.update(t),new Uint8Array(e.digest())}function o8(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new wh([e,i],0),new wh([r,o],0)]}class gM{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Uv(`Invalid padding: ${e}`);if(i<0)throw new Uv(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Uv(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Uv(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=wh.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(wh.fromNumber(i)));return 1===r.compare(ape)&&(r=new wh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=r8(t),[i,r]=o8(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new gM(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=r8(t),[i,r]=o8(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Uv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zv{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,jv.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new zv(rn.min(),r,new ji(Sn),Fs(),Nn())}}class jv{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new jv(i,e,Nn(),Nn(),Nn())}}class EE{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class s8{constructor(t,e){this.targetId=t,this.me=e}}class a8{constructor(t,e,i=io.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class l8{constructor(){this.fe=0,this.ge=d8(),this.pe=io.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Nn(),e=Nn(),i=Nn();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:$t()}}),new jv(this.pe,this.ye,t,e,i)}ve(){this.we=!1,this.ge=d8()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,en(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lpe{constructor(t){this.Le=t,this.Be=new Map,this.ke=Fs(),this.qe=c8(),this.Qe=new ji(Sn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:$t()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(_E(o))if(0===i){const s=new Ut(o.path);this.Ue(e,s,Zi.newNoDocument(s,rn.min()))}else en(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),l=a?this.Xe(a,t,s):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=Nc(i).toUint8Array()}catch(l){if(l instanceof hH)return Ps("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new gM(s,r,o)}catch(l){return Ps(l instanceof Uv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&_E(a.target)){const l=new Ut(a.target.path);null!==this.ke.get(l)||this.it(s,l)||this.Ue(s,l,Zi.newNoDocument(l,t))}o.be&&(e.set(s,o.Ce()),o.ve())}});let i=Nn();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new zv(t,e,this.Qe,this.ke,i);return this.ke=Fs(),this.qe=c8(),this.Qe=new ji(Sn),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new l8,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Ti(Sn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||bt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new l8),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function c8(){return new ji(Ut.comparator)}function d8(){return new ji(Ut.comparator)}const cpe={asc:"ASCENDING",desc:"DESCENDING"},dpe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},upe={and:"AND",or:"OR"};class hpe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _M(n,t){return n.useProto3Json||Iv(t)?t:{value:t}}function Fm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function u8(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function fpe(n,t){return Fm(n,t.toTimestamp())}function Br(n){return en(!!n),rn.fromTimestamp(function(e){const i=Fc(e);return new ir(i.seconds,i.nanos)}(n))}function yM(n,t){return vM(n,t).canonicalString()}function vM(n,t){const e=(r=n,new ti(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function h8(n){const t=ti.fromString(n);return en(C8(t)),t}function Hv(n,t){return yM(n.databaseId,t.path)}function ql(n,t){const e=h8(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(Qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ut(m8(e))}function f8(n,t){return yM(n.databaseId,t)}function p8(n){const t=h8(n);return 4===t.length?ti.emptyPath():m8(t)}function bM(n){return new ti(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function m8(n){return en(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function g8(n,t,e){return{name:Hv(n,t),fields:e.value.mapValue.fields}}function _8(n,t,e){const i=ql(n,t.name),r=Br(t.updateTime),o=t.createTime?Br(t.createTime):rn.min(),s=new Do({mapValue:{fields:t.fields}}),a=Zi.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function Gv(n,t){let e;if(t instanceof Pm)e={update:g8(n,t.key,t.value)};else if(t instanceof Om)e={delete:Hv(n,t.key)};else if(t instanceof Bc)e={update:g8(n,t.key,t.data),updateMask:wpe(t.fieldMask)};else{if(!(t instanceof hM))return $t();e={verify:Hv(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Mm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Th)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Rm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw $t()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:fpe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:$t()),e;var o}function wM(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?rr.updateTime(Br(o.updateTime)):void 0!==o.exists?rr.exists(o.exists):rr.none():rr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;"setToServerValue"in a?(en("REQUEST_TIME"===a.setToServerValue),l=new Mm):"appendMissingElements"in a?l=new Sh(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new Th(a.removeAllFromArray.values||[]):"increment"in a?l=new Rm(s,a.increment):$t();const c=Ki.fromServerFormat(a.fieldPath);return new Vv(c,l)}(n,r)):[];var o;if(t.update){const r=ql(n,t.update.name),o=new Do({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new Os((t.updateMask.fieldPaths||[]).map(d=>Ki.fromServerFormat(d)));return new Bc(r,o,s,e,i)}return new Pm(r,o,e,i)}if(t.delete){const r=ql(n,t.delete);return new Om(r,e)}if(t.verify){const r=ql(n,t.verify);return new hM(r,e)}return $t()}function y8(n,t){return{documents:[f8(n,t.path)]}}function DE(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=f8(n,r);const o=function(c){if(0!==c.length)return x8(Ei.create(c,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Xd((g=d).field),direction:ype(g.dir)};var g})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=_M(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:r};var c}function b8(n){let t=p8(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){en(1===i);const d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let o=[];e.where&&(o=function(f){const g=w8(f);return g instanceof Ei&&sM(g)?g.getFilters():[g]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(g=>{return new Rv(Nm((C=g).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let a=null;e.limit&&(a=function(f){let g;return g="object"==typeof f?f.value:f,Iv(g)?null:g}(e.limit));let l=null;var f;e.startAt&&(l=new Qd((f=e.startAt).values||[],!!f.before));let c=null;return e.endAt&&(c=function(f){return new Qd(f.values||[],!f.before)}(e.endAt)),MH(t,r,s,o,a,"F",l,c)}function w8(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Nm(e.unaryFilter.field);return ni.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Nm(e.unaryFilter.field);return ni.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Nm(e.unaryFilter.field);return ni.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Nm(e.unaryFilter.field);return ni.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $t()}}(n):void 0!==n.fieldFilter?ni.create(Nm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ei.create(e.compositeFilter.filters.map(i=>w8(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return $t()}}(e.compositeFilter.op))}(n):$t();var e}function ype(n){return cpe[n]}function vpe(n){return dpe[n]}function bpe(n){return upe[n]}function Xd(n){return{fieldPath:n.canonicalString()}}function Nm(n){return Ki.fromServerFormat(n.fieldPath)}function x8(n){return n instanceof ni?function(e){if("=="===e.op){if(mH(e.value))return{unaryFilter:{field:Xd(e.field),op:"IS_NAN"}};if(pH(e.value))return{unaryFilter:{field:Xd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(mH(e.value))return{unaryFilter:{field:Xd(e.field),op:"IS_NOT_NAN"}};if(pH(e.value))return{unaryFilter:{field:Xd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xd(e.field),op:vpe(e.op),value:e.value}}}(n):n instanceof Ei?function(e){const i=e.getFilters().map(r=>x8(r));return 1===i.length?i[0]:{compositeFilter:{op:bpe(e.op),filters:i}}}(n):$t()}function wpe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function C8(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Uc{constructor(t,e,i,r,o=rn.min(),s=rn.min(),a=io.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Uc(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class E8{constructor(t){this.ct=t}}function D8(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:IE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Hv(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:Fm(o,s.version.toTimestamp()),createTime:Fm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Ah(t.version)};else{if(!t.isUnknownDocument())return $t();i.unknownDocument={path:e.path.toArray(),version:Ah(t.version)}}var o,s;return i}function IE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ah(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kh(n){const t=new ir(n.seconds,n.nanoseconds);return rn.fromTimestamp(t)}function Mh(n,t){const e=(t.baseMutations||[]).map(o=>wM(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>wM(n.ct,o)),r=ir.fromMillis(t.localWriteTimeMs);return new fM(t.batchId,r,e,i)}function $v(n){const t=kh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?kh(n.lastLimboFreeSnapshotVersion):rn.min();let i;return i=void 0!==n.query.documents?(en(1===(o=n.query).documents.length),Wo(Tm(p8(o.documents[0])))):function(o){return Wo(b8(o))}(n.query),new Uc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,io.fromBase64String(n.resumeToken));var o}function I8(n,t){const e=Ah(t.snapshotVersion),i=Ah(t.lastLimboFreeSnapshotVersion);let r;r=_E(t.target)?y8(n.ct,t.target):DE(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ih(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function xM(n){const t=b8({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vE(t,t.limit,"L"):t}function CM(n,t){return new mM(t.largestBatchId,wM(n.ct,t.overlayMutation))}function S8(n,t){const e=t.path.lastSegment();return[n,qo(t.path.popLast()),e]}function T8(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Ah(i.readTime),documentKey:qo(i.documentKey.path),largestBatchId:i.largestBatchId}}class Cpe{getBundleMetadata(t,e){return A8(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:kh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return A8(t).put({bundleId:(r=e).id,createTime:Ah(Br(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return k8(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:xM(o.bundledQuery),readTime:kh(o.readTime)};var o})}saveNamedQuery(t,e){return k8(t).put({name:(r=e).name,readTime:Ah(Br(r.readTime)),bundledQuery:r.bundledQuery});var r}}function A8(n){return lo(n,"bundles")}function k8(n){return lo(n,"namedQueries")}class SE{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new SE(t,e.uid||"")}getOverlay(t,e){return qv(t).get(S8(this.userId,e)).next(i=>i?CM(this.serializer,i):null)}getOverlays(t,e){const i=$l();return Fe.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new mM(e,s);r.push(this.ht(t,a))}),Fe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(qo(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(qv(t).j("collectionPathOverlayIndex",a))}),Fe.waitFor(o)}getOverlaysForCollection(t,e,i){const r=$l(),o=qo(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return qv(t).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const c=CM(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=$l();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return qv(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const f=CM(this.serializer,c);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):d.done()}).next(()=>o)}ht(t,e){return qv(t).put(function(r,o,s){const[a,l,c]=S8(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Gv(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function qv(n){return lo(n,"documentOverlays")}class Rh{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(kr(t.integerValue));else if("doubleValue"in t){const i=kr(t.doubleValue);isNaN(i)?this.Et(e,13):(this.Et(e,15),Sv(i)?e.dt(0):e.dt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Et(e,20),"string"==typeof i&&(i=Fc(i)),e.At(`${i.seconds||""}`),e.dt(i.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Nc(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Et(e,45),e.dt(i.latitude||0),e.dt(i.longitude||0)}else"mapValue"in t?gH(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):$t()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const i=t.fields||{};this.Et(e,55);for(const r of Object.keys(i))this.Rt(r,e),this.It(i[r],e)}wt(t,e){const i=t.values||[];this.Et(e,50);for(const r of i)this.It(r,e)}gt(t,e){this.Et(e,37),Ut.fromName(t).path.forEach(i=>{this.Et(e,60),this.St(i,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}function Epe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function M8(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Epe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}Rh.bt=new Rh;class Dpe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ct(i.value),i=e.next();this.vt()}Ft(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Mt(i.value),i=e.next();this.xt()}Ot(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ct(i);else if(i<2048)this.Ct(960|i>>>6),this.Ct(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ct(480|i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i);else{const r=e.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Mt(i);else if(i<2048)this.Mt(960|i>>>6),this.Mt(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Mt(480|i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i);else{const r=e.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(t){const e=this.Bt(t),i=M8(e);this.kt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}qt(t){const e=this.Bt(t),i=M8(e);this.kt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ct(t){const e=255&t;0===e?(this.Kt(0),this.Kt(255)):255===e?(this.Kt(255),this.Kt(0)):this.Kt(e)}Mt(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Ipe{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}}class Spe{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class Wv{constructor(){this.Gt=new Dpe,this.zt=new Ipe(this.Gt),this.jt=new Spe(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Ph{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Jt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Ph(this.indexId,this.documentKey,this.arrayValue,i)}}function Jd(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=R8(n.arrayValue,t.arrayValue),0!==e?e:(e=R8(n.directionalValue,t.directionalValue),0!==e?e:Ut.comparator(n.documentKey,t.documentKey)))}function R8(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class P8{constructor(t){this.Yt=new Ti((e,i)=>Ki.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const e of t.filters){const i=e;i.isInequality()?this.Yt=this.Yt.add(i):this.Xt.push(i)}}get en(){return this.Yt.size>1}tn(t){if(en(t.collectionGroup===this.collectionId),this.en)return!1;const e=Xk(t);if(void 0!==e&&!this.nn(e))return!1;const i=xh(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.nn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<i.length;++o)if(s>=this.Zt.length||!this.sn(this.Zt[s++],i[o]))return!1;return!0}on(){if(this.en)return null;let t=new Ti(Ki.comparator);const e=[];for(const i of this.Xt)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Ch(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Ch(i.field,0))}for(const i of this.Zt)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Ch(i.field,"asc"===i.dir?0:1)));return new Cm(Cm.UNKNOWN_ID,this.collectionId,e,Em.empty())}nn(t){for(const e of this.Xt)if(this.rn(e,t))return!0;return!1}rn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function O8(n){var t,e;if(en(n instanceof ni||n instanceof Ei),n instanceof ni){if(n instanceof TH){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>ni.create(n.field,"==",o)))||[];return Ei.create(r,"or")}return n}const i=n.filters.map(r=>O8(r));return Ei.create(i,n.op)}function Tpe(n){if(0===n.getFilters().length)return[];const t=IM(O8(n));return en(F8(t)),EM(t)||DM(t)?[t]:t.getFilters()}function EM(n){return n instanceof ni}function DM(n){return n instanceof Ei&&sM(n)}function F8(n){return EM(n)||DM(n)||function(e){if(e instanceof Ei&&oM(e)){for(const i of e.getFilters())if(!EM(i)&&!DM(i))return!1;return!0}return!1}(n)}function IM(n){if(en(n instanceof ni||n instanceof Ei),n instanceof ni)return n;if(1===n.filters.length)return IM(n.filters[0]);const t=n.filters.map(i=>IM(i));let e=Ei.create(t,n.op);return e=TE(e),F8(e)?e:(en(e instanceof Ei),en(Sm(e)),en(e.filters.length>1),e.filters.reduce((i,r)=>SM(i,r)))}function SM(n,t){let e;return en(n instanceof ni||n instanceof Ei),en(t instanceof ni||t instanceof Ei),e=n instanceof ni?t instanceof ni?Ei.create([n,t],"and"):N8(n,t):t instanceof ni?N8(t,n):function(r,o){if(en(r.filters.length>0&&o.filters.length>0),Sm(r)&&Sm(o))return DH(r,o.getFilters());const s=oM(r)?r:o,a=oM(r)?o:r,l=s.filters.map(c=>SM(c,a));return Ei.create(l,"or")}(n,t),TE(e)}function N8(n,t){if(Sm(t))return DH(t,n.getFilters());{const e=t.filters.map(i=>SM(n,i));return Ei.create(e,"or")}}function TE(n){if(en(n instanceof ni||n instanceof Ei),n instanceof ni)return n;const t=n.getFilters();if(1===t.length)return TE(t[0]);if(CH(n))return n;const e=t.map(r=>TE(r)),i=[];return e.forEach(r=>{r instanceof ni?i.push(r):r instanceof Ei&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Ei.create(i,n.op)}class Ape{constructor(){this._n=new TM}addToCollectionParentIndex(t,e){return this._n.add(e),Fe.resolve()}getCollectionParents(t,e){return Fe.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return Fe.resolve()}deleteFieldIndex(t,e){return Fe.resolve()}deleteAllFieldIndexes(t){return Fe.resolve()}createTargetIndexes(t,e){return Fe.resolve()}getDocumentsMatchingTarget(t,e){return Fe.resolve(null)}getIndexType(t,e){return Fe.resolve(0)}getFieldIndexes(t,e){return Fe.resolve([])}getNextCollectionGroupToUpdate(t){return Fe.resolve(null)}getMinOffset(t,e){return Fe.resolve(ia.min())}getMinOffsetFromCollectionGroup(t,e){return Fe.resolve(ia.min())}updateCollectionGroup(t,e,i){return Fe.resolve()}updateIndexEntries(t,e){return Fe.resolve()}}class TM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ti(ti.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ti(ti.comparator)).toArray()}}const AE=new Uint8Array(0);class kpe{constructor(t,e){this.databaseId=e,this.an=new TM,this.un=new Vc(i=>Ih(i),(i,r)=>Pv(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.an.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.an.add(e)});const o={collectionId:i,parent:qo(r)};return L8(t).put(o)}return Fe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Wj(e),""],!1,!0);return L8(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(Hl(s.parent))}return i})}addFieldIndex(t,e){const i=Kv(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=Vm(t);return o.next(a=>{s.put(T8(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=Kv(t),r=Vm(t),o=Lm(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Kv(t),i=Lm(t),r=Vm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return Fe.forEach(this.cn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new P8(i).on();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=Lm(t);let r=!0;const o=new Map;return Fe.forEach(this.cn(e),s=>this.ln(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=Nn();const a=[];return Fe.forEach(o,(l,c)=>{var ye;bt("IndexedDbIndexManager",`Using index ${ye=l,`id=${ye.indexId}|cg=${ye.collectionGroup}|f=${ye.fields.map(Ve=>`${Ve.fieldPath}:${Ve.kind}`).join(",")}`} to execute ${Ih(e)}`);const d=function(ye,Ve){const _t=Xk(Ve);if(void 0===_t)return null;for(const At of yE(ye,_t.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(c,l),f=function(ye,Ve){const _t=new Map;for(const At of xh(Ve))for(const ue of yE(ye,At.fieldPath))switch(ue.op){case"==":case"in":_t.set(At.fieldPath.canonicalString(),ue.value);break;case"not-in":case"!=":return _t.set(At.fieldPath.canonicalString(),ue.value),Array.from(_t.values())}return null}(c,l),g=function(ye,Ve){const _t=[];let At=!0;for(const ue of xh(Ve)){const J=0===ue.kind?AH(ye,ue.fieldPath,ye.startAt):kH(ye,ue.fieldPath,ye.startAt);_t.push(J.value),At&&(At=J.inclusive)}return new Qd(_t,At)}(c,l),y=function(ye,Ve){const _t=[];let At=!0;for(const ue of xh(Ve)){const J=0===ue.kind?kH(ye,ue.fieldPath,ye.endAt):AH(ye,ue.fieldPath,ye.endAt);_t.push(J.value),At&&(At=J.inclusive)}return new Qd(_t,At)}(c,l),C=this.hn(l,c,g),R=this.hn(l,c,y),F=this.Pn(l,c,f),te=this.In(l.indexId,d,C,g.inclusive,R,y.inclusive,F);return Fe.forEach(te,ie=>i.G(ie,e.limit).next(ye=>{ye.forEach(Ve=>{const _t=Ut.fromSegments(Ve.documentKey);s.has(_t)||(s=s.add(_t),a.push(_t))})}))}).next(()=>a)}return Fe.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:Tpe(Ei.create(t.filters,"and")).map(i=>lM(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}In(t,e,i,r,o,s,a){const l=(null!=e?e.length:1)*Math.max(i.length,o.length),c=l/(null!=e?e.length:1),d=[];for(let f=0;f<l;++f){const g=e?this.Tn(e[f/c]):AE,y=this.En(t,g,i[f%c],r),C=this.dn(t,g,o[f%c],s),R=a.map(F=>this.En(t,g,F,!0));d.push(...this.createRange(y,C,R))}return d}En(t,e,i,r){const o=new Ph(t,Ut.empty(),e,i);return r?o:o.Jt()}dn(t,e,i,r){const o=new Ph(t,Ut.empty(),e,i);return r?o.Jt():o}ln(t,e){const i=new P8(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.cn(e);return Fe.forEach(r,o=>this.ln(t,o).next(s=>{s?0!==i&&s.fields.length<function(l){let c=new Ti(Ki.comparator),d=!1;for(const f of l.filters)for(const g of f.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?d=!0:c=c.add(g.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}An(t,e){const i=new Wv;for(const r of xh(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Ht(r.kind);Rh.bt.Pt(o,s)}return i.Wt()}Tn(t){const e=new Wv;return Rh.bt.Pt(t,e.Ht(0)),e.Wt()}Rn(t,e){const i=new Wv;return Rh.bt.Pt(Dh(this.databaseId,e),i.Ht(function(o){const s=xh(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.Wt()}Pn(t,e,i){if(null===i)return[];let r=[];r.push(new Wv);let o=0;for(const s of xh(t)){const a=i[o++];for(const l of r)if(this.Vn(e,s.fieldPath)&&kv(a))r=this.mn(r,s,a);else{const c=l.Ht(s.kind);Rh.bt.Pt(a,c)}}return this.fn(r)}hn(t,e,i){return this.Pn(t,e,i.position)}fn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Wt();return e}mn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const l=new Wv;l.seed(a.Wt()),Rh.bt.Pt(s,l.Ht(e.kind)),o.push(l)}return o}Vn(t,e){return!!t.filters.find(i=>i instanceof ni&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Kv(t),r=Vm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return Fe.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(d,f){const g=f?new Em(f.sequenceNumber,new ia(kh(f.readTime),new Ut(Hl(f.documentKey)),f.largestBatchId)):Em.empty(),y=d.fields.map(([C,R])=>new Ch(Ki.fromServerFormat(C),R));return new Cm(d.indexId,d.collectionGroup,y,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Sn(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Kv(t),o=Vm(t);return this.gn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>Fe.forEach(a,l=>o.put(T8(l.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return Fe.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?Fe.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),Fe.forEach(a,l=>this.pn(t,r,l).next(c=>{const d=this.yn(o,l);return c.isEqual(d)?Fe.resolve():this.wn(t,o,l,c,d)}))))})}Sn(t,e,i,r){return Lm(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(i,e.key),documentKey:e.key.path.toArray()})}bn(t,e,i,r){return Lm(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(i,e.key),e.key.path.toArray()])}pn(t,e,i){const r=Lm(t);let o=new Ti(Jd);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.Rn(i,e)])},(s,a)=>{o=o.add(new Ph(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(t,e){let i=new Ti(Jd);const r=this.An(e,t);if(null==r)return i;const o=Xk(e);if(null!=o){const s=t.data.field(o.fieldPath);if(kv(s))for(const a of s.arrayValue.values||[])i=i.add(new Ph(e.indexId,t.key,this.Tn(a),r))}else i=i.add(new Ph(e.indexId,t.key,AE,r));return i}wn(t,e,i,r,o){bt("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(l,c,d,f,g){const y=l.getIterator(),C=c.getIterator();let R=Dm(y),F=Dm(C);for(;R||F;){let te=!1,ie=!1;if(R&&F){const ye=d(R,F);ye<0?ie=!0:ye>0&&(te=!0)}else null!=R?ie=!0:te=!0;te?(f(F),F=Dm(C)):ie?(g(R),R=Dm(y)):(R=Dm(y),F=Dm(C))}}(r,o,Jd,a=>{s.push(this.Sn(t,e,i,a))},a=>{s.push(this.bn(t,e,i,a))}),Fe.waitFor(s)}gn(t){let e=1;return Vm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Jd(s,a)).filter((s,a,l)=>!a||0!==Jd(s,l[a-1]));const r=[];r.push(t);for(const s of i){const a=Jd(s,t),l=Jd(s,e);if(0===a)r[0]=t.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,AE,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,AE,[]]))}return o}Dn(t,e){return Jd(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(V8)}getMinOffset(t,e){return Fe.mapArray(this.cn(e),i=>this.ln(t,i).next(r=>r||$t())).next(V8)}}function L8(n){return lo(n,"collectionParents")}function Lm(n){return lo(n,"indexEntries")}function Kv(n){return lo(n,"indexConfiguration")}function Vm(n){return lo(n,"indexState")}function V8(n){en(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Jk(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ia(t.readTime,t.documentKey,e)}const B8={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ko{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ko(t,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function U8(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const l=i.J({range:s},(d,f,g)=>(a++,g.delete()));o.push(l.next(()=>{en(1===a)}));const c=[];for(const d of e.mutations){const f=iH(t,d.key.path,e.batchId);o.push(r.delete(f)),c.push(d.key)}return Fe.waitFor(o).next(()=>c)}function kE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw $t();t=n.noDocument}return JSON.stringify(t).length}Ko.DEFAULT_COLLECTION_PERCENTILE=10,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ko.DEFAULT=new Ko(41943040,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ko.DISABLED=new Ko(-1,0,0);class ME{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Cn={}}static lt(t,e,i,r){en(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new ME(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Bm(t),s=eu(t);return s.add({}).next(a=>{en("number"==typeof a);const l=new fM(a,e,i,r),c=function(y,C,R){const F=R.baseMutations.map(ie=>Gv(y.ct,ie)),te=R.mutations.map(ie=>Gv(y.ct,ie));return{userId:C,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:F,mutations:te}}(this.serializer,this.userId,l),d=[];let f=new Ti((g,y)=>Sn(g.canonicalString(),y.canonicalString()));for(const g of r){const y=iH(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(s.put(c)),d.push(o.put(y,vfe))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),Fe.waitFor(d).next(()=>l)})}lookupMutationBatch(t,e){return eu(t).get(e).next(i=>i?(en(i.userId===this.userId),Mh(this.serializer,i)):null)}vn(t,e){return this.Cn[e]?Fe.resolve(this.Cn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Cn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return eu(t).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(en(a.batchId>=i),o=Mh(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return eu(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return eu(t).U("userMutationsIndex",e).next(i=>i.map(r=>Mh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=dE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Bm(t).J({range:r},(s,a,l)=>{const[c,d,f]=s,g=Hl(d);if(c===this.userId&&e.path.isEqual(g))return eu(t).get(f).next(y=>{if(!y)throw $t();en(y.userId===this.userId),o.push(Mh(this.serializer,y))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ti(Sn);const r=[];return e.forEach(o=>{const s=dE(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=Bm(t).J({range:a},(c,d,f)=>{const[g,y,C]=c,R=Hl(y);g===this.userId&&o.path.isEqual(R)?i=i.add(C):f.done()});r.push(l)}),Fe.waitFor(r).next(()=>this.Fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=dE(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Ti(Sn);return Bm(t).J({range:s},(l,c,d)=>{const[f,g,y]=l,C=Hl(g);f===this.userId&&i.isPrefixOf(C)?C.length===r&&(a=a.add(y)):d.done()}).next(()=>this.Fn(t,a))}Fn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(eu(t).get(o).next(s=>{if(null===s)throw $t();en(s.userId===this.userId),i.push(Mh(this.serializer,s))}))}),Fe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return U8(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Mn(e.batchId)}),Fe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Fe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Bm(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const l=Hl(o[1]);r.push(l)}else a.done()}).next(()=>{en(0===r.length)})})}containsKey(t,e){return z8(t,this.userId,e)}xn(t){return j8(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function z8(n,t,e){const i=dE(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return Bm(n).J({range:o,H:!0},(a,l,c)=>{const[d,f,g]=a;d===t&&f===r&&(s=!0),c.done()}).next(()=>s)}function eu(n){return lo(n,"mutations")}function Bm(n){return lo(n,"documentMutations")}function j8(n){return lo(n,"mutationQueues")}class Oh{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Oh(0)}static Ln(){return new Oh(-1)}}class Mpe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Bn(t).next(e=>{const i=new Oh(e.highestTargetId);return e.highestTargetId=i.next(),this.kn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(e=>rn.fromTimestamp(new ir(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.kn(t,r)))}addTargetData(t,e){return this.qn(t,e).next(()=>this.Bn(t).next(i=>(i.targetCount+=1,this.Qn(e,i),this.kn(t,i))))}updateTargetData(t,e){return this.qn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Um(t).delete(e.targetId)).next(()=>this.Bn(t)).next(i=>(en(i.targetCount>0),i.targetCount-=1,this.kn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Um(t).J((s,a)=>{const l=$v(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>Fe.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Um(t).J((i,r)=>{const o=$v(r);e(o)})}Bn(t){return H8(t).get("targetGlobalKey").next(e=>(en(null!==e),e))}kn(t,e){return H8(t).put("targetGlobalKey",e)}qn(t,e){return Um(t).put(I8(this.serializer,e))}Qn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ih(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Um(t).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{const c=$v(a);Pv(e,c.target)&&(o=c,l.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=tu(t);return e.forEach(s=>{const a=qo(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),Fe.waitFor(r)}removeMatchingKeys(t,e,i){const r=tu(t);return Fe.forEach(e,o=>{const s=qo(o.path);return Fe.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=tu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=tu(t);let o=Nn();return r.J({range:i,H:!0},(s,a,l)=>{const c=Hl(s[1]),d=new Ut(c);o=o.add(d)}).next(()=>o)}containsKey(t,e){const i=qo(e.path),r=IDBKeyRange.bound([i],[Wj(i)],!1,!0);let o=0;return tu(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,c)=>{0!==s&&(o++,c.done())}).next(()=>o>0)}ot(t,e){return Um(t).get(e).next(i=>i?$v(i):null)}}function Um(n){return lo(n,"targets")}function H8(n){return lo(n,"targetGlobal")}function tu(n){return lo(n,"targetDocuments")}function G8([n,t],[e,i]){const r=Sn(n,e);return 0===r?Sn(t,i):r}class Rpe{constructor(t){this.Kn=t,this.buffer=new Ti(G8),this.$n=0}Un(){return++this.$n}Wn(t){const e=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();G8(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class $8{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var e=this;bt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,$e.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){$d(i)?bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Gd(i)}yield e.zn(3e5)}))}}class Ppe{constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.Hn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return Fe.resolve(ra.oe);const i=new Rpe(e);return this.jn.forEachTarget(t,r=>i.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>i.Wn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(B8)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B8):this.Yn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,e){let i,r,o,s,a,l,c;const d=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(t,i,e))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(f=>(c=Date.now(),wm()<=na.in.DEBUG&&bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-d}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(l-a)+`ms\n\tRemoved ${f} documents in `+(c-l)+`ms\nTotal Duration: ${c-d}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}}class Ope{constructor(t,e){this.db=t,this.garbageCollector=function q8(n,t){return new Ppe(n,t)}(this,e)}Hn(t){const e=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Zn(t){let e=0;return this.Jn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Jn(t,e){return this.Xn(t,(i,r)=>e(r))}addReference(t,e,i){return RE(t,i)}removeReference(t,e,i){return RE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return RE(t,e)}er(t,e){return function(r,o){let s=!1;return j8(r).Y(a=>z8(r,a,o).next(l=>(l&&(s=!0),Fe.resolve(!l)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Xn(t,(s,a)=>{if(a<=e){const l=this.er(t,s).next(c=>{if(!c)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,rn.min()),tu(t).delete([0,qo(s.path)])))});r.push(l)}}).next(()=>Fe.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return RE(t,e)}Xn(t,e){const i=tu(t);let r,o=ra.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:c})=>{0===s?(o!==ra.oe&&e(new Ut(Hl(r)),o),o=c,r=l):o=ra.oe}).next(()=>{o!==ra.oe&&e(new Ut(Hl(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function RE(n,t){return tu(n).put((r=n.currentSequenceNumber,{targetId:0,path:qo(t.path),sequenceNumber:r}));var r}class W8{constructor(){this.changes=new Vc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Zi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?Fe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Fpe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Fh(t).put(i)}removeEntry(t,e,i){return Fh(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],IE(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.tr(t,i)))}getEntry(t,e){let i=Zi.newInvalidDocument(e);return Fh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Zv(e))},(r,o)=>{i=this.nr(e,o)}).next(()=>i)}rr(t,e){let i={size:0,document:Zi.newInvalidDocument(e)};return Fh(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Zv(e))},(r,o)=>{i={document:this.nr(e,o),size:kE(o)}}).next(()=>i)}getEntries(t,e){let i=Fs();return this.ir(t,e,(r,o)=>{const s=this.nr(r,o);i=i.insert(r,s)}).next(()=>i)}sr(t,e){let i=Fs(),r=new ji(Ut.comparator);return this.ir(t,e,(o,s)=>{const a=this.nr(o,s);i=i.insert(o,a),r=r.insert(o,kE(s))}).next(()=>({documents:i,_r:r}))}ir(t,e,i){if(e.isEmpty())return Fe.resolve();let r=new Ti(Q8);e.forEach(l=>r=r.add(l));const o=IDBKeyRange.bound(Zv(r.first()),Zv(r.last())),s=r.getIterator();let a=s.getNext();return Fh(t).J({index:"documentKeyIndex",range:o},(l,c,d)=>{const f=Ut.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&Q8(a,f)<0;)i(a,null),a=s.getNext();a&&a.isEqual(f)&&(i(a,c),a=s.hasNext()?s.getNext():null),a?d.$(Zv(a)):d.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),IE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fh(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{o?.incrementDocumentReadCount(c.length);let d=Fs();for(const f of c){const g=this.nr(Ut.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Fv(e,g)||r.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(t,e,i,r){let o=Fs();const s=Y8(e,i),a=Y8(e,ia.max());return Fh(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,c,d)=>{const f=this.nr(Ut.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);o=o.insert(f.key,f),o.size===r&&d.done()}).next(()=>o)}newChangeBuffer(t){return new Npe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Z8(t).get("remoteDocumentGlobalKey").next(e=>(en(!!e),e))}tr(t,e){return Z8(t).put("remoteDocumentGlobalKey",e)}nr(t,e){if(e){const i=function xpe(n,t){let e;if(t.document)e=_8(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ut.fromSegments(t.noDocument.path),r=kh(t.noDocument.readTime);e=Zi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return $t();{const i=Ut.fromSegments(t.unknownDocument.path),r=kh(t.unknownDocument.version);e=Zi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new ir(r[0],r[1]);return rn.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(rn.min()))return i}return Zi.newInvalidDocument(t)}}function K8(n){return new Fpe(n)}class Npe extends W8{constructor(t,e){super(),this.ar=t,this.trackRemovals=e,this.ur=new Vc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Ti((o,s)=>Sn(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.ur.get(o);if(e.push(this.ar.removeEntry(t,o,a.readTime)),s.isValidDocument()){const l=D8(this.ar.serializer,s);r=r.add(o.path.popLast());const c=kE(l);i+=c-a.size,e.push(this.ar.addEntry(t,o,l))}else if(i-=a.size,this.trackRemovals){const l=D8(this.ar.serializer,s.convertToNoDocument(rn.min()));e.push(this.ar.addEntry(t,o,l))}}),r.forEach(o=>{e.push(this.ar.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.ar.updateMetadata(t,i)),Fe.waitFor(e)}getFromCache(t,e){return this.ar.rr(t,e).next(i=>(this.ur.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.ar.sr(t,e).next(({documents:i,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function Z8(n){return lo(n,"remoteDocumentGlobal")}function Fh(n){return lo(n,"remoteDocumentsV14")}function Zv(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Y8(n,t){const e=t.documentKey.path.toArray();return[n,IE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Q8(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Sn(e[o],i[o]),r)return r;return r=Sn(e.length,i.length),r||(r=Sn(e[e.length-2],i[i.length-2]),r||Sn(e[e.length-1],i[i.length-1]))}class Lpe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class X8{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Bv(i.mutation,r,Os.empty(),ir.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Nn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Nn()){const r=$l();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=Nv();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=$l();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Nn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=Fs();const s=Lv(),a=Lv();return e.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(void 0===d||d.mutation instanceof Bc)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Bv(d.mutation,c,d.mutation.getFieldMask(),ir.now())):s.set(c.key,Os.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((c,d)=>s.set(c,d)),e.forEach((c,d)=>{var f;return a.set(c,new Lpe(d,null!==(f=s.get(c))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Lv();let r=new ji((s,a)=>s-a),o=Nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let d=i.get(l)||Os.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||Nn()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=UH();d.forEach(g=>{if(!o.has(g)){const y=ZH(e.get(g),i.get(g));null!==y&&f.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return Fe.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Ut.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):cM(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):Fe.resolve($l());let a=-1,l=o;return s.next(c=>Fe.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?Fe.resolve():this.remoteDocumentCache.getEntry(t,d).next(g=>{l=l.insert(d,g)}))).next(()=>this.populateOverlays(t,c,o)).next(()=>this.computeViews(t,l,c,Nn())).next(d=>({batchId:a,changes:BH(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ut(e)).next(i=>{let r=Nv();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=Nv();return this.indexManager.getCollectionParents(t,o).next(a=>Fe.forEach(a,l=>{const c=(f=e,g=l.child(o),new Lc(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,g;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(d=>{d.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((l,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,Zi.newInvalidDocument(d)))});let a=Nv();return s.forEach((l,c)=>{const d=o.get(l);void 0!==d&&Bv(d.mutation,c,Os.empty(),ir.now()),Fv(e,c)&&(a=a.insert(l,c))}),a})}}class Vpe{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return Fe.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:Br(r.createTime)}),Fe.resolve();var r}getNamedQuery(t,e){return Fe.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:xM(r.bundledQuery),readTime:Br(r.readTime)}),Fe.resolve();var r}}class Bpe{constructor(){this.overlays=new ji(Ut.comparator),this.hr=new Map}getOverlay(t,e){return Fe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=$l();return Fe.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),Fe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),Fe.resolve()}getOverlaysForCollection(t,e,i){const r=$l(),o=e.length+1,s=new Ut(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return Fe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ji((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let d=o.get(c.largestBatchId);null===d&&(d=$l(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=$l(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return Fe.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new mM(e,i));let o=this.hr.get(e);void 0===o&&(o=Nn(),this.hr.set(e,o)),this.hr.set(e,o.add(i.key))}}class AM{constructor(){this.Pr=new Ti(co.Ir),this.Tr=new Ti(co.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const i=new co(t,e);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ar(new co(t,e))}Rr(t,e){t.forEach(i=>this.removeReference(i,e))}Vr(t){const e=new Ut(new ti([])),i=new co(e,t),r=new co(e,t+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Ut(new ti([])),i=new co(e,t),r=new co(e,t+1);let o=Nn();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new co(t,0),i=this.Pr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class co{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Ut.comparator(t.key,e.key)||Sn(t.pr,e.pr)}static Er(t,e){return Sn(t.pr,e.pr)||Ut.comparator(t.key,e.key)}}class Upe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Ti(co.Ir)}checkEmpty(t){return Fe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.yr;this.yr++;const s=new fM(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.wr=this.wr.add(new co(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Fe.resolve(s)}lookupMutationBatch(t,e){return Fe.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),o=r<0?0:r;return Fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new co(e,0),r=new co(e,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{const a=this.Sr(s.pr);o.push(a)}),Fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ti(Sn);return e.forEach(r=>{const o=new co(r,0),s=new co(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{i=i.add(a.pr)})}),Fe.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ut.isDocumentKey(o)||(o=o.child(""));const s=new co(new Ut(o),0);let a=new Ti(Sn);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.pr)),!0)},s),Fe.resolve(this.Dr(a))}Dr(t){const e=[];return t.forEach(i=>{const r=this.Sr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){en(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.wr;return Fe.forEach(e.mutations,r=>{const o=new co(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,e){const i=new co(e,0),r=this.wr.firstAfterOrEqual(i);return Fe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Fe.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class zpe{constructor(t){this.vr=t,this.docs=new ji(Ut.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return Fe.resolve(i?i.document.mutableCopy():Zi.newInvalidDocument(e))}getEntries(t,e){let i=Fs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Zi.newInvalidDocument(r))}),Fe.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Fs();const s=e.path,a=new Ut(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Jk(Zj(d),i)<=0||(r.has(d.key)||Fv(e,d))&&(o=o.insert(d.key,d.mutableCopy()))}return Fe.resolve(o)}getAllFromCollectionGroup(t,e,i,r){$t()}Fr(t,e){return Fe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new jpe(this)}getSize(t){return Fe.resolve(this.size)}}class jpe extends W8{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),Fe.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Hpe{constructor(t){this.persistence=t,this.Mr=new Vc(e=>Ih(e),Pv),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new AM,this.targetCount=0,this.Lr=Oh.Nn()}forEachTarget(t,e){return this.Mr.forEach((i,r)=>e(r)),Fe.resolve()}getLastRemoteSnapshotVersion(t){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Fe.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Or&&(this.Or=e),Fe.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Oh(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,Fe.resolve()}updateTargetData(t,e){return this.qn(e),Fe.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),Fe.waitFor(o).next(()=>r)}getTargetCount(t){return Fe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Mr.get(e)||null;return Fe.resolve(i)}addMatchingKeys(t,e,i){return this.Nr.dr(e,i),Fe.resolve()}removeMatchingKeys(t,e,i){this.Nr.Rr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),Fe.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),Fe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Nr.gr(e);return Fe.resolve(i)}containsKey(t,e){return Fe.resolve(this.Nr.containsKey(e))}}class kM{constructor(t,e){this.Br={},this.overlays={},this.kr=new ra(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Hpe(this),this.indexManager=new Ape,this.remoteDocumentCache=new zpe(i=>this.referenceDelegate.Kr(i)),this.serializer=new E8(e),this.$r=new Vpe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Bpe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new Upe(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,i){bt("MemoryPersistence","Starting transaction:",t);const r=new Gpe(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,e){return Fe.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class Gpe extends Qj{constructor(t){super(),this.currentSequenceNumber=t}}class PE{constructor(t){this.persistence=t,this.zr=new AM,this.jr=null}static Hr(t){return new PE(t)}get Jr(){if(this.jr)return this.jr;throw $t()}addReference(t,e,i){return this.zr.addReference(i,e),this.Jr.delete(i.toString()),Fe.resolve()}removeReference(t,e,i){return this.zr.removeReference(i,e),this.Jr.add(i.toString()),Fe.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),Fe.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.Jr,i=>{const r=Ut.fromPath(i);return this.Yr(t,r).next(o=>{o||e.removeEntry(r,rn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(i=>{i?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return Fe.or([()=>Fe.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class $pe{constructor(t){this.serializer=t}O(t,e,i,r){const o=new cE("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nH,{unique:!0}),l.createObjectStore("documentMutations"),J8(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=Fe.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),J8(t)),s=s.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:rn.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nH,{unique:!0});const f=c.store("mutations"),g=d.map(y=>f.put(y));return Fe.waitFor(g)})}(t,o))),s=s.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.Xr(o))),i<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ei(o)))),i<7&&r>=7&&(s=s.next(()=>this.ti(o))),i<8&&r>=8&&(s=s.next(()=>this.ni(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.ri(o))),i<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Mfe});c.createIndex("collectionPathOverlayIndex",Rfe,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",Pfe,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:bfe});c.createIndex("documentKeyIndex",wfe),c.createIndex("collectionGroupIndex",xfe)}(t)).next(()=>this.ii(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.si(t,o))),i<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:Sfe}).createIndex("sequenceNumberIndex",Tfe,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Afe}).createIndex("documentKeyIndex",kfe,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),s}ei(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=kE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Xr(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>Fe.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>Fe.forEach(a,l=>{en(l.userId===o.userId);const c=Mh(this.serializer,l);return U8(t,o.userId,c).next(()=>{})}))}))}ti(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const l=new ti(s),c=[0,qo(l)];o.push(e.get(c).next(d=>d?Fe.resolve():e.put({targetId:0,path:qo(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>Fe.waitFor(o))})}ni(t,e){t.createObjectStore("collectionParents",{keyPath:Ife});const i=e.store("collectionParents"),r=new TM,o=s=>{if(r.add(s)){const a=s.lastSegment(),l=s.popLast();return i.put({collectionId:a,parent:qo(l)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new ti(s);return o(l.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,l],c)=>{const d=Hl(a);return o(d.popLast())}))}ri(t){const e=t.store("targets");return e.J((i,r)=>{const o=$v(r),s=I8(this.serializer,o);return e.put(s)})}ii(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),l=(f=s,f.document?new Ut(ti.fromString(f.document.name).popFirst(5)):f.noDocument?Ut.fromSegments(f.noDocument.path):f.unknownDocument?Ut.fromSegments(f.unknownDocument.path):$t()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var f;r.push(a.put(c))}).next(()=>Fe.waitFor(r))}si(t,e){const i=e.store("mutations"),r=K8(this.serializer),o=new kM(PE.Hr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(l=>{var c;let d=null!==(c=a.get(l.userId))&&void 0!==c?c:Nn();Mh(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),Fe.forEach(a,(l,c)=>{const d=new ao(c),f=SE.lt(this.serializer,d),g=o.getIndexManager(d),y=ME.lt(d,this.serializer,g,o.referenceDelegate);return new X8(r,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new nM(e,ra.oe),l).next()})})}}function J8(n){n.createObjectStore("targetDocuments",{keyPath:Efe}).createIndex("documentTargetsIndex",Dfe,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Cfe,{unique:!0}),n.createObjectStore("targetGlobal")}const MM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RM{constructor(t,e,i,r,o,s,a,l,c,d,f=16){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.oi=o,this.window=s,this.document=a,this._i=c,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!RM.D())throw new gt(Qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ope(this,r),this.Ti=e+"main",this.serializer=new E8(l),this.Ei=new jl(this.Ti,this.ui,new $pe(this.serializer)),this.Qr=new Mpe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=K8(this.serializer),this.$r=new Cpe,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===d&&Vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(Qe.FAILED_PRECONDITION,MM);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new ra(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var e=this;return this.Ii=function(){var i=(0,$e.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var e=(0,$e.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,$e.Z)(function*(){e.started&&(yield e.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>FE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(e=>this.isPrimary&&!e?this.yi(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if($d(t))return bt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return Yv(t).get("owner").next(e=>Fe.resolve(this.Si(e)))}bi(t){return FE(t).delete(this.clientId)}Di(){var t=this;return(0,$e.Z)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=lo(i,"clientMetadata");return r.U().next(o=>{const s=t.vi(o,18e5),a=o.filter(l=>-1===s.indexOf(l));return Fe.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.di)for(const i of e)t.di.removeItem(t.Fi(i.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?Fe.resolve(!0):Yv(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)){if(this.Si(e)&&this.networkEnabled)return!0;if(!this.Si(e)){if(!e.allowTabSynchronization)throw new gt(Qe.FAILED_PRECONDITION,MM);return!1}}return!(!this.networkEnabled||!this.inForeground)||FE(t).U().next(i=>void 0===this.vi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&bt("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,$e.Z)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new nM(e,ra.oe);return t.yi(i).next(()=>t.bi(i))}),t.Ei.close(),t.Li()})()}vi(t,e){return t.filter(i=>this.Ci(i.updateTimeMs,e)&&!this.Mi(i.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>FE(t).U().next(e=>this.vi(e,18e5).map(i=>i.clientId)))}get started(){return this.qr}getMutationQueue(t,e){return ME.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new kpe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return SE.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,e,i){bt("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=16===(l=this.ui)?Ffe:15===l?aH:14===l?sH:13===l?oH:12===l?Ofe:11===l?rH:void $t();var l;let s;return this.Ei.runTransaction(t,r,o,a=>(s=new nM(a,this.kr?this.kr.next():ra.oe),"readwrite-primary"===e?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw Vr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new gt(Qe.FAILED_PRECONDITION,Yj);return i(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(t){return Yv(t).get("owner").next(e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new gt(Qe.FAILED_PRECONDITION,MM)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yv(t).put("owner",e)}static D(){return jl.D()}yi(t){const e=Yv(t);return e.get("owner").next(i=>this.Si(i)?(bt("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):Fe.resolve())}Ci(t,e){const i=Date.now();return!(t<i-e||t>i&&(Vr(`Detected an update time that is in the future: ${t} > ${i}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,W.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var e;try{const i=null!==(null===(e=this.di)||void 0===e?void 0:e.getItem(this.Fi(t)));return bt("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){Vr("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Yv(n){return lo(n,"owner")}function FE(n){return lo(n,"clientMetadata")}function PM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class OM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.qi=i,this.Qi=r}static Ki(t,e){let i=Nn(),r=Nn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new OM(t,e.fromCache,i,r)}}class qpe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class e6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,W.G6)()?8:Xj((0,W.z$)())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ji(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new qpe;return this.Ji(t,e,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,e,s,a.size)})}).next(()=>o.result)}Yi(t,e,i,r){return i.documentReadCount<this.Wi?(wm()<=na.in.DEBUG&&bt("QueryEngine","SDK will not create cache indexes for query:",km(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Fe.resolve()):(wm()<=na.in.DEBUG&&bt("QueryEngine","Query:",km(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(wm()<=na.in.DEBUG&&bt("QueryEngine","The SDK decides to create cache indexes for query:",km(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Wo(e))):Fe.resolve())}ji(t,e){if(RH(e))return Fe.resolve(null);let i=Wo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=vE(e,null,"F"),i=Wo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=Nn(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Zi(e,a);return this.Xi(e,c,s,l.readTime)?this.ji(t,vE(e,null,"F")):this.es(t,c,e,l)}))})))}Hi(t,e,i,r){return RH(e)||r.isEqual(rn.min())?Fe.resolve(null):this.zi.getDocuments(t,i).next(o=>{const s=this.Zi(e,o);return this.Xi(e,s,i,r)?Fe.resolve(null):(wm()<=na.in.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),km(e)),this.es(t,s,e,Kj(r,-1)).next(a=>a))})}Zi(t,e){let i=new Ti(LH(t));return e.forEach((r,o)=>{Fv(t,o)&&(i=i.add(o))}),i}Xi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,e,i){return wm()<=na.in.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",km(e)),this.zi.getDocumentsMatchingQuery(t,e,ia.min(),i)}es(t,e,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Wpe{constructor(t,e,i,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new ji(Sn),this.rs=new Vc(o=>Ih(o),Pv),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new X8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function t6(n,t,e,i){return new Wpe(n,t,e,i)}function n6(n,t){return FM.apply(this,arguments)}function FM(){return(FM=(0,$e.Z)(function*(n,t){const e=Pt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e._s(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=Nn();for(const c of r){s.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return e.localDocuments.getDocuments(i,l).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function i6(n){const t=Pt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function r6(n,t,e){let i=Nn(),r=Nn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=Fs();return e.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(rn.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):bt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:s,ls:r}})}function Ype(n,t){const e=Pt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function zm(n,t){const e=Pt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Qr.getTargetData(i,t).next(o=>o?(r=o,Fe.resolve(r)):e.Qr.allocateTargetId(i).next(s=>(r=new Uc(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ns.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(i.targetId,i),e.rs.set(t,i.targetId)),i})}function jm(n,t,e){return NM.apply(this,arguments)}function NM(){return(NM=(0,$e.Z)(function*(n,t,e){const i=Pt(n),r=i.ns.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!$d(s))throw s;bt("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.ns=i.ns.remove(t),i.rs.delete(r.target)})).apply(this,arguments)}function NE(n,t,e){const i=Pt(n);let r=rn.min(),o=Nn();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,d){const f=Pt(l),g=f.rs.get(d);return void 0!==g?Fe.resolve(f.ns.get(g)):f.Qr.getTargetData(c,d)}(i,s,Wo(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,t,e?r:rn.min(),e?o:Nn())).next(a=>(a6(i,NH(t),a),{documents:a,hs:o})))}function o6(n,t){const e=Pt(n),i=Pt(e.Qr),r=e.ns.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function s6(n,t){const e=Pt(n),i=e.ss.get(t)||rn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.os.getAllFromCollectionGroup(r,t,Kj(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(a6(e,t,r),r))}function a6(n,t,e){let i=n.ss.get(t)||rn.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ss.set(t,i)}function LM(){return(LM=(0,$e.Z)(function*(n,t,e,i){const r=Pt(n);let o=Nn(),s=Fs();for(const c of e){const d=t.Ps(c.metadata.name);c.document&&(o=o.add(d));const f=t.Is(c);f.setReadTime(t.Ts(c.metadata.readTime)),s=s.insert(d,f)}const a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield zm(r,(d=i,Wo(Tm(ti.fromString(`__bundle__/docs/${d}`)))));var d;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>r6(c,a,s).next(d=>(a.apply(c),d)).next(d=>r.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Qr.addMatchingKeys(c,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))})).apply(this,arguments)}function Xpe(n,t){return VM.apply(this,arguments)}function VM(){return(VM=(0,$e.Z)(function*(n,t,e=Nn()){const i=yield zm(n,Wo(xM(t.bundledQuery))),r=Pt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=Br(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.$r.saveNamedQuery(o,t);const a=i.withResumeToken(io.EMPTY_BYTE_STRING,s);return r.ns=r.ns.insert(a.targetId,a),r.Qr.updateTargetData(o,a).next(()=>r.Qr.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Qr.addMatchingKeys(o,e,i.targetId)).next(()=>r.$r.saveNamedQuery(o,t))})})).apply(this,arguments)}function l6(n,t){return`firestore_clients_${n}_${t}`}function c6(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function BM(n,t){return`firestore_targets_${n}_${t}`}class LE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Es(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new gt(r.error.code,r.error.message))),s?new LE(t,e,r.state,o):(Vr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Qv{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Es(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new gt(i.error.code,i.error.message))),o?new Qv(t,i.state,r):(Vr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class VE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Es(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=uM();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=eH(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new VE(t,o):(Vr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class UM{constructor(t,e){this.clientId=t,this.onlineState=e}static Es(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new UM(e.clientId,e.onlineState):(Vr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class zM{constructor(){this.activeTargetIds=uM()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jM{constructor(t,e,i,r,o){this.window=t,this.oi=e,this.persistenceKey=i,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new ji(Sn),this.started=!1,this.ys=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=l6(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new zM),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,$e.Z)(function*(){const e=yield t.syncEngine.Bi();for(const r of e){if(r===t.Vs)continue;const o=t.getItem(l6(t.persistenceKey,r));if(o){const s=VE.Es(r,o);s&&(t.ps=t.ps.insert(s.clientId,s))}}t.Ms();const i=t.storage.getItem(t.vs);if(i){const r=t.xs(i);r&&t.Os(r)}for(const r of t.ys)t.gs(r);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let e=!1;return this.ps.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Ls(t,"pending")}updateMutationState(t,e,i){this.Ls(t,e,i),this.Bs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(BM(this.persistenceKey,t));if(i){const r=Qv.Es(t,i);r&&(e=r.state)}}return this.ks.As(t),this.Ms(),e}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(BM(this.persistenceKey,t))}updateQueryState(t,e,i){this.qs(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Bs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return bt("SharedClientState","READ",t,e),e}setItem(t,e){bt("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){bt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var e=this;const i=t;if(i.storageArea===this.storage){if(bt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ws)return void Vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,$e.Z)(function*(){if(e.started){if(null!==i.key)if(e.bs.test(i.key)){if(null==i.newValue){const r=e.$s(i.key);return e.Us(r,null)}{const r=e.Ws(i.key,i.newValue);if(r)return e.Us(r.clientId,r)}}else if(e.Ds.test(i.key)){if(null!==i.newValue){const r=e.Gs(i.key,i.newValue);if(r)return e.zs(r)}}else if(e.Cs.test(i.key)){if(null!==i.newValue){const r=e.js(i.key,i.newValue);if(r)return e.Hs(r)}}else if(i.key===e.vs){if(null!==i.newValue){const r=e.xs(i.newValue);if(r)return e.Os(r)}}else if(i.key===e.Ss){const r=function(s){let a=ra.oe;if(null!=s)try{const l=JSON.parse(s);en("number"==typeof l),a=l}catch(l){Vr("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==ra.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Fs){const r=e.Js(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Ys(o)))}}else e.ys.push(i)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(t,e,i){const r=new LE(this.currentUser,t,e,i),o=c6(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ds())}Bs(t){const e=c6(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,e,i){const r=BM(this.persistenceKey,t),o=new Qv(t,e,i);this.setItem(r,o.ds())}Ks(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Fs,e)}$s(t){const e=this.bs.exec(t);return e?e[1]:null}Ws(t,e){const i=this.$s(t);return VE.Es(i,e)}Gs(t,e){const i=this.Ds.exec(t),r=Number(i[1]);return LE.Es(new ao(void 0!==i[2]?i[2]:null),r,e)}js(t,e){const i=this.Cs.exec(t),r=Number(i[1]);return Qv.Es(r,e)}xs(t){return UM.Es(t)}Js(t){return JSON.parse(t)}zs(t){var e=this;return(0,$e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Zs(t.batchId,t.state,t.error);bt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,e){const i=e?this.ps.insert(t,e):this.ps.remove(t),r=this.Ns(this.ps),o=this.Ns(i),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=i})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let e=uM();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class d6{constructor(){this.no=new zM,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,i){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new zM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Jpe{io(t){}shutdown(){}}class u6{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let BE=null;function HM(){return null===BE?BE=268435456+Math.round(2147483648*Math.random()):BE++,"0x"+BE.toString(16)}const eme={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tme{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Zo="WebChannelConnection";class nme extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+e.host,this.So=`projects/${r}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(e,i,r,o,s){const a=HM(),l=this.vo(e,i.toUriEncodedString());bt("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(e,l,c,r).then(d=>(bt("RestConnection",`Received RPC '${e}' ${a}: `,d),d),d=>{throw Ps("RestConnection",`RPC '${e}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}xo(e,i,r,o,s,a){return this.Co(e,i,r,o,s)}Fo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+bm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}vo(e,i){return`${this.wo}/v1/${i}:${eme[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,i,r){const o=HM();return new Promise((s,a)=>{const l=new Lj;l.setWithCredentials(!0),l.listenOnce(Bj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lE.NO_ERROR:const d=l.getResponseJson();bt(Zo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(d)),s(d);break;case lE.TIMEOUT:bt(Zo,`RPC '${t}' ${o} timed out`),a(new gt(Qe.DEADLINE_EXCEEDED,"Request time out"));break;case lE.HTTP_ERROR:const f=l.getStatus();if(bt(Zo,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const C=function(F){const te=F.toLowerCase().replace(/_/g,"-");return Object.values(Qe).indexOf(te)>=0?te:Qe.UNKNOWN}(y.status);a(new gt(C,y.message))}else a(new gt(Qe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new gt(Qe.UNAVAILABLE,"Connection failed."));break;default:$t()}}finally{bt(Zo,`RPC '${t}' ${o} completed.`)}});const c=JSON.stringify(r);bt(Zo,`RPC '${t}' ${o} sending request:`,r),l.send(e,"POST",c,i,15)})}Oo(t,e,i){const r=HM(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=jj(),a=zj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Vj({})),this.Fo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const d=o.join("");bt(Zo,`Creating RPC '${t}' stream ${r}: ${d}`,l);const f=s.createWebChannel(d,l);let g=!1,y=!1;const C=new tme({lo:F=>{y?bt(Zo,`Not sending because RPC '${t}' stream ${r} is closed:`,F):(g||(bt(Zo,`Opening RPC '${t}' stream ${r} transport.`),f.open(),g=!0),bt(Zo,`RPC '${t}' stream ${r} sending:`,F),f.send(F))},ho:()=>f.close()}),R=(F,te,ie)=>{F.listen(te,ye=>{try{ie(ye)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return R(f,Cv.EventType.OPEN,()=>{y||(bt(Zo,`RPC '${t}' stream ${r} transport opened.`),C.mo())}),R(f,Cv.EventType.CLOSE,()=>{y||(y=!0,bt(Zo,`RPC '${t}' stream ${r} transport closed`),C.po())}),R(f,Cv.EventType.ERROR,F=>{y||(y=!0,Ps(Zo,`RPC '${t}' stream ${r} transport errored:`,F),C.po(new gt(Qe.UNAVAILABLE,"The operation could not be completed")))}),R(f,Cv.EventType.MESSAGE,F=>{var te;if(!y){const ie=F.data[0];en(!!ie);const Ve=ie.error||(null===(te=ie[0])||void 0===te?void 0:te.error);if(Ve){bt(Zo,`RPC '${t}' stream ${r} received error:`,Ve);const _t=Ve.status;let At=function(de){const Ie=qr[de];if(void 0!==Ie)return n8(Ie)}(_t),ue=Ve.message;void 0===At&&(At=Qe.INTERNAL,ue="Unknown error status: "+_t+" with message "+Ve.message),y=!0,C.po(new gt(At,ue)),f.close()}else bt(Zo,`RPC '${t}' stream ${r} received:`,ie),C.yo(ie)}}),R(a,Uj.STAT_EVENT,F=>{F.stat===Yk.PROXY?bt(Zo,`RPC '${t}' stream ${r} detected buffering proxy`):F.stat===Yk.NOPROXY&&bt(Zo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}}function h6(){return typeof window<"u"?window:null}function UE(){return typeof document<"u"?document:null}function Xv(n){return new hpe(n,!0)}class GM{constructor(t,e,i=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=e,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-i);r>0&&bt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class f6{constructor(t,e,i,r,o,s,a,l){this.oi=t,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new GM(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,$e.Z)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,$e.Z)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var i=this;return(0,$e.Z)(function*(){i.s_(),i.o_(),i.Yo.cancel(),i.jo++,4!==t?i.Yo.reset():e&&e.code===Qe.RESOURCE_EXHAUSTED?(Vr(e.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),i.Yo.Ko()):e&&e.code===Qe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.__(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===e&&this.u_(i,r)},i=>{t(()=>{const r=new gt(Qe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(t,e){const i=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){var t=this;this.state=5,this.Yo.$o((0,$e.Z)(function*(){t.state=0,t.start()}))}c_(t){return bt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ime extends f6{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function mpe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$t(),r=t.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(en(void 0===d||"string"==typeof d),io.fromBase64String(d||"")):(en(void 0===d||d instanceof Buffer||d instanceof Uint8Array),io.fromUint8Array(d||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(c){const d=void 0===c.code?Qe.UNKNOWN:n8(c.code);return new gt(d,c.message||"")}(s);e=new a8(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=ql(n,i.document.name),o=Br(i.document.updateTime),s=i.document.createTime?Br(i.document.createTime):rn.min(),a=new Do({mapValue:{fields:i.document.fields}}),l=Zi.newFoundDocument(r,o,s,a);e=new EE(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=ql(n,i.document),o=i.readTime?Br(i.readTime):rn.min(),s=Zi.newNoDocument(r,o);e=new EE([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=ql(n,i.document);e=new EE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return $t();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new spe(r,o);e=new s8(i.targetId,s)}}var c;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return rn.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?rn.min():s.readTime?Br(s.readTime):rn.min()}(t);return this.listener.h_(e,i)}P_(t){const e={};e.database=bM(this.serializer),e.addTarget=function(o,s){let a;const l=s.target;if(a=_E(l)?{documents:y8(o,l)}:{query:DE(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=u8(o,s.resumeToken);const c=_M(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(rn.min())>0){a.readTime=Fm(o,s.snapshotVersion.toTimestamp());const c=_M(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function _pe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $t()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.i_(e)}I_(t){const e={};e.database=bM(this.serializer),e.removeTarget=t,this.i_(e)}}class rme extends f6{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(en(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function gpe(n,t){return n&&n.length>0?(en(void 0!==t),n.map(e=>function(r,o){let s=Br(r.updateTime?r.updateTime:o);return s.isEqual(rn.min())&&(s=Br(o)),new ipe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Br(t.commitTime);return this.listener.A_(i,e)}return en(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=bM(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Gv(this.serializer,i))};this.i_(e)}}class ome extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new gt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,vM(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(Qe.UNKNOWN,o.toString())})}xo(t,e,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(t,vM(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new gt(Qe.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class sme{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vr(e),this.y_=!1):bt("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class ame{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{i.enqueueAndForget((0,$e.Z)(function*(){var l;nu(s)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,$e.Z)(function*(d){const f=Pt(d);f.M_.add(4),yield Hm(f),f.N_.set("Unknown"),f.M_.delete(4),yield Jv(f)}),function c(d){return l.apply(this,arguments)})(s))}))}),this.N_=new sme(i,r)}}function Jv(n){return $M.apply(this,arguments)}function $M(){return($M=(0,$e.Z)(function*(n){if(nu(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function Hm(n){return qM.apply(this,arguments)}function qM(){return(qM=(0,$e.Z)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function zE(n,t){const e=Pt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),ZM(e)?KM(e):qm(e).Xo()&&WM(e,t))}function Gm(n,t){const e=Pt(n),i=qm(e);e.F_.delete(t),i.Xo()&&p6(e,t),0===e.F_.size&&(i.Xo()?i.n_():nu(e)&&e.N_.set("Unknown"))}function WM(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qm(n).P_(t)}function p6(n,t){n.L_.xe(t),qm(n).I_(t)}function KM(n){n.L_=new lpe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),qm(n).start(),n.N_.w_()}function ZM(n){return nu(n)&&!qm(n).Zo()&&n.F_.size>0}function nu(n){return 0===Pt(n).M_.size}function m6(n){n.L_=void 0}function lme(n){return YM.apply(this,arguments)}function YM(){return(YM=(0,$e.Z)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function cme(n){return QM.apply(this,arguments)}function QM(){return(QM=(0,$e.Z)(function*(n){n.F_.forEach((t,e)=>{WM(n,t)})})).apply(this,arguments)}function dme(n,t){return XM.apply(this,arguments)}function XM(){return(XM=(0,$e.Z)(function*(n,t){m6(n),ZM(n)?(n.N_.D_(t),KM(n)):n.N_.set("Unknown")})).apply(this,arguments)}function ume(n,t,e){return JM.apply(this,arguments)}function JM(){return JM=(0,$e.Z)(function*(n,t,e){if(n.N_.set("Online"),t instanceof a8&&2===t.state&&t.cause)try{yield(i=(0,$e.Z)(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.F_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.F_.delete(l),o.L_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){bt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield jE(n,i)}else if(t instanceof EE?n.L_.Ke(t):t instanceof s8?n.L_.He(t):n.L_.We(t),!e.isEqual(rn.min()))try{const i=yield i6(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const d=o.F_.get(l);if(!d)return;o.F_.set(l,d.withResumeToken(io.EMPTY_BYTE_STRING,d.snapshotVersion)),p6(o,l);const f=new Uc(d.target,l,c,d.sequenceNumber);WM(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){bt("RemoteStore","Failed to raise snapshot:",i),yield jE(n,i)}var i}),JM.apply(this,arguments)}function jE(n,t,e){return eR.apply(this,arguments)}function eR(){return(eR=(0,$e.Z)(function*(n,t,e){if(!$d(t))throw t;n.M_.add(1),yield Hm(n),n.N_.set("Offline"),e||(e=()=>i6(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield Jv(n)}))})).apply(this,arguments)}function g6(n,t){return t().catch(e=>jE(n,e,t))}function $m(n){return tR.apply(this,arguments)}function tR(){return(tR=(0,$e.Z)(function*(n){const t=Pt(n),e=iu(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;hme(t);)try{const r=yield Ype(t.localStore,i);if(null===r){0===t.v_.length&&e.n_();break}i=r.batchId,fme(t,r)}catch(r){yield jE(t,r)}_6(t)&&y6(t)})).apply(this,arguments)}function hme(n){return nu(n)&&n.v_.length<10}function fme(n,t){n.v_.push(t);const e=iu(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function _6(n){return nu(n)&&!iu(n).Zo()&&n.v_.length>0}function y6(n){iu(n).start()}function pme(n){return nR.apply(this,arguments)}function nR(){return(nR=(0,$e.Z)(function*(n){iu(n).V_()})).apply(this,arguments)}function mme(n){return iR.apply(this,arguments)}function iR(){return(iR=(0,$e.Z)(function*(n){const t=iu(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function gme(n,t,e){return rR.apply(this,arguments)}function rR(){return(rR=(0,$e.Z)(function*(n,t,e){const i=n.v_.shift(),r=pM.from(i,t,e);yield g6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $m(n)})).apply(this,arguments)}function _me(n,t){return oR.apply(this,arguments)}function oR(){return oR=(0,$e.Z)(function*(n,t){var e;t&&iu(n).E_&&(yield(e=(0,$e.Z)(function*(r,o){if(t8(a=o.code)&&a!==Qe.ABORTED){const s=r.v_.shift();iu(r).t_(),yield g6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield $m(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),_6(n)&&y6(n)}),oR.apply(this,arguments)}function v6(n,t){return sR.apply(this,arguments)}function sR(){return(sR=(0,$e.Z)(function*(n,t){const e=Pt(n);e.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const i=nu(e);e.M_.add(3),yield Hm(e),i&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield Jv(e)})).apply(this,arguments)}function aR(n,t){return lR.apply(this,arguments)}function lR(){return(lR=(0,$e.Z)(function*(n,t){const e=Pt(n);t?(e.M_.delete(2),yield Jv(e)):t||(e.M_.add(2),yield Hm(e),e.N_.set("Unknown"))})).apply(this,arguments)}function qm(n){return n.B_||(n.B_=function(e,i,r){const o=Pt(e);return o.f_(),new ime(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:lme.bind(null,n),To:cme.bind(null,n),Ao:dme.bind(null,n),h_:ume.bind(null,n)}),n.x_.push(function(){var t=(0,$e.Z)(function*(e){e?(n.B_.t_(),ZM(n)?KM(n):n.N_.set("Unknown")):(yield n.B_.stop(),m6(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function iu(n){return n.k_||(n.k_=function(e,i,r){const o=Pt(e);return o.f_(),new rme(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:pme.bind(null,n),Ao:_me.bind(null,n),R_:mme.bind(null,n),A_:gme.bind(null,n)}),n.x_.push(function(){var t=(0,$e.Z)(function*(e){e?(n.k_.t_(),yield $m(n)):(yield n.k_.stop(),n.v_.length>0&&(bt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class cR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new cR(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(Qe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(n,t){if(Vr("AsyncQueue",`${t}: ${n}`),$d(n))return new gt(Qe.UNAVAILABLE,`${t}: ${n}`);throw n}class Km{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ut.comparator(e.key,i.key):(e,i)=>Ut.comparator(e.key,i.key),this.keyedMap=Nv(),this.sortedSet=new ji(this.comparator)}static emptySet(t){return new Km(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Km)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Km;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class b6{constructor(){this.q_=new ji(Ut.comparator)}track(t){const e=t.doc.key,i=this.q_.get(e);i?0!==t.type&&3===i.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==i.type?this.q_=this.q_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.q_=this.q_.remove(e):1===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):$t():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Zm{constructor(t,e,i,r,o,s,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Zm(t,e,Km.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ov(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class yme{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class vme{constructor(){this.queries=new Vc(t=>FH(t),Ov),this.onlineState="Unknown",this.z_=new Set}}function dR(n,t){return uR.apply(this,arguments)}function uR(){return(uR=(0,$e.Z)(function*(n,t){const e=Pt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.W_()&&t.G_()&&(i=2):(o=new yme,i=t.G_()?0:1);try{switch(i){case 0:o.K_=yield e.onListen(r,!0);break;case 1:o.K_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=Wm(s,`Initialization of query '${km(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.U_.push(t),t.j_(e.onlineState),o.K_&&t.H_(o.K_)&&pR(e)})).apply(this,arguments)}function hR(n,t){return fR.apply(this,arguments)}function fR(){return(fR=(0,$e.Z)(function*(n,t){const e=Pt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),0===o.U_.length?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function bme(n,t){const e=Pt(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.U_)a.H_(r)&&(i=!0);s.K_=r}}i&&pR(e)}function wme(n,t,e){const i=Pt(n),r=i.queries.get(t);if(r)for(const o of r.U_)o.onError(e);i.queries.delete(t)}function pR(n){n.z_.forEach(t=>{t.next()})}var mR,w6;(w6=mR||(mR={})).J_="default",w6.Cache="cache";class gR{constructor(t,e,i){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Zm(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Zm.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==mR.Cache}}class xme{constructor(t,e){this.ia=t,this.byteLength=e}sa(){return"metadata"in this.ia}}class x6{constructor(t){this.serializer=t}Ps(t){return ql(this.serializer,t)}Is(t){return t.metadata.exists?_8(this.serializer,t.document,!1):Zi.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Br(t)}}class Cme{constructor(t,e,i){this.oa=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=C6(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++e;const i=ti.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}aa(t){const e=new Map,i=new x6(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Ps(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||Nn()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,$e.Z)(function*(){const e=yield function Qpe(n,t,e,i){return LM.apply(this,arguments)}(t.localStore,new x6(t.serializer),t.documents,t.oa.id),i=t.aa(t.documents);for(const r of t.queries)yield Xpe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,ua:t.collectionGroups,ca:e}})()}}function C6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class E6{constructor(t){this.key=t}}class D6{constructor(t){this.key=t}}class I6{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Nn(),this.mutatedKeys=Nn(),this.Ia=LH(t),this.Ta=new Km(this.Ia)}get Ea(){return this.la}da(t,e){const i=e?e.Aa:new b6,r=e?e.Ta:this.Ta;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,f)=>{const g=r.get(d),y=Fv(this.query,f)?f:null,C=!!g&&this.mutatedKeys.has(g.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let F=!1;g&&y?g.data.isEqual(y.data)?C!==R&&(i.track({type:3,doc:y}),F=!0):this.Ra(g,y)||(i.track({type:2,doc:y}),F=!0,(l&&this.Ia(y,l)>0||c&&this.Ia(y,c)<0)&&(a=!0)):!g&&y?(i.track({type:0,doc:y}),F=!0):g&&!y&&(i.track({type:1,doc:g}),F=!0,(l||c)&&(a=!0)),F&&(y?(s=s.add(y),o=R?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),i.track({type:1,doc:d})}return{Ta:s,Aa:i,Xi:a,mutatedKeys:o}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort((d,f)=>function(y,C){const R=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $t()}};return R(y)-R(C)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(i),r=null!=r&&r;const a=e&&!r?this.ma():[],l=0===this.Pa.size&&this.current&&!r?1:0,c=l!==this.ha;return this.ha=l,0!==s.length||c?{snapshot:new Zm(this.query,t.Ta,o,s,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new b6,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Nn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const e=[];return t.forEach(i=>{this.Pa.has(i)||e.push(new D6(i))}),this.Pa.forEach(i=>{t.has(i)||e.push(new E6(i))}),e}pa(t){this.la=t.hs,this.Pa=Nn();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Zm.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Eme{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Dme{constructor(t){this.key=t,this.wa=!1}}class Ime{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Vc(a=>FH(a),Ov),this.Da=new Map,this.Ca=new Set,this.va=new ji(Ut.comparator),this.Fa=new Map,this.Ma=new AM,this.xa={},this.Oa=new Map,this.Na=Oh.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Sme(n,t){return _R.apply(this,arguments)}function _R(){return(_R=(0,$e.Z)(function*(n,t,e=!0){const i=HE(n);let r;const o=i.ba.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield S6(i,t,e,!0),r})).apply(this,arguments)}function Tme(n,t){return yR.apply(this,arguments)}function yR(){return(yR=(0,$e.Z)(function*(n,t){const e=HE(n);yield S6(e,t,!0,!1)})).apply(this,arguments)}function S6(n,t,e,i){return vR.apply(this,arguments)}function vR(){return(vR=(0,$e.Z)(function*(n,t,e,i){const r=yield zm(n.localStore,Wo(t)),o=r.targetId,s=e?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return i&&(a=yield bR(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&zE(n.remoteStore,r),a})).apply(this,arguments)}function bR(n,t,e,i,r){return wR.apply(this,arguments)}function wR(){return wR=(0,$e.Z)(function*(n,t,e,i,r){n.Ba=(f,g,y)=>{return(C=(0,$e.Z)(function*(F,te,ie,ye){let Ve=te.view.da(ie);Ve.Xi&&(Ve=yield NE(F.localStore,te.query,!1).then(({documents:J})=>te.view.da(J,Ve)));const _t=ye&&ye.targetChanges.get(te.targetId),At=ye&&null!=ye.targetMismatches.get(te.targetId),ue=te.view.applyChanges(Ve,F.isPrimaryClient,_t,At);return RR(F,te.targetId,ue.fa),ue.snapshot}),function R(F,te,ie,ye){return C.apply(this,arguments)})(n,f,g,y);var C};const o=yield NE(n.localStore,t,!0),s=new I6(t,o.hs),a=s.da(o.documents),l=jv.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);RR(n,e,c.fa);const d=new Eme(t,e,s);return n.ba.set(t,d),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),c.snapshot}),wR.apply(this,arguments)}function Ame(n,t,e){return xR.apply(this,arguments)}function xR(){return(xR=(0,$e.Z)(function*(n,t,e){const i=Pt(n),r=i.ba.get(t),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(s=>!Ov(s,t))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Gm(i.remoteStore,r.targetId),Ym(i,r.targetId)}).catch(Gd))):(Ym(i,r.targetId),yield jm(i.localStore,r.targetId,!0))})).apply(this,arguments)}function kme(n,t){return CR.apply(this,arguments)}function CR(){return(CR=(0,$e.Z)(function*(n,t){const e=Pt(n),i=e.ba.get(t),r=e.Da.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Gm(e.remoteStore,i.targetId))})).apply(this,arguments)}function ER(){return(ER=(0,$e.Z)(function*(n,t,e){const i=HR(n);try{const r=yield function(s,a){const l=Pt(s),c=ir.now(),d=a.reduce((y,C)=>y.add(C.key),Nn());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Fs(),R=Nn();return l.os.getEntries(y,d).next(F=>{C=F,C.forEach((te,ie)=>{ie.isValidDocument()||(R=R.add(te))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,C)).next(F=>{f=F;const te=[];for(const ie of a){const ye=ope(ie,f.get(ie.key).overlayedDocument);null!=ye&&te.push(new Bc(ie.key,ye,vH(ye.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,te,a)}).next(F=>{g=F;const te=F.applyToLocalDocumentSet(f,R);return l.documentOverlayCache.saveOverlays(y,F.batchId,te)})}).then(()=>({batchId:g.batchId,changes:BH(f)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.xa[s.currentUser.toKey()];c||(c=new ji(Sn)),c=c.insert(a,l),s.xa[s.currentUser.toKey()]=c}(i,r.batchId,e),yield zc(i,r.changes),yield $m(i.remoteStore)}catch(r){const o=Wm(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function T6(n,t){return DR.apply(this,arguments)}function DR(){return(DR=(0,$e.Z)(function*(n,t){const e=Pt(n);try{const i=yield function Zpe(n,t){const e=Pt(n),i=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const a=[];t.targetChanges.forEach((d,f)=>{const g=r.get(f);if(!g)return;a.push(e.Qr.removeMatchingKeys(o,d.removedDocuments,f).next(()=>e.Qr.addMatchingKeys(o,d.addedDocuments,f)));let y=g.withSequenceNumber(o.currentSequenceNumber);var R,F,te;null!==t.targetMismatches.get(f)?y=y.withResumeToken(io.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(f,y),F=y,te=d,(0===(R=g).resumeToken.approximateByteSize()||F.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&a.push(e.Qr.updateTargetData(o,y))});let l=Fs(),c=Nn();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(r6(o,s,t.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!i.isEqual(rn.min())){const d=e.Qr.getLastRemoteSnapshotVersion(o).next(f=>e.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(d)}return Fe.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(e.ns=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Fa.get(o);s&&(en(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?en(s.wa):r.removedDocuments.size>0&&(en(s.wa),s.wa=!1))}),yield zc(e,i,t)}catch(i){yield Gd(i)}})).apply(this,arguments)}function A6(n,t,e){const i=Pt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ba.forEach((o,s)=>{const a=s.view.j_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=Pt(s);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const g of f.U_)g.j_(a)&&(c=!0)}),c&&pR(l)}(i.eventManager,t),r.length&&i.Sa.h_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Rme(n,t,e){return IR.apply(this,arguments)}function IR(){return(IR=(0,$e.Z)(function*(n,t,e){const i=Pt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Fa.get(t),o=r&&r.key;if(o){let s=new ji(Ut.comparator);s=s.insert(o,Zi.newNoDocument(o,rn.min()));const a=Nn().add(o),l=new zv(rn.min(),new Map,new ji(Sn),s,a);yield T6(i,l),i.va=i.va.remove(o),i.Fa.delete(t),PR(i)}else yield jm(i.localStore,t,!1).then(()=>Ym(i,t,e)).catch(Gd)})).apply(this,arguments)}function Pme(n,t){return SR.apply(this,arguments)}function SR(){return(SR=(0,$e.Z)(function*(n,t){const e=Pt(n),i=t.batch.batchId;try{const r=yield function Kpe(n,t){const e=Pt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,g=f.keys();let y=Fe.resolve();return g.forEach(C=>{y=y.next(()=>d.getEntry(l,C)).next(R=>{const F=c.docVersions.get(C);en(null!==F),R.version.compareTo(F)<0&&(f.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),d.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Nn();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);MR(e,i,null),kR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield zc(e,r)}catch(r){yield Gd(r)}})).apply(this,arguments)}function Ome(n,t,e){return TR.apply(this,arguments)}function TR(){return(TR=(0,$e.Z)(function*(n,t,e){const i=Pt(n);try{const r=yield function(s,a){const l=Pt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(en(null!==f),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,t);MR(i,t,e),kR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield zc(i,r)}catch(r){yield Gd(r)}})).apply(this,arguments)}function AR(){return(AR=(0,$e.Z)(function*(n,t){const e=Pt(n);nu(e.remoteStore)||bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Pt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Oa.get(i)||[];r.push(t),e.Oa.set(i,r)}catch(i){const r=Wm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function kR(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function MR(n,t,e){const i=Pt(n);let r=i.xa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}function Ym(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Da.get(t))n.ba.delete(i),e&&n.Sa.ka(i,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(i=>{n.Ma.containsKey(i)||k6(n,i)})}function k6(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(Gm(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),PR(n))}function RR(n,t,e){for(const i of e)i instanceof E6?(n.Ma.addReference(i.key,t),Nme(n,i)):i instanceof D6?(bt("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,t),n.Ma.containsKey(i.key)||k6(n,i.key)):$t()}function Nme(n,t){const e=t.key,i=e.path.canonicalString();n.va.get(e)||n.Ca.has(i)||(bt("SyncEngine","New document in limbo: "+e),n.Ca.add(i),PR(n))}function PR(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Ut(ti.fromString(t)),i=n.Na.next();n.Fa.set(i,new Dme(e)),n.va=n.va.insert(e,i),zE(n.remoteStore,new Uc(Wo(Tm(e.path)),i,"TargetPurposeLimboResolution",ra.oe))}}function zc(n,t,e){return OR.apply(this,arguments)}function OR(){return OR=(0,$e.Z)(function*(n,t,e){const i=Pt(n),r=[],o=[],s=[];var a;i.ba.isEmpty()||(i.ba.forEach((a,l)=>{s.push(i.Ba(l,t,e).then(c=>{if((c||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c&&!c.fromCache?"current":"not-current"),c){r.push(c);const d=OM.Ki(l.targetId,c);o.push(d)}}))}),yield Promise.all(s),i.Sa.h_(r),yield(a=(0,$e.Z)(function*(c,d){const f=Pt(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>Fe.forEach(d,y=>Fe.forEach(y.qi,C=>f.persistence.referenceDelegate.addReference(g,y.targetId,C)).next(()=>Fe.forEach(y.Qi,C=>f.persistence.referenceDelegate.removeReference(g,y.targetId,C)))))}catch(g){if(!$d(g))throw g;bt("LocalStore","Failed to update sequence numbers: "+g)}for(const g of d){const y=g.targetId;if(!g.fromCache){const C=f.ns.get(y),F=C.withLastLimboFreeSnapshotVersion(C.snapshotVersion);f.ns=f.ns.insert(y,F)}}}),function l(c,d){return a.apply(this,arguments)})(i.localStore,o))}),OR.apply(this,arguments)}function Lme(n,t){return FR.apply(this,arguments)}function FR(){return(FR=(0,$e.Z)(function*(n,t){const e=Pt(n);if(!e.currentUser.isEqual(t)){bt("SyncEngine","User change. New user:",t.toKey());const i=yield n6(e.localStore,t);e.currentUser=t,(o=e).Oa.forEach(a=>{a.forEach(l=>{l.reject(new gt(Qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield zc(e,i.us)}var o})).apply(this,arguments)}function Vme(n,t){const e=Pt(n),i=e.Fa.get(t);if(i&&i.wa)return Nn().add(i.key);{let r=Nn();const o=e.Da.get(t);if(!o)return r;for(const s of o){const a=e.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function Bme(n,t){return NR.apply(this,arguments)}function NR(){return(NR=(0,$e.Z)(function*(n,t){const e=Pt(n),i=yield NE(e.localStore,t.query,!0),r=t.view.pa(i);return e.isPrimaryClient&&RR(e,t.targetId,r.fa),r})).apply(this,arguments)}function Ume(n,t){return LR.apply(this,arguments)}function LR(){return(LR=(0,$e.Z)(function*(n,t){const e=Pt(n);return s6(e.localStore,t).then(i=>zc(e,i))})).apply(this,arguments)}function zme(n,t,e,i){return VR.apply(this,arguments)}function VR(){return(VR=(0,$e.Z)(function*(n,t,e,i){const r=Pt(n),o=yield function(a,l){const c=Pt(a),d=Pt(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,l).next(g=>g?c.localDocuments.getDocuments(f,g):Fe.resolve(null)))}(r.localStore,t);var l;null!==o?("pending"===e?yield $m(r.remoteStore):"acknowledged"===e||"rejected"===e?(MR(r,t,i||null),kR(r,t),l=t,Pt(Pt(r.localStore).mutationQueue).Mn(l)):$t(),yield zc(r,o)):bt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function BR(){return(BR=(0,$e.Z)(function*(n,t){const e=Pt(n);if(HE(e),HR(e),!0===t&&!0!==e.La){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield M6(e,i.toArray());e.La=!0,yield aR(e.remoteStore,!0);for(const o of r)zE(e.remoteStore,o)}else if(!1===t&&!1!==e.La){const i=[];let r=Promise.resolve();e.Da.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Ym(e,s),jm(e.localStore,s,!0))),Gm(e.remoteStore,s)}),yield r,yield M6(e,i),function(s){const a=Pt(s);a.Fa.forEach((l,c)=>{Gm(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new ji(Ut.comparator)}(e),e.La=!1,yield aR(e.remoteStore,!1)}})).apply(this,arguments)}function M6(n,t,e){return UR.apply(this,arguments)}function UR(){return(UR=(0,$e.Z)(function*(n,t,e){const i=Pt(n),r=[],o=[];for(const s of t){let a;const l=i.Da.get(s);if(l&&0!==l.length){a=yield zm(i.localStore,Wo(l[0]));for(const c of l){const d=i.ba.get(c),f=yield Bme(i,d);f.snapshot&&o.push(f.snapshot)}}else{const c=yield o6(i.localStore,s);a=yield zm(i.localStore,c),yield bR(i,R6(c),s,!1,a.resumeToken)}r.push(a)}return i.Sa.h_(o),r})).apply(this,arguments)}function R6(n){return MH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Hme(n){return e=Pt(n).localStore,Pt(Pt(e).persistence).Bi();var e}function Gme(n,t,e,i){return zR.apply(this,arguments)}function zR(){return(zR=(0,$e.Z)(function*(n,t,e,i){const r=Pt(n);if(r.La)return void bt("SyncEngine","Ignoring unexpected query state notification.");const o=r.Da.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield s6(r.localStore,NH(o[0])),a=zv.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,io.EMPTY_BYTE_STRING);yield zc(r,s,a);break}case"rejected":yield jm(r.localStore,t,!0),Ym(r,t,i);break;default:$t()}})).apply(this,arguments)}function $me(n,t,e){return jR.apply(this,arguments)}function jR(){return(jR=(0,$e.Z)(function*(n,t,e){const i=HE(n);if(i.La){for(const r of t){if(i.Da.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){bt("SyncEngine","Adding an already active target "+r);continue}const o=yield o6(i.localStore,r),s=yield zm(i.localStore,o);yield bR(i,R6(o),s.targetId,!1,s.resumeToken),zE(i.remoteStore,s)}for(const r of e)i.Da.has(r)&&(yield jm(i.localStore,r,!1).then(()=>{Gm(i.remoteStore,r),Ym(i,r)}).catch(Gd))}})).apply(this,arguments)}function HE(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=T6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vme.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Rme.bind(null,t),t.Sa.h_=bme.bind(null,t.eventManager),t.Sa.ka=wme.bind(null,t.eventManager),t}function HR(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pme.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ome.bind(null,t),t}class eb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,$e.Z)(function*(){e.serializer=Xv(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return t6(this.persistence,new e6,t.initialUser,this.serializer)}createPersistence(t){return new kM(PE.Hr,this.serializer)}createSharedClientState(t){return new d6}terminate(){var t=this;return(0,$e.Z)(function*(){var e,i;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class GR extends eb{constructor(t,e,i){super(),this.Qa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t),yield i.Qa.initialize(i,t),yield HR(i.Qa.syncEngine),yield $m(i.Qa.remoteStore),yield i.persistence.fi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return t6(this.persistence,new e6,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new $8(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new _fe(e,this.persistence);return new gfe(t.asyncQueue,i)}createPersistence(t){const e=PM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ko.withCacheSize(this.cacheSizeBytes):Ko.DEFAULT;return new RM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,h6(),UE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new d6}}class P6 extends GR{constructor(t,e){super(t,e,!1),this.Qa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,$e.Z)(function*(){yield e().call(i,t);const r=i.Qa.syncEngine;i.sharedClientState instanceof jM&&(i.sharedClientState.syncEngine={Zs:zme.bind(null,r),Xs:Gme.bind(null,r),eo:$me.bind(null,r),Bi:Hme.bind(null,r),Ys:Ume.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.fi(function(){var o=(0,$e.Z)(function*(s){yield function jme(n,t){return BR.apply(this,arguments)}(i.Qa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=h6();if(!jM.D(e))throw new gt(Qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=PM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new jM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Qm{initialize(t,e){var i=this;return(0,$e.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>A6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Lme.bind(null,i.syncEngine),yield aR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new vme}createDatastore(t){const e=Xv(t.databaseInfo.databaseId),i=new nme(t.databaseInfo);return new ome(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>A6(this.syncEngine,e,0),a=u6.D()?new u6:new Jpe,new ame(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,l,c,d){const f=new Ime(r,o,s,a,l,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,$e.Z)(function*(){var e,i;yield(i=(0,$e.Z)(function*(o){const s=Pt(o);bt("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield Hm(s),s.O_.shutdown(),s.N_.set("Unknown")}),function r(o){return i.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}function O6(n,t=10240){let e=0;return{read:()=>(0,$e.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class GE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Vr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Kme{constructor(t,e){this.Ua=t,this.serializer=e,this.metadata=new no,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(i=>{i&&i.sa()?this.metadata.resolve(i.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ia)}`))},i=>this.metadata.reject(i))}close(){return this.Ua.cancel()}getMetadata(){var t=this;return(0,$e.Z)(function*(){return t.metadata.promise})()}qa(){var t=this;return(0,$e.Z)(function*(){return yield t.getMetadata(),t.Ga()})()}Ga(){var t=this;return(0,$e.Z)(function*(){const e=yield t.za();if(null===e)return null;const i=t.Wa.decode(e),r=Number(i);isNaN(r)&&t.ja(`length string (${i}) is not valid number`);const o=yield t.Ha(r);return new xme(JSON.parse(o),e.length+r)})()}Ja(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}za(){var t=this;return(0,$e.Z)(function*(){for(;t.Ja()<0&&!(yield t.Ya()););if(0===t.buffer.length)return null;const e=t.Ja();e<0&&t.ja("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Ha(t){var e=this;return(0,$e.Z)(function*(){for(;e.buffer.length<t;)(yield e.Ya())&&e.ja("Reached the end of bundle when more is expected.");const i=e.Wa.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){var t=this;return(0,$e.Z)(function*(){const e=yield t.Ua.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Zme{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new gt(Qe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,$e.Z)(function*(s,a){const l=Pt(s),c={documents:a.map(y=>Hv(l.serializer,y))},d=yield l.xo("BatchGetDocuments",l.serializer.databaseId,ti.emptyPath(),c,a.length),f=new Map;d.forEach(y=>{const C=function ppe(n,t){return"found"in t?function(i,r){en(!!r.found);const o=ql(i,r.found.name),s=Br(r.found.updateTime),a=r.found.createTime?Br(r.found.createTime):rn.min(),l=new Do({mapValue:{fields:r.found.fields}});return Zi.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(i,r){en(!!r.missing),en(!!r.readTime);const o=ql(i,r.missing),s=Br(r.readTime);return Zi.newNoDocument(o,s)}(n,t):$t()}(l.serializer,y);f.set(C.key.toString(),C)});const g=[];return a.forEach(y=>{const C=f.get(y.toString());en(!!C),g.push(C)}),g}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Om(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Ut.fromPath(r);t.mutations.push(new hM(o,t.precondition(o)))}),yield(i=(0,$e.Z)(function*(o,s){const a=Pt(o),l={writes:s.map(c=>Gv(a.serializer,c))};yield a.Co("Commit",a.serializer.databaseId,ti.emptyPath(),l)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw $t();e=rn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new gt(Qe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(rn.min())?rr.exists(!1):rr.updateTime(e):rr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(rn.min()))throw new gt(Qe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(e)}return rr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Yme{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Za=i.maxAttempts,this.Yo=new GM(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,$e.Z)(function*(){const e=new Zme(t.datastore),i=t.tu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.nu(o)}))}).catch(r=>{t.nu(r)})}))}tu(t){try{const e=this.updateFunction(t);return!Iv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!t8(e)}return!1}}class Qme{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ao.UNAUTHENTICATED,this.clientId=qj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,$e.Z)(function*(a){bt("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(bt("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(Qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Wm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function $E(n,t){return $R.apply(this,arguments)}function $R(){return $R=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,$e.Z)(function*(o){i.isEqual(o)||(yield n6(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),$R.apply(this,arguments)}function qR(n,t){return WR.apply(this,arguments)}function WR(){return(WR=(0,$e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield KR(n);bt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>v6(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>v6(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function F6(n){return"FirebaseError"===n.name?n.code===Qe.FAILED_PRECONDITION||n.code===Qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function KR(n){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,$e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){bt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $E(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!F6(e))throw e;Ps("Error using user provided cache. Falling back to memory cache: "+e),yield $E(n,new eb)}}else bt("FirestoreClient","Using default OfflineComponentProvider"),yield $E(n,new eb);return n._offlineComponents})).apply(this,arguments)}function qE(n){return YR.apply(this,arguments)}function YR(){return(YR=(0,$e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(bt("FirestoreClient","Using user provided OnlineComponentProvider"),yield qR(n,n._uninitializedComponentsProvider._online)):(bt("FirestoreClient","Using default OnlineComponentProvider"),yield qR(n,new Qm))),n._onlineComponents})).apply(this,arguments)}function N6(n){return KR(n).then(t=>t.persistence)}function Xm(n){return KR(n).then(t=>t.localStore)}function L6(n){return qE(n).then(t=>t.remoteStore)}function QR(n){return qE(n).then(t=>t.syncEngine)}function Jm(n){return XR.apply(this,arguments)}function XR(){return(XR=(0,$e.Z)(function*(n){const t=yield qE(n),e=t.eventManager;return e.onListen=Sme.bind(null,t.syncEngine),e.onUnlisten=Ame.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Tme.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=kme.bind(null,t.syncEngine),e})).apply(this,arguments)}function B6(n,t,e={}){const i=new no;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(o,s,a,l,c){const d=new GE({next:g=>{s.enqueueAndForget(()=>hR(o,f));const y=g.docs.has(a);!y&&g.fromCache?c.reject(new gt(Qe.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&l&&"server"===l.source?c.reject(new gt(Qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new gR(Tm(a.path),d,{includeMetadataChanges:!0,ra:!0});return dR(o,f)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}function U6(n,t,e={}){const i=new no;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(o,s,a,l,c){const d=new GE({next:g=>{s.enqueueAndForget(()=>hR(o,f)),g.fromCache&&"server"===l.source?c.reject(new gt(Qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new gR(a,d,{includeMetadataChanges:!0,ra:!0});return dR(o,f)}(yield Jm(n),n.asyncQueue,t,e,i)})),i.promise}function z6(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const j6=new Map;function JR(n,t,e){if(!e)throw new gt(Qe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function H6(n,t,e,i){if(!0===t&&!0===i)throw new gt(Qe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function G6(n){if(!Ut.isDocumentKey(n))throw new gt(Qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $6(n){if(Ut.isDocumentKey(n))throw new gt(Qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":$t()}function jn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(Qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=WE(n);throw new gt(Qe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function q6(n,t){if(t<=0)throw new gt(Qe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class W6{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new gt(Qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new gt(Qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}H6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=z6(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new gt(Qe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class tb{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gt(Qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new gt(Qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W6(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new rfe;switch(i.type){case"firstParty":return new lfe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(Qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=j6.get(e);i&&(bt("ComponentProvider","Removing Datastore"),j6.delete(e),i.terminate())}(this),Promise.resolve()}}class Io{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Io(this.firestore,t,this._query)}}class Yi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yi(this.firestore,t,this._key)}}class Wl extends Io{constructor(t,e,i){super(t,e,Tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yi(this.firestore,null,new Ut(t))}withConverter(t){return new Wl(this.firestore,t,this._path)}}function Z6(n,t,...e){if(n=(0,W.m9)(n),JR("collection","path",t),n instanceof tb){const i=ti.fromString(t,...e);return $6(i),new Wl(n,null,i)}{if(!(n instanceof Yi||n instanceof Wl))throw new gt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ti.fromString(t,...e));return $6(i),new Wl(n.firestore,null,i)}}function KE(n,t,...e){if(n=(0,W.m9)(n),1===arguments.length&&(t=qj.newId()),JR("doc","path",t),n instanceof tb){const i=ti.fromString(t,...e);return G6(i),new Yi(n,null,new Ut(i))}{if(!(n instanceof Yi||n instanceof Wl))throw new gt(Qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ti.fromString(t,...e));return G6(i),new Yi(n.firestore,n instanceof Wl?n.converter:null,new Ut(i))}}function Y6(n,t){return n=(0,W.m9)(n),t=(0,W.m9)(t),(n instanceof Yi||n instanceof Wl)&&(t instanceof Yi||t instanceof Wl)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function eP(n,t){return n=(0,W.m9)(n),t=(0,W.m9)(t),n instanceof Io&&t instanceof Io&&n.firestore===t.firestore&&Ov(n._query,t._query)&&n.converter===t.converter}class dge{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new GM(this,"async_queue_retry"),this.hu=()=>{const e=UE();e&&bt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=UE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=UE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new no;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,$e.Z)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!$d(e))throw e;bt("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(i=>{throw this.au=i,this.uu=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=e,e}enqueueAfterDelay(t,e,i){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const r=cR.createAndSchedule(this,t,e,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&$t()}verifyOperationInProgress(){}du(){var t=this;return(0,$e.Z)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function tP(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class uge{constructor(){this._progressObserver={},this._taskCompletionResolver=new no,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ai extends tb{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new dge,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Q6(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||Q6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Q6(n){var t,e,i;const r=n._freezeSettings(),o=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Vfe(n._databaseId,l,n._persistenceKey,(d=r).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,z6(d.experimentalLongPollingOptions),d.useFetchStreams));var l,d;n._firestoreClient=new Qme(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function X6(n,t,e){const i=new no;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield $E(n,e),yield qR(n,t),i.resolve()}catch(r){const o=r;if(!F6(o))throw o;Ps("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function J6(n){if(n._initialized||n._terminated)throw new gt(Qe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kl(io.fromBase64String(t))}catch(e){throw new gt(Qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kl(io.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class jc{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new gt(Qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class ZE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(Qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(Qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Sn(this._lat,t._lat)||Sn(this._long,t._long)}}const xge=/^__.*__$/;class Cge{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Bc(t,this.data,this.fieldMask,e,this.fieldTransforms):new Pm(t,this.data,e,this.fieldTransforms)}}class eG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Bc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function tG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $t()}}class YE{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new YE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.wu(t),r}Su(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return JE(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(tG(this.fu)&&xge.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class Ege{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Xv(t)}Fu(t,e,i,r=!1){return new YE({fu:t,methodName:e,vu:i,path:Ki.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(n){const t=n._freezeSettings(),e=Xv(n._databaseId);return new Ege(n._databaseId,!!t.ignoreUndefinedProperties,e)}function QE(n,t,e,i,r,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,t,e,r);lP("Data must be an object, but it was:",s,i);const a=rG(i,s);let l,c;if(o.merge)l=new Os(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const g=rb(t,f,e);if(!s.contains(g))throw new gt(Qe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sG(d,g)||d.push(g)}l=new Os(d),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new Cge(new Do(a),l,c)}class ib extends Nh{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ib}}function nG(n,t,e){return new YE({fu:3,vu:t.settings.vu,methodName:n._methodName,yu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class nP extends Nh{_toFieldTransform(t){return new Vv(t.path,new Mm)}isEqual(t){return t instanceof nP}}class iP extends Nh{constructor(t,e){super(t),this.Mu=e}_toFieldTransform(t){const e=nG(this,t,!0),i=this.Mu.map(o=>Vh(o,e)),r=new Sh(i);return new Vv(t.path,r)}isEqual(t){return t instanceof iP&&(0,W.vZ)(this.Mu,t.Mu)}}class rP extends Nh{constructor(t,e){super(t),this.Mu=e}_toFieldTransform(t){const e=nG(this,t,!0),i=this.Mu.map(o=>Vh(o,e)),r=new Th(i);return new Vv(t.path,r)}isEqual(t){return t instanceof rP&&(0,W.vZ)(this.Mu,t.Mu)}}class oP extends Nh{constructor(t,e){super(t),this.xu=e}_toFieldTransform(t){const e=new Rm(t.serializer,HH(t.serializer,this.xu));return new Vv(t.path,e)}isEqual(t){return t instanceof oP&&this.xu===t.xu}}function sP(n,t,e,i){const r=n.Fu(1,t,e);lP("Data must be an object, but it was:",r,i);const o=[],s=Do.empty();qd(i,(l,c)=>{const d=XE(t,l,e);c=(0,W.m9)(c);const f=r.Su(d);if(c instanceof ib)o.push(d);else{const g=Vh(c,f);null!=g&&(o.push(d),s.set(d,g))}});const a=new Os(o);return new eG(s,a,r.fieldTransforms)}function aP(n,t,e,i,r,o){const s=n.Fu(1,t,e),a=[rb(t,i,e)],l=[r];if(o.length%2!=0)throw new gt(Qe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(rb(t,o[g])),l.push(o[g+1]);const c=[],d=Do.empty();for(let g=a.length-1;g>=0;--g)if(!sG(c,a[g])){const y=a[g];let C=l[g];C=(0,W.m9)(C);const R=s.Su(y);if(C instanceof ib)c.push(y);else{const F=Vh(C,R);null!=F&&(c.push(y),d.set(y,F))}}const f=new Os(c);return new eG(d,f,s.fieldTransforms)}function iG(n,t,e,i=!1){return Vh(e,n.Fu(i?4:3,t))}function Vh(n,t){if(oG(n=(0,W.m9)(n)))return lP("Unsupported field value:",t,n),rG(n,t);if(n instanceof Nh)return function(i,r){if(!tG(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=Vh(a,r.bu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,W.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return HH(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=ir.fromDate(i);return{timestampValue:Fm(r.serializer,o)}}if(i instanceof ir){const o=new ir(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Fm(r.serializer,o)}}if(i instanceof ZE)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Kl)return{bytesValue:u8(r.serializer,i._byteString)};if(i instanceof Yi){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yM(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${WE(i)}`)}(n,t)}function rG(n,t){const e={};return dH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qd(n,(i,r)=>{const o=Vh(r,t.pu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function oG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ir||n instanceof ZE||n instanceof Kl||n instanceof Yi||n instanceof Nh)}function lP(n,t,e){if(!oG(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=WE(e);throw t.Du("an object"===i?n+" a custom object":n+" "+i)}var r}function rb(n,t,e){if((t=(0,W.m9)(t))instanceof jc)return t._internalPath;if("string"==typeof t)return XE(n,t);throw JE("Field path arguments must be of type string or ",n,!1,void 0,e)}const Dge=new RegExp("[~\\*/\\[\\]]");function XE(n,t,e){if(t.search(Dge)>=0)throw JE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new jc(...t.split("."))._internalPath}catch{throw JE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function JE(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new gt(Qe.INVALID_ARGUMENT,a+n+l)}function sG(n,t){return n.some(e=>e.isEqual(t))}class ob{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Ige(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(eD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Ige extends ob{data(){return super.data()}}function eD(n,t){return"string"==typeof t?XE(n,t):t instanceof jc?t._internalPath:t._delegate._internalPath}function aG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new gt(Qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cP{}class sb extends cP{}function ru(n,t,...e){let i=[];t instanceof cP&&i.push(t),i=i.concat(e),function(o){const s=o.filter(l=>l instanceof eg).length,a=o.filter(l=>l instanceof ab).length;if(s>1||s>0&&a>0)throw new gt(Qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class ab extends sb{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new ab(t,e,i)}_apply(t){const e=this._parse(t);return uG(t._query,e),new Io(t.firestore,t.converter,dM(t._query,e))}_parse(t){const e=Lh(t.firestore);return function(o,s,a,l,c,d,f){let g;if(c.isKeyField()){if("array-contains"===d||"array-contains-any"===d)throw new gt(Qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if("in"===d||"not-in"===d){dG(f,d);const y=[];for(const C of f)y.push(cG(l,o,C));g={arrayValue:{values:y}}}else g=cG(l,o,f)}else"in"!==d&&"not-in"!==d&&"array-contains-any"!==d||dG(f,d),g=iG(a,"where",f,"in"===d||"not-in"===d);return ni.create(c,d,g)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class eg extends cP{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new eg(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Ei.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const l of a)uG(s,l),s=dM(s,l)}(t._query,e),new Io(t.firestore,t.converter,dM(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dP extends sb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new dP(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rv(o,s)}(t._query,this._field,this._direction);return new Io(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Lc(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class tD extends sb{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new tD(t,e,i)}_apply(t){return new Io(t.firestore,t.converter,vE(t._query,this._limit,this._limitType))}}class nD extends sb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new nD(t,e,i)}_apply(t){const e=lG(t,this.type,this._docOrFields,this._inclusive);return new Io(t.firestore,t.converter,(o=e,new Lc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class iD extends sb{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new iD(t,e,i)}_apply(t){const e=lG(t,this.type,this._docOrFields,this._inclusive);return new Io(t.firestore,t.converter,(o=e,new Lc((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function lG(n,t,e,i){if(e[0]=(0,W.m9)(e[0]),e[0]instanceof ob)return function(o,s,a,l,c){if(!l)throw new gt(Qe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of Am(o))if(f.field.isKeyField())d.push(Dh(s,l.key));else{const g=l.data.field(f.field);if(hE(g))throw new gt(Qe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=f.field.canonicalString();throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}d.push(g)}return new Qd(d,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Lh(n.firestore);return function(s,a,l,c,d,f){const g=s.explicitOrderBy;if(d.length>g.length)throw new gt(Qe.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let C=0;C<d.length;C++){const R=d[C];if(g[C].field.isKeyField()){if("string"!=typeof R)throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof R}`);if(!cM(s)&&-1!==R.indexOf("/"))throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${R}' contains a slash.`);const F=s.path.child(ti.fromString(R));if(!Ut.isDocumentKey(F))throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${F}' is not because it contains an odd number of segments.`);const te=new Ut(F);y.push(Dh(a,te))}else{const F=iG(l,c,R);y.push(F)}}return new Qd(y,f)}(n._query,n.firestore._databaseId,r,t,e,i)}}function cG(n,t,e){if("string"==typeof(e=(0,W.m9)(e))){if(""===e)throw new gt(Qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cM(t)&&-1!==e.indexOf("/"))throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(ti.fromString(e));if(!Ut.isDocumentKey(i))throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Dh(n,new Ut(i))}if(e instanceof Yi)return Dh(n,e._key);throw new gt(Qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WE(e)}.`)}function dG(n,t){if(!Array.isArray(n)||0===n.length)throw new gt(Qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uG(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new gt(Qe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class uP{convertValue(t,e="none"){switch(Zd(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Nc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw $t()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return qd(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new ZE(kr(t.latitude),kr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=fE(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Tv(t));default:return null}}convertTimestamp(t){const e=Fc(t);return new ir(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ti.fromString(t);en(C8(i));const r=new Wd(i.get(1),i.get(3)),o=new Ut(i.popFirst(5));return r.isEqual(e)||Vr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function rD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Fge extends uP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yi(this.firestore,null,e)}}class Bh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hc extends ob{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(eD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class lb extends Hc{data(t={}){return super.data(t)}}class ou{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new lb(this._firestore,this._userDataWriter,i.key,i,new Bh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(Qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new lb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new lb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Bh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Lge(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Lge(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $t()}}function fG(n,t){return n instanceof Hc&&t instanceof Hc?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ou&&t instanceof ou&&n._firestore===t._firestore&&eP(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class su extends uP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yi(this.firestore,null,e)}}function pG(n,t,e){n=jn(n,Yi);const i=jn(n.firestore,Ai),r=rD(n.converter,t,e);return tg(i,[QE(Lh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,rr.none())])}function mG(n,t,e,...i){n=jn(n,Yi);const r=jn(n.firestore,Ai),o=Lh(r);let s;return s="string"==typeof(t=(0,W.m9)(t))||t instanceof jc?aP(o,"updateDoc",n._key,t,e,i):sP(o,"updateDoc",n._key,t),tg(r,[s.toMutation(n._key,rr.exists(!0))])}function gG(n,...t){var e,i,r;n=(0,W.m9)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||tP(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(tP(t[s])){const f=t[s];t[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),t[s+1]=null===(i=f.error)||void 0===i?void 0:i.bind(f),t[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}let l,c,d;if(n instanceof Yi)c=jn(n.firestore,Ai),d=Tm(n._key.path),l={next:f=>{t[s]&&t[s](hP(c,n,f))},error:t[s+1],complete:t[s+2]};else{const f=jn(n,Io);c=jn(f.firestore,Ai),d=f._query;const g=new su(c);l={next:y=>{t[s]&&t[s](new ou(c,g,f,y))},error:t[s+1],complete:t[s+2]},aG(n._query)}return function(g,y,C,R){const F=new GE(R),te=new gR(y,F,C);return g.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return dR(yield Jm(g),te)})),()=>{F.$a(),g.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return hR(yield Jm(g),te)}))}}(or(c),d,a,l)}function tg(n,t){return function(i,r){const o=new no;return i.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function Mme(n,t,e){return ER.apply(this,arguments)}(yield QR(i),r,o)})),o.promise}(or(n),t)}function hP(n,t,e){const i=e.docs.get(t._key),r=new su(n);return new Hc(n,r,t._key,i,new Bh(e.hasPendingWrites,e.fromCache),t.converter)}const t_e={maxAttempts:5};class _G{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Lh(t)}set(t,e,i){this._verifyNotCommitted();const r=au(t,this._firestore),o=rD(r.converter,e,i),s=QE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,rr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=au(t,this._firestore);let s;return s="string"==typeof(e=(0,W.m9)(e))||e instanceof jc?aP(this._dataReader,"WriteBatch.update",o._key,e,i,r):sP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,rr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=au(t,this._firestore);return this._mutations=this._mutations.concat(new Om(e._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(n,t){if((n=(0,W.m9)(n)).firestore!==t)throw new gt(Qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class n_e extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Lh(e)}get(e){const i=au(e,this._firestore),r=new Fge(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return $t();const s=o[0];if(s.isFoundDocument())return new ob(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new ob(this._firestore,r,i._key,null,i.converter);throw $t()})}set(e,i,r){const o=au(e,this._firestore),s=rD(o.converter,i,r),a=QE(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=au(e,this._firestore);let a;return a="string"==typeof(i=(0,W.m9)(i))||i instanceof jc?aP(this._dataReader,"Transaction.update",s._key,i,r,o):sP(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=au(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=au(t,this._firestore),i=new su(this._firestore);return super.get(t).then(r=>new Hc(this._firestore,i,e._key,r._document,new Bh(!1,!1),e.converter))}}function pP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function wG(){if(typeof Uint8Array>"u")throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function xG(){if(!function Nfe(){return typeof atob<"u"}())throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){bm=Rs.SDK_VERSION,(0,Rs._registerComponent)(new tl.wA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new Ai(new sfe(i.getProvider("auth-internal")),new cfe(i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new gt(Qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wd(c.options.projectId,d)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,Rs.registerVersion)(Hj,"4.6.3",t),(0,Rs.registerVersion)(Hj,"4.6.3","esm2017")}();class cb{constructor(t){this._delegate=t}static fromBase64String(t){return xG(),new cb(Kl.fromBase64String(t))}static fromUint8Array(t){return wG(),new cb(Kl.fromUint8Array(t))}toBase64(){return xG(),this._delegate.toBase64()}toUint8Array(){return wG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mP(n){return function h_e(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class f_e{enableIndexedDbPersistence(t,e){return function fge(n,t){J6(n=jn(n,Ai));const e=or(n);if(e._uninitializedComponentsProvider)throw new gt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");Ps("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Qm;return X6(e,r,new GR(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function pge(n){J6(n=jn(n,Ai));const t=or(n);if(t._uninitializedComponentsProvider)throw new gt(Qe.FAILED_PRECONDITION,"SDK cache is already specified.");Ps("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Qm;return X6(t,i,new P6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function mge(n){if(n._initialized&&!n._terminated)throw new gt(Qe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new no;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(e=(0,$e.Z)(function*(r){if(!jl.D())return Promise.resolve();const o=r+"main";yield jl.delete(o)}),function i(r){return e.apply(this,arguments)})(PM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class CG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Wd||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Ps("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function K6(n,t,e,i={}){var r;const o=(n=jn(n,tb))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ao.MOCK_USER;else{a=(0,W.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new gt(Qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ao(c)}n._authCredentials=new ofe(new Gj(a,l))}}(this._delegate,t,e,i)}enableNetwork(){return function _ge(n){return function Xme(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield N6(n),e=yield L6(n);return t.setNetworkEnabled(!0),function(r){const o=Pt(r);return o.M_.delete(0),Jv(o)}(e)}))}(or(n=jn(n,Ai)))}(this._delegate)}disableNetwork(){return function yge(n){return function Jme(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const t=yield N6(n),e=yield L6(n);return t.setNetworkEnabled(!1),(i=(0,$e.Z)(function*(o){const s=Pt(o);s.M_.add(0),yield Hm(s),s.N_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(or(n=jn(n,Ai)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,H6("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function gge(n){return function(e){const i=new no;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function Fme(n,t){return AR.apply(this,arguments)}(yield QR(e),i)})),i.promise}(or(n=jn(n,Ai)))}(this._delegate)}onSnapshotsInSync(t){return function qge(n,t){return function ige(n,t){const e=new GE(t);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield Jm(n),o=e,Pt(r).z_.add(o),void o.next();var r,o})),()=>{e.$a(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield Jm(n),o=e,void Pt(r).z_.delete(o);var r,o}))}}(or(n=jn(n,Ai)),tP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ng(this,Z6(this._delegate,t))}catch(e){throw hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Oa(this,KE(this._delegate,t))}catch(e){throw hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new fs(this,function cge(n,t){if(n=jn(n,tb),JR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gt(Qe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Io(n,null,(i=t,new Lc(ti.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function i_e(n,t,e){n=jn(n,Ai);const i=Object.assign(Object.assign({},t_e),e);return function(o){if(o.maxAttempts<1)throw new gt(Qe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const l=new no;return o.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const c=yield function V6(n){return qE(n).then(t=>t.datastore)}(o);new Yme(o.asyncQueue,c,a,s,l).Xa()})),l.promise}(or(n),r=>t(new n_e(n,r)),i)}(this._delegate,e=>t(new EG(this,e)))}batch(){return or(this._delegate),new DG(new _G(this._delegate,t=>tg(this._delegate,t)))}loadBundle(t){return function vge(n,t){const e=or(n=jn(n,Ai)),i=new uge;return function rge(n,t,e,i){const r=function(s,a){let l;return l="string"==typeof s?i8().encode(s):s,d=function(d,f){if(d instanceof Uint8Array)return O6(d,f);if(d instanceof ArrayBuffer)return O6(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Kme(d,a);var d}(e,Xv(t));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function qme(n,t,e){const i=Pt(n);var r;(r=(0,$e.Z)(function*(s,a,l){try{const c=yield a.getMetadata();if(yield function(C,R){const F=Pt(C),te=Br(R.createTime);return F.persistence.runTransaction("hasNewerBundle","readonly",ie=>F.$r.getBundleMetadata(ie,R.id)).then(ie=>!!ie&&ie.createTime.compareTo(te)>=0)}(s.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(C=c).totalDocuments,bytesLoaded:C.totalBytes,totalDocuments:C.totalDocuments,totalBytes:C.totalBytes}),Promise.resolve(new Set);l._updateProgress(C6(c));const d=new Cme(c,s.localStore,a.serializer);let f=yield a.qa();for(;f;){const y=yield d._a(f);y&&l._updateProgress(y),f=yield a.qa()}const g=yield d.complete();return yield zc(s,g.ca,void 0),yield function(C,R){const F=Pt(C);return F.persistence.runTransaction("Save bundle","readwrite",te=>F.$r.saveBundleMetadata(te,R))}(s.localStore,c),l._completeWith(g.progress),Promise.resolve(g.ua)}catch(c){return Ps("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var C}),function o(s,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield QR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function bge(n,t){return function oge(n,t){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(i,r){const o=Pt(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield Xm(n),t)}))}(or(n=jn(n,Ai)),t).then(e=>e?new Io(n,null,e.query):null)}(this._delegate,t).then(e=>e?new fs(this,e):null)}}class sD extends uP{constructor(t){super(),this.firestore=t}convertBytes(t){return new cb(new Kl(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Oa.forKey(e,this.firestore,null)}}class EG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new sD(t)}get(t){const e=zh(t);return this._delegate.get(e).then(i=>new db(this._firestore,new Hc(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=zh(t);return i?(pP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=zh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=zh(t);return this._delegate.delete(e),this}}class DG{constructor(t){this._delegate=t}set(t,e,i){const r=zh(t);return i?(pP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=zh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=zh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Uh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new lb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ub(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Uh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Uh(t,new sD(t),e),r.set(e,o)),o}}Uh.INSTANCES=new WeakMap;class Oa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Oa(e,new Yi(e._delegate,i,new Ut(t)))}static forKey(t,e,i){return new Oa(e,new Yi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new ng(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ng(this.firestore,Z6(this._delegate,t))}catch(e){throw hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,W.m9)(t))instanceof Yi&&Y6(this._delegate,t)}set(t,e){e=pP("DocumentReference.set",e);try{return e?pG(this._delegate,t,e):pG(this._delegate,t)}catch(i){throw hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?mG(this._delegate,t):mG(this._delegate,t,e,...i)}catch(r){throw hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Gge(n){return tg(jn(n.firestore,Ai),[new Om(n._key,rr.none())])}(this._delegate)}onSnapshot(...t){const e=IG(t),i=SG(t,r=>new db(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return gG(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function Bge(n){n=jn(n,Yi);const t=jn(n.firestore,Ai),e=or(t),i=new su(t);return function ege(n,t){const e=new no;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(o,s,a){try{const l=yield function(d,f){const g=Pt(d);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,f))}(o,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new gt(Qe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Wm(l,`Failed to get document '${s} from cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Hc(t,i,n._key,r,new Bh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Uge(n){n=jn(n,Yi);const t=jn(n.firestore,Ai);return B6(or(t),n._key,{source:"server"}).then(e=>hP(t,n,e))}(this._delegate):function Vge(n){n=jn(n,Yi);const t=jn(n.firestore,Ai);return B6(or(t),n._key).then(e=>hP(t,n,e))}(this._delegate),e.then(i=>new db(this.firestore,new Hc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Oa(this.firestore,this._delegate.withConverter(t?Uh.getInstance(this.firestore,t):null))}}function hs(n,t,e){return n.message=n.message.replace(t,e),n}function IG(n){for(const t of n)if("object"==typeof t&&!mP(t))return t;return{}}function SG(n,t){var e,i;let r;return r=mP(n[0])?n[0]:mP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class db{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return fG(this._delegate,t._delegate)}}class ub extends db{data(t){const e=this._delegate.data(t);return this._delegate._converter||function ife(n,t){n||$t()}(void 0!==e),e}}class fs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new sD(t)}where(t,e,i){try{return new fs(this.firestore,ru(this._delegate,function Sge(n,t,e){const i=t,r=eD("where",n);return ab._create(r,i,e)}(t,e,i)))}catch(r){throw hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new fs(this.firestore,ru(this._delegate,function Tge(n,t="asc"){const e=t,i=eD("orderBy",n);return dP._create(i,e)}(t,e)))}catch(i){throw hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new fs(this.firestore,ru(this._delegate,function Age(n){return q6("limit",n),tD._create("limit",n,"F")}(t)))}catch(e){throw hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new fs(this.firestore,ru(this._delegate,function kge(n){return q6("limitToLast",n),tD._create("limitToLast",n,"L")}(t)))}catch(e){throw hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new fs(this.firestore,ru(this._delegate,function Mge(...n){return nD._create("startAt",n,!0)}(...t)))}catch(e){throw hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new fs(this.firestore,ru(this._delegate,function Rge(...n){return nD._create("startAfter",n,!1)}(...t)))}catch(e){throw hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new fs(this.firestore,ru(this._delegate,function Pge(...n){return iD._create("endBefore",n,!1)}(...t)))}catch(e){throw hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new fs(this.firestore,ru(this._delegate,function Oge(...n){return iD._create("endAt",n,!0)}(...t)))}catch(e){throw hs(e,"endAt()","Query.endAt()")}}isEqual(t){return eP(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function jge(n){n=jn(n,Io);const t=jn(n.firestore,Ai),e=or(t),i=new su(t);return function tge(n,t){const e=new no;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(i=(0,$e.Z)(function*(o,s,a){try{const l=yield NE(o,s,!0),c=new I6(s,l.hs),d=c.da(l.documents),f=c.applyChanges(d,!1);a.resolve(f.snapshot)}catch(l){const c=Wm(l,`Failed to execute query '${s} against cache`);a.reject(c)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Xm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ou(t,i,n,r))}(this._delegate):"server"===t?.source?function Hge(n){n=jn(n,Io);const t=jn(n.firestore,Ai),e=or(t),i=new su(t);return U6(e,n._query,{source:"server"}).then(r=>new ou(t,i,n,r))}(this._delegate):function zge(n){n=jn(n,Io);const t=jn(n.firestore,Ai),e=or(t),i=new su(t);return aG(n._query),U6(e,n._query).then(r=>new ou(t,i,n,r))}(this._delegate),e.then(i=>new gP(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=IG(t),i=SG(t,r=>new gP(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return gG(this._delegate,e,i)}withConverter(t){return new fs(this.firestore,this._delegate.withConverter(t?Uh.getInstance(this.firestore,t):null))}}class m_e{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ub(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ub(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new m_e(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ub(this._firestore,i))})}isEqual(t){return fG(this._delegate,t._delegate)}}class ng extends fs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Oa(this.firestore,t):null}doc(t){try{return new Oa(this.firestore,void 0===t?KE(this._delegate):KE(this._delegate,t))}catch(e){throw hs(e,"doc()","CollectionReference.doc()")}}add(t){return function $ge(n,t){const e=jn(n.firestore,Ai),i=KE(n),r=rD(n.converter,t);return tg(e,[QE(Lh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,rr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Oa(this.firestore,e))}isEqual(t){return Y6(this._delegate,t._delegate)}withConverter(t){return new ng(this.firestore,this._delegate.withConverter(t?Uh.getInstance(this.firestore,t):null))}}function zh(n){return jn(n,Yi)}class _P{constructor(...t){this._delegate=new jc(...t)}static documentId(){return new _P(Ki.keyField().canonicalString())}isEqual(t){return(t=(0,W.m9)(t))instanceof jc&&this._delegate._internalPath.isEqual(t._internalPath)}}class jh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function o_e(){return new nP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new jh(t)}static delete(){const t=function r_e(){return new ib("deleteField")}();return t._methodName="FieldValue.delete",new jh(t)}static arrayUnion(...t){const e=function s_e(...n){return new iP("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new jh(e)}static arrayRemove(...t){const e=function a_e(...n){return new rP("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new jh(e)}static increment(t){const e=function l_e(n){return new oP("increment",n)}(t);return e._methodName="FieldValue.increment",new jh(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const g_e={Firestore:CG,GeoPoint:ZE,Timestamp:ir,Blob:cb,Transaction:EG,WriteBatch:DG,DocumentReference:Oa,DocumentSnapshot:db,Query:fs,QueryDocumentSnapshot:ub,QuerySnapshot:gP,CollectionReference:ng,FieldPath:_P,FieldValue:jh,setLogLevel:function p_e(n){!function nfe(n){Hd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function TG(n,t){return function v_e(n,t=Nd){return new mt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function yP(n,t){return TG(n,t).pipe(We(e=>({payload:e,type:"query"})))}!function y_e(n){(function __e(n,t){n.INTERNAL.registerComponent(new tl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},g_e)))})(n,(t,e)=>new CG(t,e,new f_e)),n.registerVersion("@firebase/firestore-compat","0.3.32")}(ta.Z);class AG{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=FG(i,e);return new RG(r,o,this.afs)}snapshotChanges(){return function b_e(n,t){return TG(n,t).pipe(Tr(void 0),Zk(),We(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Lr)}valueChanges(t={}){return this.snapshotChanges().pipe(We(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return B(this.ref.get(t)).pipe(Lr)}}function aD(n,t){return yP(n,t).pipe(Tr(void 0),Zk(),We(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=o.find(f=>f.doc.ref.isEqual(a.ref)),d=i?.payload.docs.find(f=>f.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&d&&JSON.stringify(d.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function kG(n,t,e){return aD(n,e).pipe(_h((i,r)=>function w_e(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function x_e(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return vP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return vP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return vP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),dn(),We(i=>i.map(r=>({type:r.type,payload:r}))))}function vP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function MG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class RG{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(We(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Tr(void 0),Zk(),gi(([i,r])=>r.length>0||!i),We(([,i])=>i),Lr)}auditTrail(t){return this.stateChanges(t).pipe(_h((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=MG(t);return kG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Lr)}valueChanges(t={}){return yP(this.query,this.afs.schedulers.outsideAngular).pipe(We(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),Lr)}get(t){return B(this.query.get(t)).pipe(Lr)}add(t){return this.ref.add(t)}doc(t){return new AG(this.ref.doc(t),this.afs)}}class C_e{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aD(this.query,this.afs.schedulers.outsideAngular).pipe(We(e=>e.filter(i=>t.indexOf(i.type)>-1)),gi(e=>e.length>0),Lr):aD(this.query,this.afs.schedulers.outsideAngular).pipe(Lr)}auditTrail(t){return this.stateChanges(t).pipe(_h((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=MG(t);return kG(this.query,e,this.afs.schedulers.outsideAngular).pipe(Lr)}valueChanges(t={}){return yP(this.query,this.afs.schedulers.outsideAngular).pipe(We(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),Lr)}get(t){return B(this.query.get(t)).pipe(Lr)}}const PG=new Ue("angularfire2.enableFirestorePersistence"),OG=new Ue("angularfire2.firestore.persistenceSettings"),E_e=new Ue("angularfire2.firestore.settings"),D_e=new Ue("angularfire2.firestore.use-emulator");function FG(n,t=(e=>e)){return{query:t(n),ref:n}}let oa=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,l,c,d,f,g,y,C,R,F,te,ie){this.schedulers=l;const ye=xv(e,a,i),Ve=d;f&&Kk(ye,a,g,C,R,F,y,te),[this.firestore,this.persistenceEnabled$]=sE(`${ye.name}.firestore`,"AngularFirestore",ye.name,()=>{const _t=a.runOutsideAngular(()=>ye.firestore());if(o&&_t.settings(o),Ve&&_t.useEmulator(...Ve),r&&!Ol(s)){const At=()=>{try{return B(_t.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(ue){return typeof console<"u"&&console.warn(ue),ne(!1)}};return[_t,a.runOutsideAngular(At)]}return[_t,ne(!1)]},[o,Ve,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=FG(r,i),a=this.schedulers.ngZone.run(()=>o);return new RG(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new C_e(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new AG(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(Y(_m),Y(ym,8),Y(PG,8),Y(E_e,8),Y(gr),Y(Lt),Y(oE),Y(OG,8),Y(D_e,8),Y(vm,8),Y(jk,8),Y(Hk,8),Y(Gk,8),Y($k,8),Y(qk,8),Y(Wk,8),Y(rE,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),I_e=(()=>{class n{constructor(){ta.Z.registerVersion("angularfire",pm.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:PG,useValue:!0},{provide:OG,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=qt({providers:[oa]})}return n})();var S_e=ze(516);const T_e=["mat-button",""],bP=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],wP=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],k_e=["mat-fab",""],M_e=["mat-mini-fab",""],P_e=["mat-icon-button",""],O_e=["*"],F_e=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],N_e=Wy(qy(Ky(class{constructor(n){this._elementRef=n}})));let lD=(()=>{class n extends N_e{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=Tt(kc),this._isFab=!1;const s=e.nativeElement.classList;for(const a of F_e)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){Td()},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&An(Xa,5),2&e){let r;Vt(r=Bt())&&(i.ripple=r.first)}},features:[it]}),n})(),br=(()=>{class n extends lD{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(Lt),v(Uo,8))},n.\u0275cmp=It({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(Bn("disabled",i.disabled||null),hn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[it],attrs:T_e,ngContentSelectors:wP,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(_r(bP),vt(0,"span",0),Dn(1),b(2,"span",1),Dn(3,1),x(),Dn(4,2),vt(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(hn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),k(6),L("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Xa],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})();const NG=new Ue("mat-mdc-fab-default-options",{providedIn:"root",factory:LG});function LG(){return{color:"accent"}}const cD=LG();let V_e=(()=>{class n extends lD{get extended(){return this._extended}set extended(e){this._extended=Jt(e)}constructor(e,i,r,o,s){super(e,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||cD,this.color=this.defaultColor=this._options.color||cD.color}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(Lt),v(Uo,8),v(NG,8))},n.\u0275cmp=It({type:n,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(e,i){2&e&&(Bn("disabled",i.disabled||null),hn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[it],attrs:k_e,ngContentSelectors:wP,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(_r(bP),vt(0,"span",0),Dn(1),b(2,"span",1),Dn(3,1),x(),Dn(4,2),vt(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(hn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),k(6),L("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Xa],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),hb=(()=>{class n extends lD{constructor(e,i,r,o,s){super(e,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||cD,this.color=this.defaultColor=this._options.color||cD.color}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(Lt),v(Uo,8),v(NG,8))},n.\u0275cmp=It({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(e,i){2&e&&(Bn("disabled",i.disabled||null),hn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[it],attrs:M_e,ngContentSelectors:wP,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(_r(bP),vt(0,"span",0),Dn(1),b(2,"span",1),Dn(3,1),x(),Dn(4,2),vt(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(hn("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),k(6),L("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Xa],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab .mdc-fab__icon{width:24px;height:24px;font-size:24px}.mdc-fab:not(.mdc-fab--extended){border-radius:50%}.mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:50%}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:var(--mdc-fab-container-color, transparent);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color, inherit)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape, 50%)}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab{border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mat-mdc-extended-fab .mdc-fab__ripple{border-radius:24px}.mat-mdc-extended-fab .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon,.mat-mdc-extended-fab .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0}),n})(),Hh=(()=>{class n extends lD{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(Lt),v(Uo,8))},n.\u0275cmp=It({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(Bn("disabled",i.disabled||null),hn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[it],attrs:P_e,ngContentSelectors:O_e,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(_r(),vt(0,"span",0),Dn(1),vt(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(k(3),L("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Xa],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),VG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,em,On]}),n})();class xP{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ig extends xP{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class rg extends xP{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class B_e extends xP{constructor(t){super(),this.element=t instanceof Dt?t.nativeElement:t}}class dD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ig?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof rg?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof B_e?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class U_e extends dD{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ii.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let og=(()=>{class n extends dD{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ct,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(v(th),v(yr),v(fn))},n.\u0275dir=Se({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[it]}),n})(),sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})();const z_e=["addListener","removeListener"],j_e=["addEventListener","removeEventListener"],H_e=["on","off"];function uD(n,t,e,i){if(T(e)&&(i=e,e=void 0),i)return uD(n,t,e).pipe(Gy(i));const[r,o]=function q_e(n){return T(n.addEventListener)&&T(n.removeEventListener)}(n)?j_e.map(s=>a=>n[s](t,a,e)):function G_e(n){return T(n.addListener)&&T(n.removeListener)}(n)?z_e.map(BG(n,t)):function $_e(n){return T(n.on)&&T(n.off)}(n)?H_e.map(BG(n,t)):[];if(!r&&yn(n))return mn(s=>uD(s,t,e))(at(n));if(!r)throw new TypeError("Invalid event target");return new mt(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function BG(n,t){return e=>i=>n[e](t,i)}const fb={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=fb;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new K(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=fb;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=fb;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},UG=new class K_e extends fC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class W_e extends hC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fb.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(fb.cancelAnimationFrame(e),t._scheduled=void 0)}});let CP,Z_e=1;const hD={};function zG(n){return n in hD&&(delete hD[n],!0)}const Y_e={setImmediate(n){const t=Z_e++;return hD[t]=!0,CP||(CP=Promise.resolve()),CP.then(()=>zG(t)&&n()),t},clearImmediate(n){zG(n)}},{setImmediate:Q_e,clearImmediate:X_e}=Y_e,fD={setImmediate(...n){const{delegate:t}=fD;return(t?.setImmediate||Q_e)(...n)},clearImmediate(n){const{delegate:t}=fD;return(t?.clearImmediate||X_e)(n)},delegate:void 0},EP=new class eye extends fC{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class J_e extends hC{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fD.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(fD.clearImmediate(e),t._scheduled=void 0)}});function DP(n=0,t,e=fae){let i=-1;return null!=t&&(oi(t)?e=t:i=t),new mt(r=>{let o=function nye(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function IP(n,t=Nd){return function tye(n){return Ae((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ut(e,c=>{i=!0,r=c,o||at(n(c)).subscribe(o=ut(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>DP(n,t))}const iye=["contentWrapper"],rye=["*"],oye=new Ue("VIRTUAL_SCROLL_STRATEGY");let ag=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(IP(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ne()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(gi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Sr(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(Y(Lt),Y(nr),Y(fn,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jG=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Z,this._elementScrolled=new mt(s=>this.ngZone.runOutsideAngular(()=>uD(this.elementRef.nativeElement,"scroll").pipe(bn(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Ly()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ly()?e.left=e.right:1==Ly()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;RU()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Ly()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Ly()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(ag),v(Lt),v(so,8))},n.\u0275dir=Se({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),lg=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Z,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(IP(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(Y(nr),Y(Lt),Y(fn,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HG=new Ue("VIRTUAL_SCROLLABLE");let lye=(()=>{class n extends jG{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(ag),v(Lt),v(so,8))},n.\u0275dir=Se({type:n,features:[it]}),n})();const dye=typeof requestAnimationFrame<"u"?UG:EP;let uye=(()=>{class n extends lye{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Jt(e)}constructor(e,i,r,o,s,a,l,c){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=c,this._platform=Tt(nr),this._detachedSubject=new Z,this._renderedRangeSubject=new Z,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new mt(d=>this._scrollStrategy.scrolledIndexChange.subscribe(f=>Promise.resolve().then(()=>this.ngZone.run(()=>d.next(f))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=K.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Tr(null),IP(0,dye)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(bn(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function cye(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",s="rtl"==this.dir?.value;i="start"==e?s?o:r:"end"==e?s?r:o:e||("horizontal"===this.orientation?"left":"top");const a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(qi),v(Lt),v(oye,8),v(so,8),v(ag),v(lg),v(HG,8))},n.\u0275cmp=It({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&An(iye,7),2&e){let r;Vt(r=Bt())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&hn("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Wt([{provide:jG,useFactory:(t,e)=>t||e,deps:[[new $a,new EN(HG)],n]}]),it,AA],ngContentSelectors:rye,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(_r(),b(0,"div",0,1),Dn(2),x(),vt(3,"div",2)),2&e&&(k(3),ai("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),cg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})(),SP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[hh,cg,uye,hh,cg]}),n})();const GG=RU();class fye{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$r(-this._previousScrollPosition.left),t.style.top=$r(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),GG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),GG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class pye{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(gi(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pb{enable(){}disable(){}attach(){}}function TP(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function $G(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class mye{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();TP(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let gye=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pb,this.close=s=>new pye(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new fye(this._viewportRuler,this._document),this.reposition=s=>new mye(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(Y(ag),Y(lg),Y(Lt),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class mb{constructor(t){if(this.scrollStrategy=new pb,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class _ye{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let qG=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yye=(()=>{class n extends qG{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(Y(fn),Y(Lt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vye=(()=>{class n extends qG{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Ta(o)},this._clickListener=o=>{const s=Ta(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const f=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(Y(fn),Y(nr),Y(Lt,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pD=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||F1()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),F1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(Y(fn),Y(nr))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gb{constructor(t,e,i,r,o,s,a,l,c,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Z,this._attachments=new Z,this._detachments=new Z,this._locationChanges=K.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new Z,this._outsidePointerEvents=new Z,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$r(this._config.width),t.height=$r(this._config.height),t.minWidth=$r(this._config.minWidth),t.minHeight=$r(this._config.minHeight),t.maxWidth=$r(this._config.maxWidth),t.maxHeight=$r(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Vy(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bn(j(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WG="cdk-overlay-connected-position-bounding-box",bye=/([A-Za-z%]+)$/;class wye{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Z,this._resizeSubscription=K.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(WG),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=ZG(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let g=0-a,y=a+o.height-i.height,C=this._subtractOverflows(o.width,0-s,s+o.width-i.width),R=this._subtractOverflows(o.height,g,y),F=C*R;return{visibleArea:F,isCompletelyWithinViewport:o.width*o.height===F,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:C==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=KG(this._overlayRef.getConfig().minHeight),a=KG(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=ZG(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let d=0,f=0;return d=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:f},{x:t.x+d,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new _ye(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,f,g;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const y=Math.min(i.bottom-t.y+i.top,t.y),C=this._lastBoundingBoxSize.height;o=2*y,s=t.y-y,o>C&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-C/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)g=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,d=i.right-t.x;else{const y=Math.min(i.right-t.x+i.left,t.x),C=this._lastBoundingBoxSize.width;d=2*y,f=t.x-y,d>C&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-C/2)}return{top:s,left:f,bottom:a,right:g,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=$r(i.height),r.top=$r(i.top),r.bottom=$r(i.bottom),r.width=$r(i.width),r.left=$r(i.left),r.right=$r(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=$r(o)),s&&(r.maxWidth=$r(s))}this._lastBoundingBoxSize=i,Gh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Gh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Gh(i,this._getExactOverlayY(e,t,d)),Gh(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=$r(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=$r(s.maxWidth):o&&(i.maxWidth="")),Gh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=$r(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=$r(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$G(t,i),isOriginOutsideView:TP(t,i),isOverlayClipped:$G(e,i),isOverlayOutsideView:TP(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vy(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Dt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Gh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function KG(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(bye);return e&&"px"!==e?null:parseFloat(t)}return n||null}function ZG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const YG="cdk-global-overlay-wrapper";class xye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(YG),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,f=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let y="",C="",R="";l?R="flex-start":"center"===d?(R="center",g?C=f:y=f):g?"left"===d||"end"===d?(R="flex-end",y=f):("right"===d||"start"===d)&&(R="flex-start",C=f):"left"===d||"start"===d?(R="flex-start",y=f):("right"===d||"end"===d)&&(R="flex-end",C=f),t.position=this._cssPosition,t.marginLeft=l?"0":y,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":C,e.justifyContent=R,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(YG),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Cye=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new xye}flexibleConnectedTo(e){return new wye(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(Y(lg),Y(fn),Y(nr),Y(pD))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eye=0,Ns=(()=>{class n{constructor(e,i,r,o,s,a,l,c,d,f,g,y){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=f,this._outsideClickDispatcher=g,this._animationsModuleType=y}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new mb(e);return s.direction=s.direction||this._directionality.value,new gb(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Eye++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ec)),new U_e(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(Y(gye),Y(pD),Y(th),Y(Cye),Y(yye),Y(Ii),Y(Lt),Y(fn),Y(so),Y(Ty),Y(vye),Y(Uo,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dye=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],QG=new Ue("cdk-connected-overlay-scroll-strategy");let AP=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0}),n})(),XG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Jt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Jt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Jt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Jt(e)}get push(){return this._push}set push(e){this._push=Jt(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=K.EMPTY,this._attachSubscription=K.EMPTY,this._detachSubscription=K.EMPTY,this._positionSubscription=K.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Ct,this.positionChange=new Ct,this.attach=new Ct,this.detach=new Ct,this.overlayKeydown=new Ct,this.overlayOutsideClick=new Ct,this._templatePortal=new rg(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Dye);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Nl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new mb({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof AP?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function hye(n,t=!1){return Ae((e,i)=>{let r=0;e.subscribe(ut(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(v(Ns),v(ki),v(yr),v(QG),v(so,8))},n.\u0275dir=Se({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Di]}),n})();const Sye={provide:QG,deps:[Ns],useFactory:function Iye(n){return()=>n.scrollStrategies.reposition()}};let dg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[Ns,Sye],imports:[hh,sg,SP,SP]}),n})();function Tye(n,t){if(1&n){const e=Yt();b(0,"div",2)(1,"button",3),Te("click",function(){return Xe(e),Ye(se().action())}),O(2),x()()}if(2&n){const e=se();k(2),_n(" ",e.data.action," ")}}const Aye=["label"];function kye(n,t){}const Mye=Math.pow(2,31)-1;class kP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Z,this._afterOpened=new Z,this._onAction=new Z,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Mye))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const JG=new Ue("MatSnackBarData");class mD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Rye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),n})(),Pye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),n})(),Oye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),n})(),Fye=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(v(kP),v(JG))},n.\u0275cmp=It({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,i){1&e&&(b(0,"div",0),O(1),x(),he(2,Tye,3,1,"div",1)),2&e&&(k(1),_n(" ",i.data.message,"\n"),k(1),L("ngIf",i.hasAction))},dependencies:[xi,br,Rye,Pye,Oye],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),n})();const Nye={snackBarState:Ho("state",[Si("void, hidden",In({transform:"scale(0.8)",opacity:0})),Si("visible",In({transform:"scale(1)",opacity:1})),Wi("* => visible",vr("150ms cubic-bezier(0, 0, 0.2, 1)")),Wi("* => void, * => hidden",vr("75ms cubic-bezier(0.4, 0.0, 1, 1)",In({opacity:0})))])};let Lye=0,Vye=(()=>{class n extends dD{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=Tt(fn),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Z,this._onExit=new Z,this._onEnter=new Z,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Lye++,this.attachDomPortal=a=>{this._assertNotAttached();const l=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),l},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(sn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(v(Lt),v(Dt),v(qi),v(nr),v(mD))},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&An(og,7),2&e){let r;Vt(r=Bt())&&(i._portalOutlet=r.first)}},features:[it]}),n})(),Bye=(()=>{class n extends Vye{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275cmp=It({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,i){if(1&e&&An(Aye,7),2&e){let r;Vt(r=Bt())&&(i._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(e,i){1&e&&hA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&vA("@state",i._animationState)},features:[it],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1,2)(3,"div",3),he(4,kye,0,0,"ng-template",4),x(),vt(5,"div"),x()()),2&e&&(k(5),Bn("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[og],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__dismiss svg,.mat-mdc-snack-bar-container .mdc-snackbar__dismiss img{width:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px));height:var(--mdc-icon-button-icon-size, var(--mdc-snackbar-icon-size, 24px))}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color, inherit)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size, inherit);font-family:var(--mdc-snackbar-supporting-text-font, inherit);font-weight:var(--mdc-snackbar-supporting-text-weight, inherit);line-height:var(--mdc-snackbar-supporting-text-line-height, inherit)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-mdc-snack-bar-button-color, transparent);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Nye.snackBarState]}}),n})(),e$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[dg,sg,ea,VG,On,On]}),n})();const t$=new Ue("mat-snack-bar-default-options",{providedIn:"root",factory:function Uye(){return new mD}});let zye=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=Ii.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:mD,useValue:i}]}),s=new ig(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new mD,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new kP(s,o);if(e instanceof ki){const l=new rg(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),c=new ig(e,void 0,l),d=s.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(bn(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new mb;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return Ii.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:kP,useValue:i},{provide:JG,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(Y(Ns),Y(H1),Y(Ii),Y(B1),Y(n,12),Y(t$))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends zye{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=Fye,this.snackBarContainerComponent=Bye,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(Y(Ns),Y(H1),Y(Ii),Y(B1),Y(n,12),Y(t$))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:e$}),n})(),ps=(()=>{class n{get user(){return this.user$}get isLoggedIn(){return this.loggedIn$.value}constructor(e,i,r,o){this.fireAuth=e,this.firestore=i,this.router=r,this.snackbar=o,this.loggedIn$=new P(null),this.user$=this.fireAuth.authState.pipe(St(s=>s?(this.loggedIn$.next(!0),this.firestore.doc(`users/${s.uid}`).valueChanges()):(this.loggedIn$.next(!1),ne(null))))}googleSignIn(){var e=this;return(0,$e.Z)(function*(){const i=new S_e.X,r=yield e.fireAuth.signInWithPopup(i);r.user&&e.firestore.doc(`users/${r.user.uid}`).get().subscribe(s=>{s.exists?(e.updateUserData(r.user),e.router.navigate(["dashboard"])):(e.createNewUserData(r.user),e.snackbar.open("As a new user please set up your account","OK",{duration:6e3}),e.router.navigate(["profile"]))})})()}signOut(){var e=this;return(0,$e.Z)(function*(){yield e.fireAuth.signOut(),e.router.navigate([""])})()}createNewUserData(e){return this.firestore.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,bio:"",ethnicity:"",mother_language:""})}updateUserData(e){return this.firestore.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,photoURL:e.photoURL},{merge:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(vm),Y(oa),Y(Ar),Y(Ls))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n$=(()=>{class n{get getUserVideos(){return this.userVideos$}get getUserSharedVideos(){return this.sharedVideos$}get communityVideos(){return this.communityVideos$}constructor(e,i){this.firestore=e,this.auth=i}getVideos(e){return this.userVideos$=this.firestore.collection(`users/${e}/videos/`).valueChanges()}getSharedVideos(e){return this.firestore.collection("sharedVideos").snapshotChanges().pipe(We(i=>i.map(r=>{const o=r.payload.doc.data(),s=r.payload.doc.id,a=o.usersRights.find(l=>"Owner"===l.right)?.userEmail;return{id:s,...o,owner:a}}).filter(r=>r.usersRights.some(o=>o.userEmail===e))),We(i=>[...new Map(i.map(r=>[r.videoId,r])).values()]))}getCommunityVideos(){return this.firestore.collection("helpRequests",e=>e.where("status","==","open")).snapshotChanges().pipe(St(e=>e.length?to(e.map(i=>{const r=i.payload.doc.id,o=i.payload.doc.data().videoId;return this.firestore.collection("videos").doc(o).snapshotChanges().pipe(We(()=>({requestId:r,...i.payload.doc.data()})))})):ne([])),We(e=>e.flat()))}addVideo(e,i){this.firestore.doc(`users/${i}/videos/${e.items[0].id}`).set({videoId:e.items[0].id,title:e.items[0].snippet.title}),this.userVideos$=this.firestore.collection(`users/${i}/videos/`).valueChanges()}updateVideo(e,i){const r=this.firestore.doc(`users/${i}`),o={videoId:e.id,title:e.snippet.title,channel:e.snippet.channelTitle,views:e.statistics.viewCount,published:e.snippet.publishedAt};r.collection("videos").doc(e.id).update(o)}deleteVideo(e,i){this.firestore.doc(`users/${i}/videos/${e}`).delete()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa),Y(ps))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jye(n,t){}class gD{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let i$=(()=>{class n extends dD{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=l,this._focusMonitor=c,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const f=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),f},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=aC(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=aC();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=aC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(j1),v(fn,8),v(gD),v(wC),v(Lt),v(gb),v(kc))},n.\u0275cmp=It({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&An(og,7),2&e){let r;Vt(r=Bt())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&Bn("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[it],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&he(0,jye,0,0,"ng-template",0)},dependencies:[og],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class MP{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Z,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Nl(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const r$=new Ue("DialogScrollStrategy"),Hye=new Ue("DialogData"),Gye=new Ue("DefaultDialogConfig"),qye={provide:r$,deps:[Ns],useFactory:function $ye(n){return()=>n.scrollStrategies.block()}};let Wye=0,o$=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this._ariaHiddenElements=new Map,this.afterAllClosed=ov(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tr(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new gD,...i}).id=i.id||"cdk-dialog-"+Wye++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new MP(s,i),l=this._attachContainer(s,a,i);return a.containerInstance=l,this._attachDialogContent(e,a,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){RP(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){RP(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),RP(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new mb({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:gD,useValue:r},{provide:MP,useValue:i},{provide:gb,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=i$;const l=new ig(a,r.viewContainerRef,Ii.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(l).instance}_attachDialogContent(e,i,r,o){if(e instanceof ki){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new rg(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new ig(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:Hye,useValue:e.data},{provide:MP,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(so,null,{optional:!0}))&&a.push({provide:so,useValue:{value:e.direction,change:ne()}}),Ii.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(Y(Ns),Y(Ii),Y(Gye,8),Y(n,12),Y(pD),Y(r$))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();function RP(n,t){let e=n.length;for(;e--;)t(n[e])}let Kye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[o$,qye],imports:[dg,sg,r5,sg]}),n})();function Zye(n,t){}class _D{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const PP="mdc-dialog--open",s$="mdc-dialog--opening",a$="mdc-dialog--closing";let Xye=(()=>{class n extends i${constructor(e,i,r,o,s,a,l,c){super(e,i,r,o,s,a,l,c),this._animationStateChanged=new Ct}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(j1),v(fn,8),v(_D),v(wC),v(Lt),v(gb),v(kc))},n.\u0275cmp=It({type:n,selectors:[["ng-component"]],features:[it],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const l$="--mat-dialog-transition-duration";function c$(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Qa(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Qa(n.substring(0,n.length-1)):"0"===n?0:null}let Jye=(()=>{class n extends Xye{constructor(e,i,r,o,s,a,l,c,d){super(e,i,r,o,s,a,l,d),this._animationMode=c,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?c$(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?c$(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(l$,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(s$,PP)),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(PP),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(PP),this._animationsEnabled?(this._hostElement.style.setProperty(l$,`${this._openAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(a$)),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(s$,a$)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(j1),v(fn,8),v(_D),v(wC),v(Lt),v(gb),v(Uo,8),v(kc))},n.\u0275cmp=It({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(Qs("id",i._config.id),Bn("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),hn("_mat-animation-noopable",!i._animationsEnabled))},features:[it],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(b(0,"div",0)(1,"div",1),he(2,Zye,0,0,"ng-template",2),x()())},dependencies:[og],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class nl{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Z,this._beforeClosed=new Z,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(gi(r=>"opened"===r.state),sn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(gi(r=>"closed"===r.state),sn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),j(this.backdropClick(),this.keydownEvents().pipe(gi(r=>27===r.keyCode&&!this.disableClose&&!Nl(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),d$(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gi(e=>"closing"===e.state),sn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function d$(n,t,e){return n._closeInteractionType=t,n.close(e)}const Vs=new Ue("MatMdcDialogData"),eve=new Ue("mat-mdc-dialog-default-options"),u$=new Ue("mat-mdc-dialog-scroll-strategy"),nve={provide:u$,deps:[Ns],useFactory:function tve(n){return()=>n.scrollStrategies.block()}};let ive=0,rve=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,l,c,d,f){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this._idPrefix="mat-dialog-",this.dialogConfigClass=_D,this.afterAllClosed=ov(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tr(void 0))),this._scrollStrategy=a,this._dialog=i.get(o$)}open(e,i){let r;(i={...this._defaultOptions||new _D,...i}).id=i.id||`${this._idPrefix}${ive++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:gD,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Td()},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),sa=(()=>{class n extends rve{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,nl,Jye,Vs,c),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(Y(Ns),Y(Ii),Y(Ty,8),Y(eve,8),Y(u$),Y(n,12),Y(pD),Y(Uo,8))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),ove=0,So=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=h$(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){d$(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(v(nl,8),v(Dt),v(sa))},n.\u0275dir=Se({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&Te("click",function(o){return i._onButtonClick(o)}),2&e&&Bn("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Di]}),n})(),uo=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+ove++}ngOnInit(){this._dialogRef||(this._dialogRef=h$(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(v(nl,8),v(Dt),v(sa))},n.\u0275dir=Se({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&Qs("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),ho=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),To=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&hn("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})();function h$(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let f$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[sa,nve],imports:[Kye,dg,sg,On,On]}),n})();class yD{}class vD{}class il{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof il?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new il;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof il?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class sve{encodeKey(t){return m$(t)}encodeValue(t){return m$(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const lve=/%(\d[a-f0-9])/gi,cve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function m$(n){return encodeURIComponent(n).replace(lve,(t,e)=>cve[e]??t)}function bD(n){return`${n}`}class lu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new sve,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ave(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(bD):[bD(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new lu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(bD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class dve{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function g$(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function _$(n){return typeof Blob<"u"&&n instanceof Blob}function y$(n){return typeof FormData<"u"&&n instanceof FormData}class _b{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function uve(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new il),this.context||(this.context=new dve),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new lu,this.urlWithParams=e}serializeBody(){return null===this.body?null:g$(this.body)||_$(this.body)||y$(this.body)||function hve(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof lu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||y$(this.body)?null:_$(this.body)?this.body.type||null:g$(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof lu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((f,g)=>f.set(g,t.setHeaders[g]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((f,g)=>f.set(g,t.setParams[g]),c)),new _b(e,i,o,{params:c,headers:l,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var ug=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ug||{});class OP{constructor(t,e=200,i="OK"){this.headers=t.headers||new il,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class FP extends OP{constructor(t={}){super(t),this.type=ug.ResponseHeader}clone(t={}){return new FP({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hg extends OP{constructor(t={}){super(t),this.type=ug.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hg({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class v$ extends OP{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function NP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Gc=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof _b)o=e;else{let l,c;l=r.headers instanceof il?r.headers:new il(r.headers),r.params&&(c=r.params instanceof lu?r.params:new lu({fromObject:r.params})),o=new _b(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=ne(o).pipe(rm(l=>this.handler.handle(l)));if(e instanceof _b||"events"===r.observe)return s;const a=s.pipe(gi(l=>l instanceof hg));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(We(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(We(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(We(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(We(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new lu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,NP(r,i))}post(e,i,r={}){return this.request("POST",e,NP(r,i))}put(e,i,r={}){return this.request("PUT",e,NP(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(Y(yD))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function x$(n,t){return t(n)}function pve(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const gve=new Ue(""),yb=new Ue(""),C$=new Ue("");function _ve(){let n=null;return(t,e)=>{null===n&&(n=(Tt(gve,{optional:!0})??[]).reduceRight(pve,x$));const i=Tt(Vx),r=i.add();return n(t,e).pipe(om(()=>i.remove(r)))}}let E$=(()=>{class n extends yD{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=Tt(Vx)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(yb),...this.injector.get(C$,[])]));this.chain=r.reduceRight((o,s)=>function mve(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),x$)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(om(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(Y(vD),Y(Zs))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const wve=/^\)\]\}',?\n/;let I$=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new X(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?B(i.\u0275loadImpl()):ne(null)).pipe(St(()=>new mt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((R,F)=>s.setRequestHeader(R,F.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&s.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();s.responseType="json"!==R?R:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const R=s.statusText||"OK",F=new il(s.getAllResponseHeaders()),te=function xve(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return l=new FP({headers:F,status:s.status,statusText:R,url:te}),l},d=()=>{let{headers:R,status:F,statusText:te,url:ie}=c(),ye=null;204!==F&&(ye=typeof s.response>"u"?s.responseText:s.response),0===F&&(F=ye?200:0);let Ve=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof ye){const _t=ye;ye=ye.replace(wve,"");try{ye=""!==ye?JSON.parse(ye):null}catch(At){ye=_t,Ve&&(Ve=!1,ye={error:At,text:ye})}}Ve?(o.next(new hg({body:ye,headers:R,status:F,statusText:te,url:ie||void 0})),o.complete()):o.error(new v$({error:ye,headers:R,status:F,statusText:te,url:ie||void 0}))},f=R=>{const{url:F}=c(),te=new v$({error:R,status:s.status||0,statusText:s.statusText||"Unknown Error",url:F||void 0});o.error(te)};let g=!1;const y=R=>{g||(o.next(c()),g=!0);let F={type:ug.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),"text"===e.responseType&&s.responseText&&(F.partialText=s.responseText),o.next(F)},C=R=>{let F={type:ug.UploadProgress,loaded:R.loaded};R.lengthComputable&&(F.total=R.total),o.next(F)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),e.reportProgress&&(s.addEventListener("progress",y),null!==a&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:ug.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),e.reportProgress&&(s.removeEventListener("progress",y),null!==a&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(Y(aU))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const LP=new Ue("XSRF_ENABLED"),S$=new Ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),T$=new Ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class A${}let Dve=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=X4(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn),Y(gr),Y(S$))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();function Ive(n,t){const e=n.url.toLowerCase();if(!Tt(LP)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Tt(A$).getToken(),r=Tt(T$);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var cu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(cu||{});function Sve(...n){const t=[Gc,I$,E$,{provide:yD,useExisting:E$},{provide:vD,useExisting:I$},{provide:yb,useValue:Ive,multi:!0},{provide:LP,useValue:!0},{provide:A$,useClass:Dve}];for(const e of n)t.push(...e.\u0275providers);return function wT(n){return{\u0275providers:n}}(t)}const k$=new Ue("LEGACY_INTERCEPTOR_FN");function Tve(){return function $h(n,t){return{\u0275kind:n,\u0275providers:t}}(cu.LegacyInterceptors,[{provide:k$,useFactory:_ve},{provide:yb,useExisting:k$,multi:!0}])}let Ave=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({providers:[Sve(Tve())]})}return n})();const Fve=["*"];let xD;function vb(n){return function Nve(){if(void 0===xD&&(xD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(xD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return xD}()?.createHTML(n)||n}function M$(n){return Error(`Unable to find icon with the name "${n}"`)}function R$(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function P$(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class qh{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let CD=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new qh(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(oo.HTML,r);if(!s)throw P$(r);const a=vb(s);return this._addSvgIconConfig(e,i,new qh("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new qh(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(oo.HTML,i);if(!o)throw P$(i);const s=vb(o);return this._addSvgIconSetConfig(e,new qh("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(oo.RESOURCE_URL,e);if(!i)throw R$(e);const r=this._cachedIconsByUrl.get(i);return r?ne(ED(r)):this._loadSvgIconFromConfig(new qh(e,null)).pipe(ei(o=>this._cachedIconsByUrl.set(i,o)),We(o=>ED(o)))}getNamedSvgIcon(e,i=""){const r=O$(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):im(M$(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ne(ED(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(We(i=>ED(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?ne(r):I5(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ud(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(oo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),ne(null)})))).pipe(We(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw M$(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(ei(i=>e.svgText=i),We(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ne(null):this._fetchIcon(e).pipe(ei(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(vb("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(vb("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Lve(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(oo.RESOURCE_URL,i);if(!s)throw R$(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(We(c=>vb(c)),om(()=>this._inProgressUrlFetches.delete(s)),lt());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(O$(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Bve(o)?new qh(o.url,null,o.options):new qh(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(Y(Gc,8),Y(Fy),Y(fn,8),Y(Ea))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ED(n){return n.cloneNode(!0)}function O$(n,t){return n+":"+t}function Bve(n){return!(!n.url||!n.options)}const Uve=Wy(class{constructor(n){this._elementRef=n}}),zve=new Ue("MAT_ICON_DEFAULT_OPTIONS"),jve=new Ue("mat-icon-location",{providedIn:"root",factory:function Hve(){const n=Tt(fn),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),F$=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gve=F$.map(n=>`[${n}]`).join(", "),$ve=/^url\(['"]?#(.*?)['"]?\)$/;let Ao=(()=>{class n extends Uve{get inline(){return this._inline}set inline(e){this._inline=Jt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=K.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Gve),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)F$.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match($ve):null;if(c){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(sn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(CD),Ss("aria-hidden"),v(jve),v(Ea),v(zve,8))},n.\u0275cmp=It({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(Bn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),hn("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[it],ngContentSelectors:Fve,decls:1,vars:0,template:function(e,i){1&e&&(_r(),Dn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),N$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,On]}),n})();const qve=["*"],Zve=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Yve=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Qve=new Ue("MAT_CARD_CONFIG");let Wh=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(v(Qve,8))},n.\u0275cmp=It({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&hn("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:qve,decls:1,vars:0,template:function(e,i){1&e&&(_r(),Dn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),du=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),bb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),L$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=It({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Yve,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(_r(Zve),Dn(0),b(1,"div",0),Dn(2,1),x(),Dn(3,2))},encapsulation:2,changeDetection:0}),n})(),abe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,ea,On]}),n})(),V$=(()=>{class n{constructor(e,i){this.fb=e,this.dialogRef=i}ngOnInit(){this.form=new Ms({youtubeUrl:this.fb.control("",[Go.required,Go.pattern(/^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?(?=.*v=\w+)(?:\S+)?|embed\/\w+|v\/\w+|\S+)|youtu\.be\/\w+)(?:\S+)?$/)])},{updateOn:"submit"})}onSubmit(){if(this.form.valid){const e=this.form?.get("youtubeUrl")?.value;let r=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);this.youtubeVideoId=r&&11===r[7].length?r[7]:null,this.dialogRef.close(this.youtubeVideoId)}}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(v(VC),v(nl))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-video-init-form"]],decls:19,vars:1,consts:[[3,"formGroup","submit"],[1,"url-wrapper"],["color","primary",1,"form-field"],["formControlName","youtubeUrl","matInput","","type","text"],["mat-raised-button","","color","primary","type","submit",1,"add-vid-btn"],[1,"add-span-txt"]],template:function(i,r){1&i&&(b(0,"form",0),Te("submit",function(){return r.onSubmit()}),b(1,"div",1)(2,"mat-card-header")(3,"mat-card-title"),O(4,"Enter YouTube Video URL"),x()(),b(5,"mat-form-field",2)(6,"mat-label"),O(7,"Enter YouTube URL"),x(),vt(8,"input",3),b(9,"mat-hint"),O(10,"Enter the YouTube video URL which you want subtitles/dubbing for"),x(),b(11,"mat-error"),O(12,"Invalid URL"),x()(),b(13,"button",4)(14,"div",5)(15,"span"),O(16,"Add"),x(),b(17,"mat-icon"),O(18,"add"),x()()()()()),2&i&&L("formGroup",r.form)},dependencies:[ka,Aa,q1,Xy,Pa,sk,ds,$o,Bd,Ra,Mc,br,Ao,fg,du],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{max-width:550px;width:550px}.url-wrapper[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.mdc-button[_ngcontent-%COMP%]{margin-top:10px;height:42px;width:100px}.add-vid-btn[_ngcontent-%COMP%]{border-radius:15px}.add-span-txt[_ngcontent-%COMP%]{display:flex}.add-span-txt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:4px}.add-span-txt[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}"]})}return n})(),B$=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}onNoClick(){this.dialogRef.close()}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(nl))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-dialog-confirmation"]],decls:8,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","end"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"h1",0),O(1),x(),vt(2,"div",1),b(3,"div",2)(4,"button",3),Te("click",function(){return r.onNoClick()}),O(5,"Discard"),x(),b(6,"button",4),O(7,"DELETE"),x()()),2&i&&(k(1),ln(r.data),k(5),L("mat-dialog-close",!0))},dependencies:[br,So,uo,ho,To]})}return n})(),Zl=(()=>{class n{constructor(e){this.firestore=e}setCommunityRequestDetails(e){this.communityRequestDetails=e}getUserNameFromEmail(e){return this.firestore.collection("users",i=>i.where("email","==",e)).valueChanges().pipe(We(i=>i&&i.length>0?i[0].displayName:null),Ja())}getEmailFromUserID(e){return this.firestore.collection("users",i=>i.where("uid","==",e)).valueChanges().pipe(We(i=>i&&i.length>0?i[0].displayName:null),Ja())}getSharedSubID(e,i,r,o){return this.firestore.collection("users").doc(e).collection("videos").doc(i).collection("subtitleLanguages").doc(r).collection("subtitles").doc(o).valueChanges().pipe(We(s=>s?s.subtitleSharedId:null),Ja())}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();const lbe={apiKey:"AIzaSyAPw6CTXYaeYIFkp6WyxYfutypaABfR0Z0",authDomain:"subanddub-4fd35.firebaseapp.com",projectId:"subanddub-4fd35",storageBucket:"subanddub-4fd35.appspot.com",messagingSenderId:"1089692813801",appId:"1:1089692813801:web:ceb9463a1e5efd4eeba378"},pg="AIzaSyAPw6CTXYaeYIFkp6WyxYfutypaABfR0Z0";let Kh=(()=>{class n{constructor(e){this.http=e,this.currentTimeSubject=new P(0),this.currentCaption=new P("")}playerRefSetter(e){this.playerRef=e}getAllVideoDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&part=contentDetails&id=${e}&key=${pg}`).pipe(We(r=>{if(r)return r.items}))}getVideoDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/videos?part=snippet&part=statistics&part=contentDetails&id=${e}&key=${pg}`)}getCaptionDetails(e){return this.http.get(`https://www.googleapis.com/youtube/v3/captions?part=snippet&videoId=${e}&key=${pg}`).pipe(We(o=>{if(o)return o.items}))}getCurrentTime(){return this.currentTimeSubject.asObservable()}getCurrentCaption(){return this.currentCaption.asObservable()}startTimeTracking(){this.stopTimeTracking(),this.timer=setInterval(()=>{this.updateCurrentTime()},300)}stopTimeTracking(){clearInterval(this.timer)}updateCurrentTime(){const e=this.playerRef.getCurrentTime();this.currentTimeSubject.next(e)}updateCurrentCaption(e){this.currentCaption.next(e)}seekToPoint(e){this.playerRef.getPlayerState()===YT.PlayerState.PAUSED&&this.playerRef.seekTo(e,!0)}ngOnDestroy(){this.stopTimeTracking()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Gc))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function U$(n,t,e){return e?U$(n,t).pipe(Gy(e)):new mt(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return T(t)?()=>t(r,o):void 0})}const ube={connector:()=>new Z};function z$(n,t=ube){const{connector:e}=t;return Ae((i,r)=>{const o=e();at(n(function dbe(n){return new mt(t=>n.subscribe(t))}(o))).subscribe(r),r.add(i.subscribe(o))})}function DD(...n){const t=Ro(n);return Ae((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)at(n[l]).subscribe(ut(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(dt))&&(s=null))},N));e.subscribe(ut(i,l=>{if(a){const c=[l,...o];i.next(t?t(...c):c)}}))})}const{isArray:pbe}=Array;function mbe(n){return 1===n.length&&pbe(n[0])?n[0]:n}function j$(...n){const t=Ro(n);return t?on(j$(...n),Gy(t)):Ae((e,i)=>{HU([e,...mbe(n)])(i)})}function H$(n){return Ae((t,e)=>{let i=!1,r=0;t.subscribe(ut(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}const gbe=["youtubeContainer"];let VP=(()=>{class n{get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}constructor(e,i){this._ngZone=e,this._youtubeContainer=new Z,this._destroyed=new Z,this._playerChanges=new P(void 0),this._videoId=new P(void 0),this._height=new P(390),this._width=new P(640),this._startSeconds=new P(void 0),this._endSeconds=new P(void 0),this._suggestedQuality=new P(void 0),this._playerVars=new P(void 0),this._disableCookies=new P(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=Tc(i)}ngOnInit(){if(!this._isBrowser)return;let e=ne(!0);if(!window.YT||!window.YT.Player){const o=new Z;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>o.next(!0))},e=o.pipe(sn(1),Tr(!1))}const i=this._disableCookies.pipe(We(o=>o?"https://www.youtube-nocookie.com":void 0)),r=function bbe(n,t,e,i,r,o,s,a){const l=to([t,e,s]).pipe(DD(to([r,o])),We(([c,d])=>{const[f,g,y]=c,[C,R]=d;return f?{videoId:f,playerVars:y,width:C,height:R,host:g}:void 0}));return to([n,l,ne(a)]).pipe(function wbe(n){return on(j$(n),H$(([t,e])=>!e),We(([t])=>t))}(i),_h(xbe,void 0),dn())}(this._youtubeContainer,this._videoId,i,e,this._width,this._height,this._playerVars,this._ngZone).pipe(ei(o=>{this._playerChanges.next(o)}),function vbe(n){return mn(t=>t?q$(t)?ne(t):new mt(e=>{let i=!1,r=!1;const o=s=>{r=!0,i||(s.target.removeEventListener("onReady",o),e.next(s.target))};return t.addEventListener("onReady",o),()=>{i=!0,r||n(t)}}).pipe(sn(1),Tr(void 0)):ne(void 0))}(o=>{q$(o)||o.destroy()}),bn(this._destroyed),function fbe(n){return n?t=>z$(n)(t):t=>function hbe(n,t){const e=T(n)?n:()=>n;return T(t)?z$(t,{connector:e}):i=>new UC(i,e)}(new Z)(t)}());r.subscribe(o=>{this._player=o,o&&this._pendingPlayerState&&this._initializePlayer(o,this._pendingPlayerState),this._pendingPlayerState=void 0}),function _be(n,t,e){to([n,t,e]).subscribe(([i,r,o])=>i&&i.setSize(r,o))}(r,this._width,this._height),function ybe(n,t){to([n,t]).subscribe(([e,i])=>e&&i&&e.setPlaybackQuality(i))}(r,this._suggestedQuality),function Cbe(n,t,e,i,r,o){const s=to([e,i]).pipe(We(([d,f])=>({startSeconds:d,endSeconds:f}))),a=s.pipe(BP(n,d=>!!d&&!function Ebe(n){const t=n.getPlayerState();return t!==YT.PlayerState.UNSTARTED&&t!==YT.PlayerState.CUED}(d))),l=t.pipe(BP(n,(d,f)=>!!d&&d.videoId!==f));j(n.pipe(BP(to([t,s]),([d,f],g)=>!(!g||d==g.videoId&&!f.startSeconds&&!f.endSeconds))),l,a).pipe(DD(to([n,t,s,r])),We(([d,f])=>f),bn(o)).subscribe(([d,f,g,y])=>{!f||!d||(d.videoId=f,d.cueVideoById({videoId:f,suggestedQuality:y,...g}))})}(r,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),r.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,i){this._player?this._player.seekTo(e,i):this._getPendingState().seek={seconds:e,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:l}=i;switch(r){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=o&&e.setPlaybackRate(o),null!=s&&e.setVolume(s),null!=a&&(a?e.mute():e.unMute()),null!=l&&e.seekTo(l.seconds,l.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe(St(i=>i?U$(r=>{i.addEventListener(e,r)},r=>{try{i.removeEventListener&&i.removeEventListener(e,r)}catch{}}):ne()),i=>new mt(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),bn(this._destroyed))}}return n.\u0275fac=function(e){return new(e||n)(v(Lt),v(gr))},n.\u0275cmp=It({type:n,selectors:[["youtube-player"]],viewQuery:function(e,i){if(1&e&&An(gbe,5),2&e){let r;Vt(r=Bt())&&(i.youtubeContainer=r.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,i){1&e&&vt(0,"div",null,0)},encapsulation:2,changeDetection:0}),n})();function xbe(n,[t,e,i]){if(n&&e&&(n.playerVars!==e.playerVars||n.host!==e.host))n.destroy();else{if(!e)return void(n&&n.destroy());if(n)return n}const r=i.runOutsideAngular(()=>new YT.Player(t,e));return r.videoId=e.videoId,r.playerVars=e.playerVars,r.host=e.host,r}function q$(n){return"getPlayerStatus"in n}function BP(n,t){return on(DD(n),gi(([e,i])=>t(i,e)),We(([e])=>e))}let Dbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})();const Ibe=["tooltip"],W$=new Ue("mat-tooltip-scroll-strategy"),Abe={provide:W$,deps:[Ns],useFactory:function Tbe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Mbe=new Ue("mat-tooltip-default-options",{providedIn:"root",factory:function kbe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),K$="tooltip-panel",Z$=Fl({passive:!0});let Lbe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Jt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Qa(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Qa(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,l,c,d,f,g,y){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=f,this._defaultOptions=g,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Z,this._scrollStrategy=d,this._document=y,g&&(g.position&&(this.position=g.position),g.positionAtOrigin&&(this.positionAtOrigin=g.positionAtOrigin),g.touchGestures&&(this.touchGestures=g.touchGestures)),f.change.pipe(bn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(bn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,Z$)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new ig(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof Dt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(bn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${K$}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(bn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(bn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(bn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Nl(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(sn(1),bn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${K$}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Z$)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){Td()},n.\u0275dir=Se({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Yo=(()=>{class n extends Lbe{constructor(e,i,r,o,s,a,l,c,d,f,g,y){super(e,i,r,o,s,a,l,c,d,f,g,y),this._tooltipComponent=Bbe,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(v(Ns),v(Dt),v(ag),v(yr),v(Lt),v(nr),v(Hae),v(kc),v(W$),v(so,8),v(Mbe,8),v(fn))},n.\u0275dir=Se({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[it]}),n})(),Vbe=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Z,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(v(qi),v(Uo,8))},n.\u0275dir=Se({type:n}),n})(),Bbe=(()=>{class n extends Vbe{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(v(qi),v(Dt),v(Uo,8))},n.\u0275cmp=It({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&An(Ibe,7),2&e){let r;Vt(r=Bt())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&Te("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&ai("zoom",i.isVisible()?1:null)},features:[it],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(b(0,"div",0,1),Te("animationend",function(o){return i._handleAnimationEnd(o)}),b(2,"div",2),O(3),x()()),2&e&&(hn("mdc-tooltip--multiline",i._isMultiline),L("ngClass",i.tooltipClass),k(3),ln(i.message))},dependencies:[Od],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),Ube=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[Abe],imports:[r5,ea,dg,On,On,cg]}),n})(),zbe=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Jt(e)}get inset(){return this._inset}set inset(e){this._inset=Jt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=It({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(Bn("aria-orientation",i.vertical?"vertical":"horizontal"),hn("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),jbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,On]}),n})();class Hbe{}function UP(n){return n&&"function"==typeof n.connect&&!(n instanceof UC)}class Y${applyChanges(t,e,i,r,o){t.forEachOperation((s,a,l)=>{let c,d;if(null==s.previousIndex){const f=i(s,a,l);c=e.createEmbeddedView(f.templateRef,f.context,f.index),d=1}else null==l?(e.remove(a),d=3):(c=e.get(a),e.move(c,l),d=2);o&&o({context:c?.context,operation:d,record:s})})}detach(){}}class Gbe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Z,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}let $be=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wb=new Ue("_ViewRepeater"),qbe=["trigger"],Wbe=["panel"];function Kbe(n,t){if(1&n&&(b(0,"span",10),O(1),x()),2&n){const e=se();k(1),ln(e.placeholder)}}function Zbe(n,t){if(1&n&&(b(0,"span",14),O(1),x()),2&n){const e=se(2);k(1),ln(e.triggerValue)}}function Ybe(n,t){1&n&&Dn(0,0,["*ngSwitchCase","true"])}function Qbe(n,t){1&n&&(b(0,"span",11),he(1,Zbe,2,1,"span",12),he(2,Ybe,1,0,"ng-content",13),x()),2&n&&(L("ngSwitch",!!se().customTrigger),k(2),L("ngSwitchCase",!0))}function Xbe(n,t){if(1&n){const e=Yt();yc(),tp(),b(0,"div",15,16),Te("@transformPanel.done",function(r){return Xe(e),Ye(se()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return Xe(e),Ye(se()._handleKeydown(r))}),Dn(2,1),x()}if(2&n){const e=se();kx("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),L("ngClass",e.panelClass)("@transformPanel","showing"),Bn("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Jbe=[[["mat-select-trigger"]],"*"],e0e=["mat-select-trigger","*"],t0e={transformPanelWrap:Ho("transformPanelWrap",[Wi("* => void",dC("@transformPanel",[cC()],{optional:!0}))]),transformPanel:Ho("transformPanel",[Si("void",In({opacity:0,transform:"scale(1, 0.8)"})),Wi("void => showing",vr("120ms cubic-bezier(0, 0, 0.2, 1)",In({opacity:1,transform:"scale(1, 1)"}))),Wi("* => void",vr("100ms linear",In({opacity:0})))])};let X$=0;const J$=new Ue("mat-select-scroll-strategy"),i0e=new Ue("MAT_SELECT_CONFIG"),r0e={provide:J$,deps:[Ns],useFactory:function n0e(n){return()=>n.scrollStrategies.reposition()}},o0e=new Ue("MatSelectTrigger");class s0e{constructor(t,e){this.source=t,this.value=e}}const a0e=Ky($1(qy(a5(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Z}}))));let l0e=(()=>{class n extends a0e{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Go.required)??!1}set required(e){this._required=Jt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Jt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Jt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Qa(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,l,c,d,f,g,y,C,R){super(s,o,l,c,f),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=C,this._defaultOptions=R,this._panelOpen=!1,this._compareWith=(F,te)=>F===te,this._uid="mat-select-"+X$++,this._triggerAriaLabelledBy=null,this._destroy=new Z,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+X$++,this._panelDoneAnimatingStream=new Z,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=ov(()=>{const F=this.options;return F?F.changes.pipe(Tr(F),St(()=>j(...F.map(te=>te.onSelectionChange)))):this._ngZone.onStable.pipe(sn(1),St(()=>this.optionSelectionChanges))}),this.openedChange=new Ct,this._openedStream=this.openedChange.pipe(gi(F=>F),We(()=>{})),this._closedStream=this.openedChange.pipe(gi(F=>!F),We(()=>{})),this.selectionChange=new Ct,this.valueChange=new Ct,this.ngControl&&(this.ngControl.valueAccessor=this),null!=R?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=R.typeaheadDebounceInterval),this._scrollStrategyFactory=y,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(g)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Gbe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(dn(),bn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(bn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tr(null),bn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!Nl(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||Nl(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(sn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Gae(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=j(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(bn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),j(...this.options.map(i=>i._stateChanges)).pipe(bn(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(v(lg),v(qi),v(Lt),v(Zy),v(Dt),v(so,8),v(rv,8),v(Ra,8),v(K1,8),v(Ll,10),Ss("tabindex"),v(J$),v(H1),v(i0e,8))},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&(An(qbe,5),An(Wbe,5),An(XG,5)),2&e){let r;Vt(r=Bt())&&(i.trigger=r.first),Vt(r=Bt())&&(i.panel=r.first),Vt(r=Bt())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[it,Di]}),n})(),xb=(()=>{class n extends l0e{constructor(){super(...arguments),this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(bn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(),this._changeDetectorRef.detectChanges())})}ngAfterViewInit(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin())}open(){this._overlayWidth=this._getOverlayWidth(),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function Rle(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function Ple(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new s0e(this,e)}_getOverlayWidth(){return(this._preferredOverlayOrigin instanceof AP?this._preferredOverlayOrigin.elementRef:this._preferredOverlayOrigin||this._elementRef).nativeElement.getBoundingClientRect().width}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Jt(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275cmp=It({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(ii(r,o0e,5),ii(r,tm,5),ii(r,m5,5)),2&e){let o;Vt(o=Bt())&&(i.customTrigger=o.first),Vt(o=Bt())&&(i.options=o),Vt(o=Bt())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(e,i){1&e&&Te("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Bn("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),hn("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Wt([{provide:W1,useExisting:n},{provide:p5,useExisting:n}]),it],ngContentSelectors:e0e,decls:11,vars:11,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(_r(Jbe),b(0,"div",0,1),Te("click",function(){return i.toggle()}),b(3,"div",2),he(4,Kbe,2,1,"span",3),he(5,Qbe,3,2,"span",4),x(),b(6,"div",5)(7,"div",6),yc(),b(8,"svg",7),vt(9,"path",8),x()()()(),he(10,Xbe,3,9,"ng-template",9),Te("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=tr(1);Bn("aria-owns",i.panelOpen?i.id+"-panel":null),k(3),L("ngSwitch",i.empty),Bn("id",i._valueId),k(1),L("ngSwitchCase",!0),k(1),L("ngSwitchCase",!1),k(5),L("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[Od,dh,My,_1,XG,AP],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mat-mdc-select{display:inline-block;width:100%;outline:none}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}.mdc-menu-surface.mat-mdc-select-panel{width:100%;max-height:275px;position:static;outline:0;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-select-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) .mdc-menu-surface.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above .mdc-menu-surface.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[t0e.transformPanel]},changeDetection:0}),n})(),c0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[r0e],imports:[ea,dg,g5,On,cg,IC,g5,On]}),n})();const d0e=["input"],u0e=["label"],h0e=["*"],f0e=new Ue("mat-checkbox-default-options",{providedIn:"root",factory:eq});function eq(){return{color:"accent",clickAction:"check-indeterminate"}}const p0e={provide:Ma,useExisting:Xn(()=>zP),multi:!0};class m0e{}let g0e=0;const tq=eq(),_0e=$1(Wy(Ky(qy(class{constructor(n){this._elementRef=n}}))));let y0e=(()=>{class n extends _0e{get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Jt(e)}constructor(e,i,r,o,s,a,l){super(i),this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Ct,this.indeterminateChange=new Ct,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||tq,this.color=this.defaultColor=this._options.color||tq.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`${e}${++g0e}`}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Jt(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Jt(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Jt(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){Td()},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&(An(d0e,5),An(u0e,5),An(Xa,5)),2&e){let r;Vt(r=Bt())&&(i._inputElement=r.first),Vt(r=Bt())&&(i._labelElement=r.first),Vt(r=Bt())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[it]}),n})(),zP=(()=>{class n extends y0e{constructor(e,i,r,o,s,a){super("mat-mdc-checkbox-",e,i,r,o,s,a),this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"}}focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(e){const i=new m0e;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_onInputClick(){super._handleInputClick()}_onTouchTargetClick(){super._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(e){e.target&&this._labelElement.nativeElement.contains(e.target)&&e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(qi),v(Lt),Ss("tabindex"),v(Uo,8),v(f0e,8))},n.\u0275cmp=It({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-mdc-checkbox"],hostVars:12,hostBindings:function(e,i){2&e&&(Qs("id",i.id),Bn("tabindex",null)("aria-label",null)("aria-labelledby",null),hn("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mdc-checkbox--disabled",i.disabled)("mat-mdc-checkbox-disabled",i.disabled)("mat-mdc-checkbox-checked",i.checked))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[Wt([p0e]),it],ngContentSelectors:h0e,decls:15,vars:19,consts:[[1,"mdc-form-field",3,"click"],[1,"mdc-checkbox"],["checkbox",""],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"checked","indeterminate","disabled","id","required","tabIndex","blur","click","change"],["input",""],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[3,"for"],["label",""]],template:function(e,i){if(1&e&&(_r(),b(0,"div",0),Te("click",function(o){return i._preventBubblingFromLabel(o)}),b(1,"div",1,2)(3,"div",3),Te("click",function(){return i._onTouchTargetClick()}),x(),b(4,"input",4,5),Te("blur",function(){return i._onBlur()})("click",function(){return i._onInputClick()})("change",function(o){return i._onInteractionEvent(o)}),x(),vt(6,"div",6),b(7,"div",7),yc(),b(8,"svg",8),vt(9,"path",9),x(),tp(),vt(10,"div",10),x(),vt(11,"div",11),x(),b(12,"label",12,13),Dn(14),x()()),2&e){const r=tr(2);hn("mdc-form-field--align-end","before"==i.labelPosition),k(4),hn("mdc-checkbox--selected",i.checked),L("checked",i.checked)("indeterminate",i.indeterminate)("disabled",i.disabled)("id",i.inputId)("required",i.required)("tabIndex",i.tabIndex),Bn("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby)("name",i.name)("value",i.value),k(7),L("matRippleTrigger",r)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),k(1),L("for",i.inputId)}},dependencies:[Xa],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size, 48px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 48px)) / 2);width:var(--mdc-checkbox-state-layer-size, 48px);height:var(--mdc-checkbox-state-layer-size, 48px)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color, rgba(0, 0, 0, 0.38));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color, rgba(0, 0, 0, 0.38))}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, #fff)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mdc-theme-secondary, #018786));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox.mdc-ripple-upgraded--background-focused.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(.mdc-ripple-upgraded):focus.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF018786FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}@keyframes mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}}@keyframes mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786));background-color:var(--mdc-checkbox-selected-pressed-icon-color, var(--mdc-theme-secondary, #018786))}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color, rgba(0, 0, 0, 0.54));background-color:transparent}}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mat-mdc-checkbox .mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FF01878600000000FF018786}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px) / 2)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px)) / 2);width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px)}.mat-mdc-checkbox .mdc-checkbox:hover .mdc-checkbox__native-control:not([disabled])~.mdc-checkbox__ripple{opacity:.04;transform:scale(1);transition:opacity 80ms 0 cubic-bezier(0, 0, 0.2, 1),transform 80ms 0 cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__native-control:not([disabled]):focus~.mdc-checkbox__ripple{opacity:.16}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__native-control:focus:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, black)}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),nq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({}),n})(),w0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,em,nq,On,nq]}),n})(),x0e=(()=>{class n{constructor(){this.editVideoEmitter=new Ct,this.deleteVideoEmitter=new Ct,this.videoIdEmitter=new Ct}ngOnInit(){this.publishDate=jP(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}deleteVideo(e){this.deleteVideoEmitter.emit(e)}emitVideoId(e){this.videoIdEmitter.emit(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",videoIdEmitter:"videoIdEmitter"},decls:22,vars:11,consts:[[1,"yt-card"],[1,"thumb",3,"click"],["alt","video image",3,"src"],[1,"details"],[1,"info"],[1,"title",3,"click"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Go to Video Details",1,"go-to-settings-icon",3,"click"],["matTooltip","Delete Video from your collection",1,"delete-action-icon",3,"click"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1),Te("click",function(){return r.emitVideoId(r.videoDetails.id)}),vt(2,"img",2),x(),b(3,"div",3)(4,"div",4)(5,"div",5),Te("click",function(){return r.emitVideoId(r.videoDetails.id)}),O(6),un(7,"slice"),x(),b(8,"div",6),O(9),x(),b(10,"div",7)(11,"span",8),O(12),un(13,"number"),x(),O(14," \xb7 "),b(15,"span"),O(16),x()()()(),b(17,"div",9)(18,"mat-icon",10),Te("click",function(){return r.editVideo(r.videoDetails.id)}),O(19,"edit"),x(),b(20,"mat-icon",11),Te("click",function(){return r.deleteVideo(r.videoDetails.id)}),O(21,"delete"),x()()()),2&i&&(k(2),L("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,Bo),k(4),_n(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?Md(7,5,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),k(3),ln(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),k(3),_n("",Mn(13,9,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),k(4),_n("",r.publishDate," ago"))},dependencies:[Ao,Yo,Yp,Zp],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.go-to-settings-icon[_ngcontent-%COMP%]:hover{color:#436c21}.delete-action-icon[_ngcontent-%COMP%]:hover{color:#6b0b0b}"]})}return n})();function jP(n){let t=Math.floor(((new Date).valueOf()-n.valueOf())/1e3),e=t/31536e3;return e>1?Math.floor(e)+" years":(e=t/2592e3,e>1?Math.floor(e)+" months":(e=t/86400,e>1?Math.floor(e)+" days":(e=t/3600,e>1?Math.floor(e)+" hours":(e=t/60,e>1?Math.floor(e)+" minutes":Math.floor(t)+" seconds"))))}let Zh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["fullscreen-loader"]],decls:2,vars:0,consts:[[1,"cssload-container"],[1,"cssload-speeding-wheel"]],template:function(i,r){1&i&&(b(0,"div",0),vt(1,"div",1),x())},styles:['.cssload-container[_ngcontent-%COMP%]{position:fixed;width:100%;inset:0;background-color:#ffffffb3;z-index:9999}.cssload-speeding-wheel[_ngcontent-%COMP%]{content:"";display:block;position:absolute;left:48%;top:40%;width:33px;height:33px;margin:0 auto;border:4px solid rgb(0,0,0);border-radius:50%;border-left-color:transparent;border-right-color:transparent;animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-o-animation:cssload-spin .5s infinite linear;-ms-animation:cssload-spin .5s infinite linear;-webkit-animation:_ngcontent-%COMP%_cssload-spin .5s infinite linear;-moz-animation:cssload-spin .5s infinite linear}@keyframes _ngcontent-%COMP%_cssload-spin{to{transform:rotate(360deg)}}']})}return n})();function C0e(n,t){if(1&n){const e=Yt();b(0,"div")(1,"p"),O(2,"Offer Deadline:"),x(),b(3,"input",10),Te("ngModelChange",function(r){return Xe(e),Ye(se().bidDeadline=r)}),un(4,"date"),x()()}if(2&n){const e=se();k(3),L("ngModel",e.bidDeadline)("min",e.today)("max",Ey(4,3,e.deadline,"yyyy-MM-dd"))}}const E0e=function(n){return{yourBidAmount:n}};let D0e=(()=>{class n{constructor(e,i,r,o,s){this.firestore=e,this.communityService=i,this.dialogRef=r,this.data=o,this.snackbar=s,this.videoTitle=o.videoTitle,this.languageRequested=o.language,this.videoId=o.videoId,this.requestedByID=o.requestedByID,this.fileName=o.filename,this.today=this.today=(new Date).toISOString().split("T")[0]}ngOnInit(){this.firestore.collection("helpRequests",e=>e.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(e=>{e.forEach(i=>{this.deadline=i.get("deadline")})})}placeBid(e,i){let r,o;this.communityService.getUserNameFromEmail(this.data.userEmail).subscribe(s=>{r=s}),this.communityService.getSharedSubID(this.requestedByID,this.videoId,this.data.requestDetails.iso,this.fileName).subscribe(s=>{o=null==s?"":s}),this.firestore.collection("users",s=>s.where("uid","==",this.requestedByID)).get().subscribe(s=>{s.forEach(a=>{this.requestorEmail=a.get("email");const l={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Offer for helping with subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:r+" place the below bid for this subtitle.\nBid: "+e+"\u20ac\nDeadline: "+i,videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:o};this.firestore.collection("users").doc(this.requestedByID).collection("messages").add(l).then(d=>{d.update({id:d.id}),this.firestore.collection("helpRequests",f=>f.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(f=>{f.forEach(g=>{const y=g.get("offerList");if(Array.isArray(y)){const C=y.find(R=>R.userEmail===this.data.userEmail);C?(C.userBid=e,C.userDeadline=i,g.ref.update({offerList:y})):(y.push({userEmail:this.data.userEmail,userBid:e,userDeadline:i}),g.ref.update({offerList:y}))}else g.ref.update({offerList:[{userEmail:this.data.userEmail,userBid:e,userDeadline:i}]})})})}).catch(d=>this.snackbar.open("No offer message has been sent","DISMISS",{duration:2e3}))})})}static#e=this.\u0275fac=function(i){return new(i||n)(v(oa),v(Zl),v(nl),v(Vs),v(Ls))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-place-a-bid"]],decls:24,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"language-requested"],[1,"bid-details"],[1,"input-container"],[4,"ngIf"],["matInput","","type","number","placeholder","Enter your bid","min","1","step","0.5","lang","en",1,"mybid",3,"ngModel","ngModelChange"],["bidInput",""],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["type","date","lang","en",3,"ngModel","min","max","ngModelChange"]],template:function(i,r){if(1&i&&(b(0,"h2",0),O(1),x(),b(2,"div",1)(3,"p",2),O(4),x(),b(5,"p",2),O(6),x(),b(7,"div",3)(8,"p"),O(9),x(),b(10,"p"),O(11,"Currency: \u20ac"),x(),b(12,"div",4),he(13,C0e,5,6,"div",5),x(),b(14,"p"),O(15,"Offer Bid: "),x(),b(16,"div",4)(17,"input",6,7),Te("ngModelChange",function(s){return r.yourBidAmount=s}),x()()(),b(19,"mat-dialog-actions")(20,"button",8),O(21,"Cancel"),x(),b(22,"button",9),Te("click",function(){return r.placeBid(r.yourBidAmount,"No"===r.deadline?"No":r.bidDeadline)}),O(23,"Place Bid"),x()()()),2&i){const o=tr(18);k(1),ln(r.videoTitle),k(3),zp("Subtitle: ",r.fileName,".",r.data.requestDetails.format,""),k(2),_n("Language: ",r.languageRequested,""),k(3),_n("Deadline: ",r.deadline,""),k(4),L("ngIf","No"!=r.deadline),k(4),L("ngModel",r.yourBidAmount),k(2),hn("right-bottom","No"===r.deadline),k(1),L("mat-dialog-close",null),k(2),L("disabled",!("No"===r.deadline&&o.value||o.value&&r.bidDeadline))("mat-dialog-close",kd(12,E0e,r.yourBidAmount))}},dependencies:[xi,Pa,ds,ak,$o,mk,br,Vl,So,uo,ho,To,Ry],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.input-container[_ngcontent-%COMP%]{width:100%}.mybid[_ngcontent-%COMP%]{display:inline-block;width:calc(100% - 20px);padding:5px;font-size:16px;height:25px;vertical-align:middle}.current-bid[_ngcontent-%COMP%]{font-size:large;font-weight:600}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}input[type=date][_ngcontent-%COMP%]{width:95%;padding:10px;margin-bottom:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}.right-bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px;position:absolute;bottom:0;right:0}"]})}return n})(),mg=(()=>{class n{constructor(e){this.snackbar=e}showNotification(e,i){this.snackbar.open(e,i,{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom"})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Ls))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iq="firebasestorage.googleapis.com",rq="storageBucket";class wr extends W.ZR{constructor(t,e,i=0){super(HP(t),`Firebase Storage: ${e} (${HP(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return HP(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var sr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(sr||{});function HP(n){return"storage/"+n}function GP(){return new wr(sr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function oq(){return new wr(sr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function sq(){return new wr(sr.CANCELED,"User canceled the upload/download.")}function aq(){return new wr(sr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gg(n){return new wr(sr.INVALID_ARGUMENT,n)}function lq(){return new wr(sr.APP_DELETED,"The Firebase app was deleted.")}function cq(n){return new wr(sr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Cb(n,t){return new wr(sr.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Eb(n){throw new wr(sr.INTERNAL_ERROR,"Internal error: "+n)}class Qo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Qo.makeFromUrl(t,e)}catch{return new Qo(t,"")}if(""===i.path)return i;throw function F0e(n){return new wr(sr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(Ve){Ve.path_=decodeURIComponent(Ve.path)}const f=e.replace(/[.]/g,"\\."),ye=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Ve){"/"===Ve.path.charAt(Ve.path.length-1)&&(Ve.path_=Ve.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${e===iq?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let Ve=0;Ve<ye.length;Ve++){const _t=ye[Ve],At=_t.regex.exec(t);if(At){let J=At[_t.indices.path];J||(J=""),i=new Qo(At[_t.indices.bucket],J),_t.postModify(i);break}}if(null==i)throw function O0e(n){return new wr(sr.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class U0e{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function ID(n){return"string"==typeof n||n instanceof String}function dq(n){return $P()&&n instanceof Blob}function $P(){return typeof Blob<"u"}function qP(n,t,e,i){if(i<t)throw gg(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw gg(`Invalid value for '${n}'. Expected ${e} or less.`)}function $c(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function uq(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var _g=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(_g||{});function hq(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class q0e{constructor(t,e,i,r,o,s,a,l,c,d,f,g=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,C)=>{this.resolve_=y,this.reject_=C,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function H0e(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=GP();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?lq():sq():oq())};this.canceled_?e(0,new SD(!1,null,!0)):this.backoffId_=function z0e(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function d(...F){c||(c=!0,t.apply(null,F))}function f(F){r=setTimeout(()=>{r=null,n(y,l())},F)}function g(){o&&clearTimeout(o)}function y(F,...te){if(c)return void g();if(F)return g(),void d.call(null,F,...te);if(l()||s)return g(),void d.call(null,F,...te);let ye;i<64&&(i*=2),1===a?(a=2,ye=0):ye=1e3*(i+Math.random()),f(ye)}let C=!1;function R(F){C||(C=!0,g(),!c&&(null!==r?(F||(a=2),clearTimeout(r),f(0)):F||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,R(!0)},e),R}((i,r)=>{if(r)return void i(!1,new SD(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===_g.NO_ERROR,l=o.getStatus();if(!a||hq(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===_g.ABORT;return void i(!1,new SD(!1,null,d))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new SD(c,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function j0e(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class SD{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function J0e(...n){const t=function X0e(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if($P())return new Blob(n);throw new wr(sr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class WP{constructor(t,e){this.data=t,this.contentType=e||null}}function KP(n,t){switch(n){case aa.RAW:return new WP(fq(t));case aa.BASE64:case aa.BASE64URL:return new WP(pq(n,t));case aa.DATA_URL:return new WP(function iwe(n){const t=new mq(n);return t.base64?pq(aa.BASE64,t.rest):function nwe(n){let t;try{t=decodeURIComponent(n)}catch{throw Cb(aa.DATA_URL,"Malformed data URL.")}return fq(t)}(t.rest)}(t),function rwe(n){return new mq(n).contentType}(t))}throw GP()}function fq(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function pq(n,t){switch(n){case aa.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Cb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Cb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function twe(n){if(typeof atob>"u")throw function B0e(n){return new wr(sr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Cb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class mq{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Cb(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function owe(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Yl{constructor(t,e){let i=0,r="";dq(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(dq(this.data_)){const r=function ewe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Yl(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Yl(i,!0)}}static getBlob(...t){if($P()){const e=t.map(i=>i instanceof Yl?i.data_:i);return new Yl(J0e.apply(null,e))}{const e=t.map(s=>ID(s)?KP(aa.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new Yl(r,!0)}}uploadData(){return this.data_}}function ZP(n){let t;try{t=JSON.parse(n)}catch{return null}return function $0e(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function gq(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function lwe(n,t){return t}class ms{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||lwe}}let TD=null;function Db(){if(TD)return TD;const n=[];n.push(new ms("bucket")),n.push(new ms("generation")),n.push(new ms("metageneration")),n.push(new ms("name","fullPath",!0));const e=new ms("name");e.xform=function t(o,s){return function cwe(n){return!ID(n)||n.length<2?n:gq(n)}(s)},n.push(e);const r=new ms("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new ms("timeCreated")),n.push(new ms("updated")),n.push(new ms("md5Hash",null,!0)),n.push(new ms("cacheControl",null,!0)),n.push(new ms("contentDisposition",null,!0)),n.push(new ms("contentEncoding",null,!0)),n.push(new ms("contentLanguage",null,!0)),n.push(new ms("contentType",null,!0)),n.push(new ms("metadata","customMetadata",!0)),TD=n,TD}function _q(n,t,e){const i=ZP(t);return null===i?null:function uwe(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function dwe(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new Qo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function YP(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const yq="prefixes",vq="items";class Ql{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xl(n){if(!n)throw GP()}function AD(n,t){return function e(i,r){const o=_q(n,r,t);return Xl(null!==o),o}}function yg(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function R0e(){return new wr(sr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function M0e(){return new wr(sr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function k0e(n){return new wr(sr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function P0e(n){return new wr(sr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Ib(n){const t=yg(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function A0e(n){return new wr(sr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function bq(n,t,e){const r=$c(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Ql(r,"GET",AD(n,e),s);return a.errorHandler=Ib(t),a}function _we(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const a=$c(t.bucketOnlyServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Ql(a,"GET",function mwe(n,t){return function e(i,r){const o=function pwe(n,t,e){const i=ZP(e);return null===i?null:function fwe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[yq])for(const r of e[yq]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new Qo(t,o));i.prefixes.push(s)}if(e[vq])for(const r of e[vq]){const o=n._makeStorageReference(new Qo(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Xl(null!==o),o}}(n,t.bucket),c);return d.urlParams=o,d.errorHandler=yg(t),d}function xq(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function wwe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class kD{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function QP(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Xl(!1)}return Xl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Dwe={STATE_CHANGED:"state_changed"},gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function XP(n){switch(n){case"running":case"pausing":case"canceling":return gs.RUNNING;case"paused":return gs.PAUSED;case"success":return gs.SUCCESS;case"canceled":return gs.CANCELED;default:return gs.ERROR}}class Iwe{constructor(t,e,i){if(function G0e(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function vg(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let Dq=null;class Swe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_g.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_g.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_g.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Eb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class Twe extends Swe{initXhr(){this.xhr_.responseType="text"}}function rl(){return Dq?Dq():new Twe}class Iq{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Db(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(sr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(hq(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=oq()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(sr.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function xwe(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=xq(t,i,r),a={name:s.fullPath},l=$c(o,n.host,n._protocol),d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=YP(s,e),C=new Ql(l,"POST",function y(R){let F;QP(R);try{F=R.getResponseHeader("X-Goog-Upload-URL")}catch{Xl(!1)}return Xl(ID(F)),F},n.maxUploadRetryTime);return C.urlParams=a,C.headers=d,C.body=f,C.errorHandler=yg(t),C}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,rl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Cwe(n,t,e,i){const l=new Ql(e,"POST",function o(c){const d=QP(c,["active","final"]);let f=null;try{f=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Xl(!1)}f||Xl(!1);const g=Number(f);return Xl(!isNaN(g)),new kD(g,i.size(),"final"===d)},n.maxUploadRetryTime);return l.headers={"X-Goog-Upload-Command":"query"},l.errorHandler=yg(t),l}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,rl,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new kD(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function Ewe(n,t,e,i,r,o,s,a){const l=new kD(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=i.size()),i.size()!==l.total)throw function L0e(){return new wr(sr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const c=l.total-l.current;let d=c;r>0&&(d=Math.min(d,r));const f=l.current;let y="";y=0===d?"finalize":c===d?"upload, finalize":"upload";const C={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},R=i.slice(f,f+d);if(null===R)throw aq();const ye=new Ql(e,"POST",function F(Ve,_t){const At=QP(Ve,["active","final"]),ue=l.current+d,J=i.size();let de;return de="final"===At?AD(t,o)(Ve,_t):null,new kD(ue,J,"final"===At,de)},t.maxUploadRetryTime);return ye.headers=C,ye.body=R.uploadData(),ye.progressCallback=a||null,ye.errorHandler=yg(n),ye}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(l){return this._error=l,void this._transition("error")}const a=this._ref.storage._makeRequest(s,rl,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=bq(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,rl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Cq(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let ye="";for(let Ve=0;Ve<2;Ve++)ye+=Math.random().toString().slice(2);return ye}();s["Content-Type"]="multipart/related; boundary="+l;const c=xq(t,i,r),d=YP(c,e),y=Yl.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+d+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===y)throw aq();const C={name:c.fullPath},R=$c(o,n.host,n._protocol),te=n.maxUploadRetryTime,ie=new Ql(R,"POST",AD(n,e),te);return ie.urlParams=C,ie.headers=s,ie.body=y.uploadData(),ie.errorHandler=yg(t),ie}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,rl,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=sq(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=XP(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Iwe(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(XP(this._state)){case gs.SUCCESS:vg(this._resolve.bind(null,this.snapshot))();break;case gs.CANCELED:case gs.ERROR:vg(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(XP(this._state)){case gs.RUNNING:case gs.PAUSED:t.next&&vg(t.next.bind(t,this.snapshot))();break;case gs.SUCCESS:t.complete&&vg(t.complete.bind(t))();break;default:t.error&&vg(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Yh{constructor(t,e){this._service=t,this._location=e instanceof Qo?e:Qo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Yh(t,e)}get root(){const t=new Qo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gq(this._location.path)}get storage(){return this._service}get parent(){const t=function swe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Qo(this._location.bucket,t);return new Yh(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw cq(t)}}function Tq(n,t,e){return JP.apply(this,arguments)}function JP(){return(JP=(0,$e.Z)(function*(n,t,e){const r=yield Aq(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield Tq(n,t,r.nextPageToken))})).apply(this,arguments)}function Aq(n,t){null!=t&&"number"==typeof t.maxResults&&qP("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=_we(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,rl)}function Uwe(n){n._throwIfRoot("getDownloadURL");const t=function ywe(n,t,e){const r=$c(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new Ql(r,"GET",function gwe(n,t){return function e(i,r){const o=_q(n,r,t);return Xl(null!==o),function hwe(n,t,e,i){const r=ZP(t);if(null===r||!ID(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const f=n.fullPath;return $c("/b/"+s(n.bucket)+"/o/"+s(f),e,i)+uq({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return a.errorHandler=Ib(t),a}(n.storage,n._location,Db());return n.storage.makeRequestWithTokens(t,rl).then(e=>{if(null===e)throw function V0e(){return new wr(sr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function kq(n,t){const e=function awe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Qo(n._location.bucket,e);return new Yh(n.storage,i)}function Mq(n,t){if(n instanceof eO){const e=n;if(null==e._bucket)throw function N0e(){return new wr(sr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rq+"' property when initializing the app?")}();const i=new Yh(e,e._bucket);return null!=t?Mq(i,t):i}return void 0!==t?kq(n,t):n}function Gwe(n,t){if(t&&function jwe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof eO)return function Hwe(n,t){return new Yh(n,t)}(n,t);throw gg("To use ref(service, url), the first argument must be a Storage instance.")}return Mq(n,t)}function Rq(n,t){const e=t?.[rq];return null==e?null:Qo.makeFromBucketSpec(e,n)}class eO{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=iq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Qo.makeFromBucketSpec(r,this._host):Rq(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Qo.makeFromBucketSpec(this._url,t):Rq(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){qP("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){qP("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,$e.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,$e.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Yh(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new U0e(lq());{const s=function Q0e(n,t,e,i,r,o,s=!0){const a=uq(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function Z0e(n,t){t&&(n["X-Firebase-GMPID"]=t)}(c,t),function W0e(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(c,e),function K0e(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(c,o),function Y0e(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(c,i),new q0e(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,$e.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const Pq="@firebase/storage";function Nq(n,t){return Gwe(n=(0,W.m9)(n),t)}function exe(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new eO(e,i,r,t,Rs.SDK_VERSION)}!function txe(){(0,Rs._registerComponent)(new tl.wA("storage",exe,"PUBLIC").setMultipleInstances(!0)),(0,Rs.registerVersion)(Pq,"0.12.5",""),(0,Rs.registerVersion)(Pq,"0.12.5","esm2017")}();class MD{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Vq{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new MD(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new MD(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new MD(s,this,this._ref)):{next:e.next?s=>e.next(new MD(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class Bq{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new qc(t,this._service))}get items(){return this._delegate.items.map(t=>new qc(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class qc{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function Jwe(n,t){return kq(n,t)}(this._delegate,t);return new qc(e,this.storage)}get root(){return new qc(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new qc(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Vq(function qwe(n,t,e){return function Fwe(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new Iq(n,new Yl(t),e)}(n=(0,W.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=aa.RAW,i){this._throwIfRoot("putString");const r=KP(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Vq(new Iq(this._delegate,new Yl(r.data,!0),o),this)}listAll(){return function Ywe(n){return function Lwe(n){const t={prefixes:[],items:[]};return Tq(n,t).then(()=>t)}(n=(0,W.m9)(n))}(this._delegate).then(t=>new Bq(t,this.storage))}list(t){return function Zwe(n,t){return Aq(n=(0,W.m9)(n),t)}(this._delegate,t||void 0).then(e=>new Bq(e,this.storage))}getMetadata(){return function Wwe(n){return function Vwe(n){n._throwIfRoot("getMetadata");const t=bq(n.storage,n._location,Db());return n.storage.makeRequestWithTokens(t,rl)}(n=(0,W.m9)(n))}(this._delegate)}updateMetadata(t){return function Kwe(n,t){return function Bwe(n,t){n._throwIfRoot("updateMetadata");const e=function vwe(n,t,e,i){const o=$c(t.fullServerUrl(),n.host,n._protocol),a=YP(e,i),c=n.maxOperationRetryTime,d=new Ql(o,"PATCH",AD(n,i),c);return d.headers={"Content-Type":"application/json; charset=utf-8"},d.body=a,d.errorHandler=Ib(t),d}(n.storage,n._location,t,Db());return n.storage.makeRequestWithTokens(e,rl)}(n=(0,W.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function Qwe(n){return Uwe(n=(0,W.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Xwe(n){return function zwe(n){n._throwIfRoot("deleteObject");const t=function bwe(n,t){const i=$c(t.fullServerUrl(),n.host,n._protocol),a=new Ql(i,"DELETE",function s(l,c){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Ib(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,rl)}(n=(0,W.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw cq(t)}}class Uq{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(zq(t))throw gg("ref() expected a child path but got a URL, use refFromURL instead.");return new qc(Nq(this._delegate,t),this)}refFromURL(t){if(!zq(t))throw gg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Qo.makeFromUrl(t,this._delegate.host)}catch{throw gg("refFromUrl() expected a valid full URL but got an invalid one.")}return new qc(Nq(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function Lq(n,t,e,i={}){!function $we(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,W.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function zq(n){return/^[A-Za-z]+:\/\//.test(n)}function oxe(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new Uq(e,i)}function jq(n){const t=function axe(n){return new mt(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(pC(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(We(e=>e.bytesTransferred/e.totalBytes*100))}}function RD(n){return{getDownloadURL:()=>ne(void 0).pipe(Aj,St(()=>n.getDownloadURL()),Lr),getMetadata:()=>ne(void 0).pipe(Aj,St(()=>n.getMetadata()),Lr),delete:()=>B(n.delete()),child:t=>RD(n.child(t)),updateMetadata:t=>B(n.updateMetadata(t)),put:(t,e)=>jq(n.put(t,e)),putString:(t,e,i)=>jq(n.putString(t,e,i)),list:t=>B(n.list(t)),listAll:()=>B(n.listAll())}}!function sxe(n){const t={TaskState:gs,TaskEvent:Dwe,StringFormat:aa,Storage:Uq,Reference:qc};n.INTERNAL.registerComponent(new tl.wA("storage-compat",oxe,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.8")}(ta.Z);const lxe=new Ue("angularfire2.storageBucket"),cxe=new Ue("angularfire2.storage.maxUploadRetryTime"),dxe=new Ue("angularfire2.storage.maxOperationRetryTime"),uxe=new Ue("angularfire2.storage.use-emulator");let bg=(()=>{class n{storage;constructor(e,i,r,o,s,a,l,c,d,f){const g=xv(e,s,i);this.storage=sE(`${g.name}.storage.${r}`,"AngularFireStorage",g.name,()=>{const y=s.runOutsideAngular(()=>g.storage(r||void 0)),C=d;return C&&y.useEmulator(...C),l&&y.setMaxUploadRetryTime(l),c&&y.setMaxOperationRetryTime(c),y},[l,c])}ref(e){return RD(this.storage.ref(e))}refFromURL(e){return RD(this.storage.refFromURL(e))}upload(e,i,r){return RD(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)(Y(_m),Y(ym,8),Y(lxe,8),Y(gr),Y(Lt),Y(oE),Y(cxe,8),Y(dxe,8),Y(uxe,8),Y(rE,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),hxe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=qt({})}return n})(),fxe=(()=>{class n{constructor(){ta.Z.registerVersion("angularfire",pm.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=qt({providers:[bg],imports:[hxe]})}return n})();const Sb={_origin:"https://api.emailjs.com"};class Gq{constructor(t){this.status=t.status,this.text=t.responseText}}const qq_send=(n,t,e,i)=>{const r=i||Sb._userID;return((n,t,e)=>{if(!n)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"})(r,n,t),((n,t,e={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new Gq(s);200===a.status||"OK"===a.text?i(a):r(a)}),o.addEventListener("error",({target:s})=>{r(new Gq(s))}),o.open("POST",Sb._origin+n,!0),Object.keys(e).forEach(s=>{o.setRequestHeader(s,e[s])}),o.send(t)}))("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:n,template_id:t,template_params:e}),{"Content-type":"application/json"})};let _xe=(()=>{class n{constructor(e){this.notifier=e}sendEmail(e,i){qq_send("service_trizanq","template_kbddrwk",{from_email:e,to_email:i},"mzL-kaIaqUfwXy_py").then(()=>{this.notifier.showNotification("Invitation has been sent to "+i+" successfully!","OK")}).catch(r=>{this.notifier.showNotification(r,"DISMISS")})}sendShareSubEmail(e,i,r,o){qq_send("service_trizanq","template_x0t27ro",{from_email:e,to_email:i,filename:r,videoId:o},"mzL-kaIaqUfwXy_py").then(()=>{this.notifier.showNotification("Notification has been sent to "+i+" successfully!","OK")}).catch(s=>{this.notifier.showNotification(s,"DISMISS")})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(mg))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fa=(()=>{class n{constructor(e,i,r,o,s,a){this.firestore=e,this.notifier=i,this.storage=r,this.snackbar=o,this.communityService=s,this.emailService=a}getSubtitleLanguages(e,i){const r=this.firestore.collection("users").doc(e).collection("videos").doc(i);return r.collection("subtitleLanguages").snapshotChanges().pipe(St(o=>o.length?to(o.map(s=>r.collection("subtitleLanguages").doc(s.payload.doc.id).collection("subtitles").snapshotChanges().pipe(We(a=>a.map(l=>l.payload.doc.data()))))):ne([])),We(o=>o.flat()))}requestCommunityHelp(e,i,r,o,s,a,l,c){const d=this.firestore.collection("helpRequests");null==c&&(c="");const f={requestedBy:e.displayName,requestedByID:e.uid,timestamp:Date.now(),videoId:i,language:r,status:"open",iso:o,filename:s,format:a,deadline:l,offerList:[],subtitleId:c};let g;g=this.firestore.collection("helpRequests",""==c?y=>y.where("filename","==",s).where("language","==",r).where("format","==",a).where("requestedByID","==",e.uid):y=>y.where("filename","==",s).where("language","==",r).where("format","==",a).where("requestedByID","==",e.uid).where("subtitleId","==",c)),g.get().subscribe(y=>{y.empty?(d.add(f),this.notifier.showNotification("Subtitle has been successfully requested for a bid.","OK")):g.get().toPromise().then(C=>{"closed"==C.docs[0].data().status?C.docs[0].ref.update({status:"open",deadline:l,offerList:[]}).then(()=>{this.notifier.showNotification("Subtitle has been successfully requested for a bid.","OK")}):this.notifier.showNotification("Subtitle has been already requested for a bid.","DIMISS")})})}addSubtitle(e,i,r,o,s,a,l){const c=this.firestore.doc(`users/${r}/videos/${e}/subtitleLanguages/${i.language}`),f=l||o;c.set({humanReadable:i.name,ISOcode:i.language}).then(()=>{const g=c.collection("/subtitles").doc(f),y={lastUpdated:Date.now(),fileName:o,fullFileName:`${o}.${s}`,format:s,language:i.name,iso:i.language,usersRights:[{userUid:r,right:"Owner",userEmail:a}],isUsed:!1,isUsedBy:"",subtitleSharedId:""};g.set(y)}),this.createEmptyFileToStorage(r,e,i.language,o+"."+s)}createEmptyFileToStorage(e,i,r,o){let a;a=this.storage.ref(`subtitles/${e}/${i}/${r}/${o}`);const l=new Blob([""],{type:"text; charset=utf8"});a.put(l).then(()=>{const c=this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${o.split(".")[0]}`);a.getDownloadURL().pipe(sn(1)).subscribe(d=>{c.update({storageUrl:d,lastUpdated:Date.now()}).then(()=>{this.snackbar.open("Subtitle Created!","OK",{duration:3e3})}).catch(f=>{this.snackbar.open("Problem creating subtitle","DISMISS",{duration:4e3})})})},c=>{this.snackbar.open(c.message)})}deleteSubtitle(e,i,r,o){return this.firestore.doc(`users/${i}/videos/${e}/subtitleLanguages/${r}/subtitles/${o}`).delete()}shareSubtitle(e,i,r,o,s,a,l,c,d,f){this.addUserRightOnSub(e,i,r,o,s,a,l,c,d,f)}getUserIdByEmail(e){return this.firestore.collection("users",i=>i.where("email","==",e)).valueChanges({idField:"uid"}).pipe(We(i=>i&&i.length>0?i[0].uid:null))}updateSharedVideosUserRights(e,i,r,o,s,a){var l=this;const c=s.filter(g=>"Owner"==g.right)[0],d=this.firestore.collection("users").doc(c.userUid).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(o);return this.firestore.collection("sharedVideos",g=>g.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",o).where("id","==",a)).get().toPromise().then(function(){var g=(0,$e.Z)(function*(y){y.empty?l.notifier.showNotification("Document does not exist.","DIMISS"):d.get().toPromise().then(C=>{if(C.exists&&JSON.stringify(C.data()?.usersRights)!=JSON.stringify(s)){d.update({usersRights:s});const R=y.docs[0].ref;null==C.data().isUsed&&C.ref.update({isUsed:!1}),R.update({usersRights:s}).then(()=>{l.notifier.showNotification("User rights have been updated.","OK")}).catch(F=>{l.notifier.showNotification("Error updating user rights: "+F.message,"DIMISS")})}})});return function(y){return g.apply(this,arguments)}}())}updateSharedSubtitleRights(e,i,r,o,s,a,l,c){l.some(f=>"Remove right"===f.right)?this.removeUserRightFromSub(e,i,r,s,l,c):this.updateSharedVideosUserRights(e,i,r,s,l,c)}resetUserRightByEmail(e,i,r,o,s,a){return this.firestore.collection("sharedVideos",c=>c.where("videoId","==",r).where("iso","==",o).where("language","==",s).where("fileName","==",i).where("id","==",a)).get().toPromise().then(c=>{if(!c.empty)return c.docs[0].data().usersRights.filter(C=>C.userEmail==e).map(C=>C.right);this.notifier.showNotification("Document does not exist.","DIMISS")})}transferOwnership(e,i,r,o,s,a,l,c,d){let f;this.emailService.sendEmail(e,i),this.communityService.getUserNameFromEmail(e).subscribe(g=>{f=g;const y=this.firestore.collection("sharedVideos",te=>te.where("videoId","==",o).where("iso","==",s).where("language","==",a).where("fileName","==",r).where("id","==",d));let C="";const R=i;y.get().subscribe(te=>{te.empty||(C=te.docs[0].data().requestOwnerEmail,te.docs[0].ref.update({requestOwnerEmail:R}))});const F={sender:e,recipient:i,subject:"Invitation to accept ownership for subtitle: "+r+"."+l,createdAt:Date.now(),status:"unread",subtitle_name:r,body:f+" invited you to own a subtitle.\nPlease click the button below to accept or decline the transfer ownership invitation",videoId:o,iso:s,language:a,format:l,videoTitle:c,subtitleId:d};this.getUserIdByEmail(i).subscribe(te=>{(""!=te||null!=te||null!=te)&&this.firestore.collection("users").doc(te).collection("messages").add(F).then(ye=>{ye.update({id:ye.id}),this.notifier.showNotification("Invitation has been sent","OK")}).catch(ye=>this.notifier.showNotification("There was an error trying to send the invitation "+ye,"DISMISS")),""!=C&&this.getUserIdByEmail(C).subscribe(ie=>{this.removeMessageFromUser(ie,o,s,a,r,d)})})})}getUsersRightsFromSharedSub(e,i,r,o,s,a){var l=this;return(0,$e.Z)(function*(){const f=yield l.firestore.collection("sharedVideos").ref.where("videoId","==",i).where("iso","==",r).where("language","==",a).where("fileName","==",o).where("id","==",s).get();try{return f.docs.length>0&&f.docs[0].data().usersRights||[]}catch(g){return console.error("Error getting subtitle document:",g),[]}})()}addUserRightOnSub(e,i,r,o,s,a,l,c,d,f){const g=this.firestore.collection("sharedVideos"),C={id:this.firestore.createId(),lastUpdated:Date.now(),fileName:s,fullFilename:`${s}.${a}`,format:a,language:r,iso:i,videoId:e,usersRights:[],requestOwnerEmail:""},R=this.firestore.collection("users").doc(o).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(s);R.get().toPromise().then(F=>{const te=F.exists&&F.data().usersRights||[],ie=te.find(ue=>ue.userEmail===l),ye=F.data().subtitleSharedId,Ve=te.find(ue=>"Owner"===ue.right),_t=F.data().isUsed;ie?this.notifier.showNotification("User already exist with a right.","DIMISS"):(te.push({right:c,userEmail:l}),F.exists&&(R.update({usersRights:te}),(null==_t||null==_t)&&F.ref.update({isUsed:!1}),C.usersRights=te,null==d&&(d=null!=ye?ye:""),this.firestore.collection("sharedVideos",ue=>ue.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",s).where("id","==",d)).get().subscribe(ue=>{ue.empty?(g.add(C),R.update({subtitleSharedId:C.id}),null!=_t&&R.update({isUsed:_t}),this.notifier.showNotification("User rights have been added.","OK")):ue.docs[0].ref.update({usersRights:te}).then(()=>{this.notifier.showNotification("User rights have been added.","OK")}).catch(de=>{this.notifier.showNotification("Error updating user rights: "+de.message,"DIMISS")})}),1==f&&this.emailService.sendShareSubEmail(Ve.userEmail,l,s+"."+a,e)))})}removeUserRightFromSub(e,i,r,o,s,a){const l=s.filter(y=>"Owner"==y.right)[0],c=this.firestore.collection("users").doc(l.userUid).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(o),d=s.filter(y=>"Remove right"!==y.right),g=s.filter(y=>"Remove right"===y.right).map(y=>y.userEmail);this.firestore.collection("sharedVideos",y=>y.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",o).where("id","==",a)).get().toPromise().then(y=>{if(y.empty)this.notifier.showNotification("Document does not exist.","DIMISS");else{c.get().toPromise().then(()=>{c.update({usersRights:d})});const C=y.docs[0].ref,R=y.docs[0].data().requestOwnerEmail;g.includes(R)&&(C.update({requestOwnerEmail:""}),this.getUserIdByEmail(R).subscribe(F=>{this.removeMessageFromUser(F,e,i,r,o,a)})),C.update({usersRights:d}).then(()=>{this.notifier.showNotification("User rights have been removed.","OK")}).catch(F=>{this.notifier.showNotification("Error updating user rights: "+F.message,"DIMISS")})}})}getUsersRightsFromSub(e,i,r,o,s){var a=this;return(0,$e.Z)(function*(){const l=a.firestore.collection("users").doc(e).collection("videos").doc(i).collection("subtitleLanguages").doc(r).collection("subtitles");let c;s?(c=yield l.ref.where("subtitleSharedId","==",s).limit(1).get(),c=c.docs.length>0?c.docs[0]:null):c=yield l.ref.doc(o).get();try{return c&&c.exists&&c.data().usersRights||[]}catch(d){return console.error("Error getting subtitle document:",d),[]}})()}removeMessageFromUser(e,i,r,o,s,a){this.firestore.collection("users").doc(e).collection("messages",c=>c.where("videoId","==",i).where("iso","==",r).where("language","==",o).where("subtitle_name","==",s).where("subtitleId","==",a)).get().toPromise().then(c=>{c.forEach(d=>{d.ref.delete()})})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa),Y(mg),Y(bg),Y(Ls),Y(Zl),Y(_xe))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vxe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"input",8),Te("ngModelChange",function(r){return Xe(e),Ye(se().noDeadline=r)})("ngModelChange",function(){return Xe(e),Ye(se().onNoDeadlineChange())}),x(),O(2," No Deadline "),x()}if(2&n){const e=se();k(1),L("ngModel",e.noDeadline)}}const bxe=function(n,t){return{newDeadline:n,isChecked:t}};let wxe=(()=>{class n{constructor(e,i,r,o,s,a){this.firestore=e,this.notifier=i,this.detailsService=r,this.communityService=o,this.dialogRef=s,this.data=a,this.isChecked=!1,this.videoTitle=a.videoTitle,this.languageRequested=a.language,this.videoId=a.videoId,this.requestedByID=a.requestedByID,this.fileName=a.filename,this.today=this.today=(new Date).toISOString().split("T")[0]}ngOnInit(){this.firestore.collection("helpRequests",e=>e.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID)).get().subscribe(e=>{e.forEach(i=>{this.deadline=i.get("deadline")})})}onNoDeadlineChange(){this.noDeadline?(this.newDeadline="No",this.isChecked=!1):this.newDeadline=!1}onDateInput(){this.noDeadline=!1,this.isChecked=!1,this.newDeadline=this.newDeadline}onIsCheckedChange(){this.isChecked&&(this.newDeadline=null,this.noDeadline=!1)}changeDeadline(e,i){let r;this.communityService.getSharedSubID(this.requestedByID,this.videoId,this.data.requestDetails.iso,this.fileName).subscribe(o=>{r=null==o?"":o}),this.firestore.collection("users",o=>o.where("uid","==",this.requestedByID)).get().subscribe(o=>{o.forEach(s=>{this.requestorEmail=s.get("email"),this.firestore.collection("helpRequests",a=>a.where("videoId","==",this.videoId).where("filename","==",this.fileName).where("language","==",this.languageRequested).where("requestedByID","==",this.requestedByID).where("status","==","open")).get().subscribe(a=>{a.forEach(l=>{const c=l.get("offerList");let d;1==e?(l.ref.update({status:"closed"}),d={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:"Bid request for this subtitle has been closed.\nThank you for your participation!",videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:r}):null!==i&&(l.ref.update({deadline:i}),d={sender:this.data.userEmail,recipient:this.requestorEmail,subject:"Subtitle: "+this.fileName+"."+this.data.requestDetails.format,createdAt:Date.now(),status:"unread",subtitle_name:this.fileName,body:"Deadline for this subtitle has been updated.\nNew dealine: "+i,videoId:this.videoId,iso:this.data.requestDetails.iso,language:this.languageRequested,format:this.data.requestDetails.format,videoTitle:this.videoTitle,subtitleId:r}),Array.isArray(c)&&c.forEach(f=>{let y;this.detailsService.getUserIdByEmail(f.userEmail).subscribe(C=>{y=C,this.firestore.collection("users").doc(y).collection("messages").add(d).then(F=>{F.update({id:F.id}).catch(te=>this.notifier.showNotification("No info message has been sent","DISMISS"))})})})})})})})}static#e=this.\u0275fac=function(i){return new(i||n)(v(oa),v(mg),v(Fa),v(Zl),v(nl),v(Vs))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-edit-request-dialog"]],decls:28,vars:15,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"language-requested"],[1,"request-details"],[1,"input-container"],["type","date","lang","en",3,"ngModel","min","ngModelChange","input"],["date",""],[4,"ngIf"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"button-container"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1),x(),b(2,"div",1)(3,"p",2),O(4),x(),b(5,"p",2),O(6),x(),b(7,"div",3)(8,"p"),O(9),x(),b(10,"p"),O(11,"Currency: \u20ac"),x(),b(12,"div",4)(13,"div")(14,"p"),O(15,"Set new deadline:"),x(),b(16,"input",5,6),Te("ngModelChange",function(s){return r.newDeadline=s})("input",function(){return r.onDateInput()}),x(),he(18,vxe,3,1,"div",7),b(19,"p"),O(20,"or"),x(),b(21,"input",8),Te("ngModelChange",function(s){return r.isChecked=s})("ngModelChange",function(){return r.onIsCheckedChange()}),x(),O(22," Close request "),x()()(),b(23,"mat-dialog-actions",9)(24,"button",10),O(25,"Cancel"),x(),b(26,"button",11),Te("click",function(){return r.changeDeadline(r.isChecked,r.newDeadline)}),O(27,"Change Dealine"),x()()()),2&i&&(k(1),ln(r.videoTitle),k(3),zp("Subtitle: ",r.fileName,".",r.data.requestDetails.format,""),k(2),_n("Language: ",r.languageRequested,""),k(3),_n("Deadline: ",r.deadline,""),k(7),L("ngModel",r.newDeadline)("min",r.today),k(2),L("ngIf","No"!=r.deadline),k(3),L("ngModel",r.isChecked),k(3),L("mat-dialog-close",null),k(2),L("disabled",!(r.isChecked||r.newDeadline||r.noDeadline))("mat-dialog-close",Gp(12,bxe,r.newDeadline,r.isChecked)))},dependencies:[xi,ds,SC,$o,br,Vl,So,uo,ho,To],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.input-container[_ngcontent-%COMP%]{width:100%}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}input[type=date][_ngcontent-%COMP%]{width:95%;padding:10px;margin-bottom:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}.request-check[_ngcontent-%COMP%]{display:inline-block}.request-check[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;margin:0}"]})}return n})();function xxe(n,t){if(1&n){const e=Yt();b(0,"mat-icon",13),Te("click",function(){Xe(e);const r=se();return Ye(r.editCommunityRequest(r.communityRequestDetails,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,r.communityRequestDetails.filename))}),O(1,"edit"),x()}}let Cxe=(()=>{class n{constructor(e,i){this.dialog=e,this.notifier=i,this.editVideoEmitter=new Ct,this.deleteVideoEmitter=new Ct,this.requestCommunityHelpEmitter=new Ct}ngOnInit(){this.publishDate=this.timeSince(new Date(this.videoDetails?.snippet?.publishedAt)),this.convertTimestamp()}convertTimestamp(){let r=new Date(this.communityRequestDetails.timestamp).toISOString().split("T")[0];this.requestCreationDate=r}editVideo(e){this.editVideoEmitter.emit(e)}openPlaceABid(e,i,r){this.dialog.open(D0e,{width:"550px",height:"470px",data:{language:e.language,videoTitle:i,videoId:this.videoId,requestedByID:e.requestedByID,filename:r,requestDetails:e,userEmail:this.userEmail}}).afterClosed().pipe(sn(1)).subscribe(o=>{null===o||null==o?this.dialog.closeAll():o&&o.yourBidAmount>0&&this.notifier.showNotification("Offer has been successfully sent to the requestor.","OK")})}editCommunityRequest(e,i,r){this.dialog.open(wxe,{width:"550px",height:"480px",data:{language:e.language,videoTitle:i,videoId:this.videoId,requestedByID:e.requestedByID,filename:r,requestDetails:e,userEmail:this.userEmail}}).afterClosed().pipe(sn(1)).subscribe(o=>{null==o?this.dialog.closeAll():o&&(1==o.isChecked&&this.notifier.showNotification("Request has been successfully closed.","OK"),null!==o.newDeadline&&this.notifier.showNotification("Dealine for this request has been updated.","OK"))})}timeSince(e){let i=Math.floor(((new Date).valueOf()-e.valueOf())/1e3),r=i/31536e3;return r>1?Math.floor(r)+" years":(r=i/2592e3,r>1?Math.floor(r)+" months":(r=i/86400,r>1?Math.floor(r)+" days":(r=i/3600,r>1?Math.floor(r)+" hours":(r=i/60,r>1?Math.floor(r)+" minutes":Math.floor(i)+" seconds"))))}static#e=this.\u0275fac=function(i){return new(i||n)(v(sa),v(mg))};static#t=this.\u0275cmp=It({type:n,selectors:[["community-video-card"]],inputs:{videoId:"videoId",userEmail:"userEmail",userId:"userId",videoDetails:"videoDetails",communityRequestDetails:"communityRequestDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",requestCommunityHelpEmitter:"requestCommunityHelpEmitter"},decls:30,vars:19,consts:[[1,"yt-card"],[1,"thumb"],["target","_blank",3,"href"],["alt","video image",3,"src"],[1,"details"],[1,"info"],[1,"title"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Place a BID",3,"click"],["matTooltip","Edit request",3,"click",4,"ngIf"],["matTooltip","Edit request",3,"click"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"a",2),vt(3,"img",3),x()(),b(4,"div",4)(5,"div",5)(6,"div",6),O(7),un(8,"slice"),x(),b(9,"div",7),O(10),x(),b(11,"div",8)(12,"span",9),O(13),un(14,"number"),x(),b(15,"div")(16,"span"),O(17),x()(),b(18,"span"),O(19,"Requested by "),b(20,"b"),O(21),x()()(),b(22,"span"),O(23,"Creation date: "),b(24,"b"),O(25),x()()()(),b(26,"div",10)(27,"mat-icon",11),Te("click",function(){return r.openPlaceABid(r.communityRequestDetails,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,r.communityRequestDetails.filename)}),O(28,"group"),x(),he(29,xxe,2,0,"mat-icon",12),x()()),2&i&&(k(2),L("href","//youtube.com/watch?v="+(null==r.videoDetails?null:r.videoDetails.id),Bo),k(1),L("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,Bo),k(4),_n(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?Md(8,13,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),k(3),ln(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),k(3),_n("",Mn(14,17,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"),k(4),_n("Language: ",r.communityRequestDetails.language,""),k(4),ln(r.communityRequestDetails.requestedBy),k(4),ln(r.requestCreationDate),k(2),ai("pointer-events",r.communityRequestDetails.requestedByID===r.userId?"none":"auto"),hn("faded",r.communityRequestDetails.requestedByID===r.userId),k(2),L("ngIf",r.communityRequestDetails.requestedByID===r.userId))},dependencies:[xi,Ao,Yo,Yp,Zp],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.faded[_ngcontent-%COMP%]{opacity:.5;pointer-events:none;cursor:not-allowed}"]})}return n})(),Exe=(()=>{class n{constructor(){this.editVideoEmitter=new Ct,this.deleteVideoEmitter=new Ct,this.sharedVideoEmitter=new Ct,this.videoIdEmitter=new Ct}ngOnInit(){this.publishDate=this.timeSince(new Date(this.videoDetails?.snippet?.publishedAt))}editVideo(e){this.editVideoEmitter.emit(e)}timeSince(e){let i=Math.floor(((new Date).valueOf()-e.valueOf())/1e3),r=i/31536e3;return r>1?Math.floor(r)+" years":(r=i/2592e3,r>1?Math.floor(r)+" months":(r=i/86400,r>1?Math.floor(r)+" days":(r=i/3600,r>1?Math.floor(r)+" hours":(r=i/60,r>1?Math.floor(r)+" minutes":Math.floor(i)+" seconds"))))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["app-shared-video-card"]],inputs:{videoId:"videoId",videoDetails:"videoDetails",sharedVideoDetails:"sharedVideoDetails"},outputs:{editVideoEmitter:"editVideoEmitter",deleteVideoEmitter:"deleteVideoEmitter",sharedVideoEmitter:"sharedVideoEmitter",videoIdEmitter:"videoIdEmitter"},decls:18,vars:11,consts:[[1,"yt-card"],[1,"thumb"],["target","_blank",3,"href"],[3,"src"],[1,"details"],[1,"info"],[1,"title"],[1,"channel-name"],[1,"views"],["id","views"],[1,"actions"],["matTooltip","Go to Video Details",1,"go-to-settings-icon",3,"click"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"a",2),vt(3,"img",3),x()(),b(4,"div",4)(5,"div",5)(6,"div",6),O(7),un(8,"slice"),x(),b(9,"div",7),O(10),x(),b(11,"div",8)(12,"span",9),O(13),un(14,"number"),x()()()(),b(15,"div",10)(16,"mat-icon",11),Te("click",function(){return r.editVideo(r.sharedVideoDetails)}),O(17,"edit"),x()()()),2&i&&(k(2),L("href","//youtube.com/watch?v="+(null==r.videoDetails?null:r.videoDetails.id),Bo),k(1),L("src",null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.thumbnails?null:r.videoDetails.snippet.thumbnails.medium.url,Bo),k(4),_n(" ",(null==r.videoDetails||null==r.videoDetails.snippet||null==r.videoDetails.snippet.title?null:r.videoDetails.snippet.title.length)>50?Md(8,5,null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title,0,50)+"...":null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.title," "),k(3),ln(null==r.videoDetails||null==r.videoDetails.snippet?null:r.videoDetails.snippet.channelTitle),k(3),_n("",Mn(14,9,null==r.videoDetails||null==r.videoDetails.statistics?null:r.videoDetails.statistics.viewCount)," views"))},dependencies:[Ao,Yo,Yp,Zp],styles:[".yt-card[_ngcontent-%COMP%]{max-width:400px;max-height:350px;width:420px;height:350px;font-family:sans-serif;display:flex;flex-direction:column;overflow:hidden;margin:10px 10px 10px 0;box-shadow:#717172 0 10px 35px -10px;border-radius:4px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]{height:56%;overflow:hidden;margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   .thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;cursor:pointer}.yt-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;padding:10px;gap:10px}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]{flex:1}.yt-card[_ngcontent-%COMP%]   .channel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:50%}.yt-card[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.yt-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:10px}.yt-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:gray;text-decoration:none}.actions[_ngcontent-%COMP%]{height:30px;display:flex;padding-left:15px;padding-bottom:15px;flex-grow:1;align-items:flex-end;gap:20px}.actions[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.yt-card[_ngcontent-%COMP%]:hover{border-radius:0;transition:.3s}.go-to-settings-icon[_ngcontent-%COMP%]:hover{color:#436c21}"]})}return n})(),Dxe=(()=>{class n{transform(e,i,r=null){if(!e||!i)return e;const o=i.toLowerCase();return e.filter(r?s=>s[r]&&s[r].toLowerCase().includes(o):s=>s.title&&s.title.toLowerCase().includes(o))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=hr({name:"filter",type:n,pure:!0})}return n})(),Ixe=(()=>{class n{transform(e,i,r=null){if(!e||!i)return e;const o=i.toLowerCase();return e.filter(r?s=>s[r]&&s[r].toLowerCase().includes(o):s=>s.title&&s.title.toLowerCase().includes(o))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=hr({name:"sharedfilter",type:n,pure:!0})}return n})(),Sxe=(()=>{class n{transform(e,i,r,o=!1,s="asc"){if(!e||!r)return e;if(!i)return o?this.sortByDate(e,s):e;const a=i.toLowerCase(),l=e.filter(d=>{switch(r){case"title":return d.title.toLowerCase().includes(a);case"language":return d.language.toLowerCase().includes(a);case"requestedBy":return d.requestedBy.toLowerCase().includes(a);default:return!0}}),c=l.length>0?l:e;return o?this.sortByDate(c,s):c}sortByDate(e,i){return e.sort((r,o)=>{const s=new Date(r.timestamp).getTime(),a=new Date(o.timestamp).getTime();return"asc"===i?s-a:a-s})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=hr({name:"communityfilter",type:n,pure:!0})}return n})();const Txe=["userVideosContainer"];function Axe(n,t){1&n&&(b(0,"div",27)(1,"h3"),O(2,"No videos found, click on the + button to get started!"),x()())}function kxe(n,t){if(1&n){const e=Yt();b(0,"video-card",31),Te("editVideoEmitter",function(r){return Xe(e),Ye(se(4).navigateToDetailsView(r))})("deleteVideoEmitter",function(r){return Xe(e),Ye(se(4).deleteVideoPrompt(r))})("videoIdEmitter",function(r){return Xe(e),Ye(se(4).previewVideo(r))}),x()}if(2&n){const e=se().$implicit,i=se(3);L("videoId",e.videoId)("videoDetails",i.getVideoDetailsById(e.videoId))}}function Mxe(n,t){if(1&n&&(b(0,"div",29),he(1,kxe,1,2,"video-card",30),x()),2&n){const e=se(3);k(1),L("ngIf",e.allYouTubeVideoDetails)}}function Rxe(n,t){if(1&n&&(he(0,Mxe,2,1,"div",28),un(1,"filter"),un(2,"async")),2&n){const e=se(2);L("ngForOf",Md(1,1,Mn(2,5,e.userVideos$),e.searchTerm,null))}}function Pxe(n,t){1&n&&(bi(0),b(1,"mat-icon",35),O(2,"video_library"),x(),b(3,"mat-card-title"),O(4,"Select a video to preview."),x(),wi())}function Oxe(n,t){if(1&n&&(b(0,"div",36),vt(1,"youtube-player",37),x()),2&n){const e=se(3);k(1),L("videoId",e.videoSelectedId)}}function Fxe(n,t){if(1&n&&(b(0,"div",32)(1,"mat-card")(2,"mat-card-content",33),he(3,Pxe,5,0,"ng-container",2),he(4,Oxe,2,1,"div",34),x()()()),2&n){const e=se(2);k(3),L("ngIf",!e.videoSelectedId),k(1),L("ngIf",e.videoSelectedId)}}function Nxe(n,t){if(1&n){const e=Yt();b(0,"app-shared-video-card",40),Te("editVideoEmitter",function(r){return Xe(e),Ye(se(3).navigateToSharedEdit(r))})("videoIdEmitter",function(r){return Xe(e),Ye(se(3).previewVideo(r))}),x()}if(2&n){const e=se().$implicit,i=se(2);L("videoId",e.videoId)("sharedVideoDetails",e)("videoDetails",i.getVideoDetailsById(e.videoId))}}function Lxe(n,t){if(1&n&&(b(0,"div",38),he(1,Nxe,1,3,"app-shared-video-card",39),x()),2&n){const e=se(2);k(1),L("ngIf",e.allYouTubeVideoDetails)}}function Vxe(n,t){if(1&n){const e=Yt();b(0,"mat-form-field",41)(1,"mat-label"),O(2,"Sort Order"),x(),b(3,"mat-select",22),Te("ngModelChange",function(r){return Xe(e),Ye(se(2).sortOrder=r)}),b(4,"mat-option",42),O(5,"Ascending"),x(),b(6,"mat-option",43),O(7,"Descending"),x()()()}if(2&n){const e=se(2);k(3),L("ngModel",e.sortOrder)}}function Bxe(n,t){if(1&n){const e=Yt();b(0,"community-video-card",45),Te("editVideoEmitter",function(r){return Xe(e),Ye(se(3).navigateToCommunityEdit(r))}),x()}if(2&n){const e=se().$implicit,i=se(2);L("videoId",e.videoId)("communityRequestDetails",e)("videoDetails",i.getVideoDetailsById(e.videoId))("userEmail",i.userEmail)("userId",i.userId)}}function Uxe(n,t){if(1&n&&(b(0,"div",38),he(1,Bxe,1,5,"community-video-card",44),x()),2&n){const e=se(2);k(1),L("ngIf",e.allYouTubeVideoDetails)}}const zxe=function(n,t,e,i,r){return[n,t,e,i,r]};function jxe(n,t){if(1&n){const e=Yt();b(0,"div",3)(1,"div",4)(2,"span",5),O(3),un(4,"async"),x(),b(5,"button",6),Te("click",function(){return Xe(e),Ye(se().openDialog())}),b(6,"mat-icon"),O(7,"add"),x()(),b(8,"mat-form-field")(9,"mat-label"),O(10,"Search By Title"),x(),b(11,"input",7),Te("ngModelChange",function(r){return Xe(e),Ye(se().searchTerm=r)}),x()(),b(12,"div",8)(13,"button",9),Te("click",function(){return Xe(e),Ye(se().changeToListView())}),b(14,"mat-icon"),O(15,"dehaze"),x()(),b(16,"button",10),Te("click",function(){return Xe(e),Ye(se().changeToGridView())}),b(17,"mat-icon"),O(18,"grid_on"),x()()()(),b(19,"div",11)(20,"div",12,13),he(22,Axe,3,0,"div",14),un(23,"async"),he(24,Rxe,3,7,"ng-template",null,15,Ml),x(),he(26,Fxe,5,2,"div",16),x(),vt(27,"mat-divider"),b(28,"div",17)(29,"h1"),O(30),un(31,"async"),x(),b(32,"mat-form-field",18)(33,"mat-label"),O(34,"Search By Title"),x(),b(35,"input",7),Te("ngModelChange",function(r){return Xe(e),Ye(se().searchSharedTerm=r)}),x()()(),b(36,"div",12),he(37,Lxe,2,1,"div",19),un(38,"sharedfilter"),un(39,"async"),x(),vt(40,"mat-divider"),b(41,"div",20)(42,"h1"),O(43,"Request for BID:"),b(44,"span")(45,"h2"),O(46," someone needs your help!"),x()()(),b(47,"mat-form-field",21)(48,"mat-label"),O(49,"Filter By"),x(),b(50,"mat-select",22),Te("ngModelChange",function(r){return Xe(e),Ye(se().selectedFilter=r)}),b(51,"mat-option",23),O(52,"Title"),x(),b(53,"mat-option",24),O(54,"Language"),x(),b(55,"mat-option",25),O(56,"Requested By"),x()()(),b(57,"mat-form-field",21)(58,"mat-label"),O(59,"Enter value"),x(),b(60,"input",7),Te("ngModelChange",function(r){return Xe(e),Ye(se().filterValue=r)}),x()()(),b(61,"div")(62,"mat-checkbox",22),Te("ngModelChange",function(r){return Xe(e),Ye(se().sortByDate=r)}),O(63,"Sort by Creation Date"),x(),he(64,Vxe,8,1,"mat-form-field",26),x(),b(65,"div",12),he(66,Uxe,2,1,"div",19),un(67,"communityfilter"),un(68,"async"),x()()}if(2&n){const e=tr(25),i=se();let r,o;k(3),_n("My Videos (",null==(r=Mn(4,13,i.userVideos$))?null:r.length,")"),k(8),L("ngModel",i.searchTerm),k(11),L("ngIf",!Mn(23,15,i.userVideos$))("ngIfElse",e),k(4),L("ngIf",i.listView),k(4),_n("My Shared Videos (",null==(o=Mn(31,17,i.userSharedVideos$))?null:o.length,")"),k(5),L("ngModel",i.searchSharedTerm),k(2),L("ngForOf",Md(38,19,Mn(39,23,i.userSharedVideos$),i.searchSharedTerm,null)),k(13),L("ngModel",i.selectedFilter),k(10),L("ngModel",i.filterValue),k(2),L("ngModel",i.sortByDate),k(2),L("ngIf",i.sortByDate),k(2),L("ngForOf",D3(67,25,function v3(n,t,e,i,r,o,s,a){const l=Zr()+n,c=pt(),d=Da(c,l,e,i,r,o);return zo(c,l+4,s)||d?Tl(c,l+5,a?t.call(a,e,i,r,o,s):t(e,i,r,o,s)):uy(c,l+5)}(33,zxe,Mn(68,31,i.communityVideos$),i.filterValue,i.selectedFilter,i.sortByDate,i.sortOrder)))}}function Hxe(n,t){1&n&&(b(0,"div",46),vt(1,"app-video-init-form",47),x())}function Gxe(n,t){1&n&&vt(0,"fullscreen-loader")}let $xe=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.auth=e,this.dashboardService=i,this.youtubeService=r,this.router=o,this.dialog=s,this.snackbar=a,this.sanitizer=l,this.renderer=c,this.userVideos$=new mt,this.userSharedVideos$=new mt,this.communityVideos$=new mt,this.loading$=new P(null),this.userId$=new P(""),this.isFormOpen=!1,this.listView=!1,this.apiLoaded=!1,this.searchTerm="",this.selectedFilter="Title",this.filterValue="",this.sortByDate=!1,this.sortOrder="asc"}ngOnInit(){if(this.user$=this.auth.user,this.loading$.next(!0),to([this.user$,this.user$.pipe(dn(),St(e=>e?(this.userId$.next(e.uid),this.userId=e.uid,this.userEmail=e.email,this.userVideos$=this.dashboardService.getVideos(e.uid),this.userSharedVideos$=this.dashboardService.getSharedVideos(e.email),this.communityVideos$=this.dashboardService.getCommunityVideos(),to([this.userVideos$,this.userSharedVideos$,this.communityVideos$])):ne(null)))]).pipe(dn(),St(([e,[i,r,o]])=>{const s=i.map(f=>f.videoId),a=r.map(f=>f.videoId),l=o.map(f=>f.videoId),c=new Set([...s,...a,...l]),d=Array.from(c).join(",");return this.youtubeService.getAllVideoDetails(d)})).subscribe(e=>{e&&(this.allYouTubeVideoDetails=e,this.setUserVideos(e),this.setSharedUserVideos(e),this.setCommunityVideos(e),this.loading$.next(!1))}),!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}setUserVideos(e){this.userVideos$=this.userVideos$.pipe(We(i=>i.map(r=>{const o=e.find(s=>s.id===r.videoId);return{...r,title:o?o.snippet.title:""}})))}setSharedUserVideos(e){this.userSharedVideos$=this.userSharedVideos$.pipe(We(i=>i.map(r=>{const o=e.find(s=>s.id===r.videoId);return{...r,title:o?o.snippet.title:""}})))}setCommunityVideos(e){this.communityVideos$=this.communityVideos$.pipe(We(i=>i.map(r=>{const o=e.find(s=>s.id===r.videoId);return{...r,title:o?o.snippet.title:""}})))}navigateToDetailsView(e){this.router.navigate(["/details",e])}navigateToCommunityEdit(e){this.router.navigate(["community/edit",e.videoId,e.iso,e.requestId])}navigateToSharedEdit(e){this.router.navigate(["shared/",e.videoId])}deleteVideoPrompt(e){this.dialog.open(B$,{width:"400px",scrollStrategy:new pb,data:"Are you sure you want to delete this video? This is irreversible and all related data linked to it will be lost."}).afterClosed().subscribe(r=>{!0===r&&this.dashboardService.deleteVideo(e,this.userId$.value)})}openDialog(){this.dialog.open(V$,{height:"200px"}).afterClosed().subscribe(i=>{this.allYouTubeVideoDetails.map(r=>r.id).includes(i)?this.snackbar.open("Video already exists in Collection.","DISMISS",{duration:5e3}):i&&this.addVideoToUserCollection(i)})}getVideoDetailsById(e){return this.allYouTubeVideoDetails.find(i=>i.id===e)}addVideoToUserCollection(e){this.youtubeService.getVideoDetails(e).subscribe({next:i=>{i&&(this.youTubeVideoDetails=i,this.dashboardService.addVideo(this.youTubeVideoDetails,this.userId$.value))},error:i=>{console.log("Error getting video details: Error: "+i.message())}})}previewVideo(e){this.videoSelectedId=e}iframeURL(){return this.sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+this.videoSelectedId+"?autoplay=1")}changeToListView(){this.listView=!0,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"grid-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"list-view")}changeToGridView(){this.listView=!1,this.videoSelectedId=null,this.renderer.removeClass(this.userVideosContainer.nativeElement,"list-view"),this.renderer.addClass(this.userVideosContainer.nativeElement,"grid-view")}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps),v(n$),v(Kh),v(Ar),v(sa),v(Ls),v(Fy),v(Ca))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-dashboard"]],viewQuery:function(i,r){if(1&i&&An(Txe,5),2&i){let o;Vt(o=Bt())&&(r.userVideosContainer=o.first)}},features:[Wt([n$,Zl])],decls:5,vars:7,consts:[["class","dashboard-wrapper",4,"ngIf"],["class","video-submission-form",4,"ngIf"],[4,"ngIf"],[1,"dashboard-wrapper"],[1,"dashboard-header"],[1,"my-videos"],["mat-fab","","color","primary","matTooltip","Add New video",1,"add-video-btn",3,"click"],["matInput","",3,"ngModel","ngModelChange"],[1,"view-switch"],["mat-icon-button","","matTooltip","List View",3,"click"],["mat-icon-button","","matTooltip","Grid View",3,"click"],[1,"view-wrapper"],[1,"video-container"],["userVideosContainer",""],["class","no-video",4,"ngIf","ngIfElse"],["videos",""],["class","video-player-card",4,"ngIf"],[1,"myshared-videos-header"],[1,"search-field"],["class","",4,"ngFor","ngForOf"],[1,"community-videos-header"],[1,"search-community-field"],[3,"ngModel","ngModelChange"],["value","title"],["value","language"],["value","requestedBy"],["style","margin-left: 10px;",4,"ngIf"],[1,"no-video"],["class","video",4,"ngFor","ngForOf"],[1,"video"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter",4,"ngIf"],[3,"videoId","videoDetails","editVideoEmitter","deleteVideoEmitter","videoIdEmitter"],[1,"video-player-card"],[1,"card-content"],["class","iframe-container",4,"ngIf"],[1,"video-icon"],[1,"iframe-container"],[3,"videoId"],[1,""],[3,"videoId","sharedVideoDetails","videoDetails","editVideoEmitter","videoIdEmitter",4,"ngIf"],[3,"videoId","sharedVideoDetails","videoDetails","editVideoEmitter","videoIdEmitter"],[2,"margin-left","10px"],["value","asc"],["value","desc"],[3,"videoId","communityRequestDetails","videoDetails","userEmail","userId","editVideoEmitter",4,"ngIf"],[3,"videoId","communityRequestDetails","videoDetails","userEmail","userId","editVideoEmitter"],[1,"video-submission-form"],[1,"video-init-form"]],template:function(i,r){1&i&&(he(0,jxe,69,39,"div",0),un(1,"async"),he(2,Hxe,2,0,"div",1),he(3,Gxe,1,0,"fullscreen-loader",2),un(4,"async")),2&i&&(L("ngIf",Mn(1,3,r.user$)),k(2),L("ngIf",r.isFormOpen),k(1),L("ngIf",Mn(4,5,r.loading$)))},dependencies:[jo,xi,ka,Aa,Pa,ds,$o,Hh,V_e,VP,Ao,Vl,Yo,Wh,bb,du,zbe,xb,tm,zP,V$,x0e,Zh,Cxe,Exe,Js,Dxe,Ixe,Sxe],styles:[".dashboard-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-top:40px;padding-left:100px;padding-right:50px}.dashboard-header[_ngcontent-%COMP%]{display:flex;gap:30px;padding-right:80px;align-items:baseline}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px}.myshared-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:30px;font-size:32px}.community-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:30px;font-size:32px;display:table}.community-videos-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-table;margin-left:10px}.video-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:30px;padding-bottom:20px}.view-switch[_ngcontent-%COMP%]{margin-left:auto;display:flex;align-items:center}.view-switch[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;font-weight:500}.list-view[_ngcontent-%COMP%]{flex-direction:column;flex-wrap:nowrap;max-height:600px;overflow-x:hidden;overflow-y:auto;max-width:40%;padding-bottom:20px}.grid-view[_ngcontent-%COMP%]{flex-direction:row}.view-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px;padding-bottom:10px}.view-wrapper[_ngcontent-%COMP%]   .video-player-card[_ngcontent-%COMP%]{flex-grow:1}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:100%;justify-content:center}.view-wrapper[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;justify-content:center;align-items:center;flex-direction:column}.view-wrapper[_ngcontent-%COMP%]   .video-icon[_ngcontent-%COMP%]{transform:scale(3);margin-bottom:20px}.my-videos[_ngcontent-%COMP%]{font-size:32px}.myshared-videos-header[_ngcontent-%COMP%]{display:flex;align-items:center}.search-field[_ngcontent-%COMP%]{margin-left:10px;margin-top:30px}.search-community-field[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0})}return n})(),tO=(()=>{class n{constructor(e,i,r,o){this.firestore=e,this.communityService=i,this.notifier=r,this.detailsService=o}getUserMessages(e){return this.firestore.collection("users").doc(e).collection("messages")}getMessagesCount(e){return new mt(i=>this.firestore.collection("users").doc(e).collection("messages",s=>s.where("status","==","unread")).valueChanges().subscribe(s=>{let a=0;s.forEach(l=>{a++}),i.next(a)}))}updateSub(e){var i=this;return(0,$e.Z)(function*(){let a,r="",o=[],s="";const c=i.firestore.collection("sharedVideos",d=>d.where("videoId","==",e.videoId).where("iso","==",e.iso).where("language","==",e.language).where("fileName","==",e.subtitle_name).where("format","==",e.format).where("id","==",e.subtitleId));i.detailsService.getUserIdByEmail(e.sender).subscribe(d=>{r=d,i.firestore.collection("users").doc(r).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles",f=>f.where("fileName","==",e.subtitle_name).where("subtitleSharedId","==",e.subtitleId)).get().toPromise().then(function(){var f=(0,$e.Z)(function*(g){a=g.docs[0];let y=g.docs[0].data().usersRights;y=y.filter(C=>C.userEmail!==e.recipient),o=y.map(C=>C.userEmail===e.sender?{...C,right:"Editor"}:C),g.docs[0].ref.delete().then(()=>{const C={name:e.language,language:e.iso};i.detailsService.getUserIdByEmail(e.recipient).pipe(sn(1)).toPromise().then(R=>{s=R;const F=i.firestore.collection("users").doc(s).collection("videos").doc(e.videoId);F.get().toPromise().then(function(){var te=(0,$e.Z)(function*(ie){ie.exists||(yield F.set({videoId:e.videoId}));const ye=yield i.getUniqueSubtitleName(e.subtitle_name,s,e.videoId,e.iso);yield i.detailsService.addSubtitle(e.videoId,C,s,e.subtitle_name,e.format,e.recipient,ye);const Ve=i.firestore.collection("users").doc(s).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(ye);yield Ve.get().toPromise();const _t=yield Ve.get().toPromise();if(_t.exists){const ue=_t.data().usersRights;o=[...y,...ue].filter((J,de,Ie)=>Ie.findIndex(ke=>ke.userEmail===J.userEmail)===de),o=o.map(J=>J.userEmail===e.sender?{...J,right:"Editor"}:J),yield Ve.update({usersRights:o,subtitleSharedId:e.subtitleId}),yield c.get().toPromise().then(J=>{J.docs.length>0?J.docs[0].ref.update({usersRights:o}):console.log("No shared video document found")})}else console.log("No document found")});return function(ie){return te.apply(this,arguments)}}())})}).catch(C=>{console.error(C)})});return function(g){return f.apply(this,arguments)}}()).catch(f=>{console.error("Error: Subtitle does not exist. ",f)})})})()}getUniqueSubtitleName(e,i,r,o){var s=this;return(0,$e.Z)(function*(){let a=1,l=!1,c=e;for(;!l;)(yield s.firestore.collection("users").doc(i).collection("videos").doc(r).collection("subtitleLanguages").doc(o).collection("subtitles").doc(c).get().toPromise()).exists?(a++,c=e+a):l=!0;return c})()}resetRequestOwnerEmail(e){var i=this;return(0,$e.Z)(function*(){const r=i.firestore.collection("sharedVideos",o=>o.where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("fileName","==",e.subtitle_name).where("id","==",e.subtitleId));try{const o=yield r.get().toPromise();o.size>0&&(yield o.docs[0].ref.update({requestOwnerEmail:""}))}catch(o){throw console.error("Error resetting request owner email:",o),o}})()}deleteMessageFromUserMessages(e,i){var r=this;return(0,$e.Z)(function*(){if(!(e.subtitle_name&&e.iso&&e.language&&e.videoId&&e.status))return void console.error("Message properties are undefined");e.subject.startsWith("Offer")&&(e.subtitleId="");const o=r.firestore.collection("users").doc(i).collection("messages",a=>a.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("status","==","unread").where("id","==",e.id)),s=r.firestore.collection("users").doc(i).collection("messages",a=>a.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("subtitleId","==",e.subtitleId).where("status","==","unread").where("id","==",e.id));try{let a;a=e.subject.startsWith("Offer")?o:s;const l=yield a.get().toPromise();l.size>0&&(yield l.docs[0].ref.delete())}catch(a){throw console.error("Error deleting message from user messages:",a),a}})()}checkRequestStatus(e,i){var r=this;return(0,$e.Z)(function*(){let o;if(o=null==e.subtitleId?"":e.subtitleId,""!=o){let a;return(yield r.firestore.collection("helpRequests",l=>l.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i).where("subtitleId","==",o)).get().toPromise()).forEach(l=>{a=l.get("status")}),a}{let a;return(yield r.firestore.collection("helpRequests",l=>l.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i)).get().toPromise()).forEach(l=>{a=l.get("status")}),a}})()}closeRequestStatus(e,i){var r=this;return(0,$e.Z)(function*(){r.firestore.collection("helpRequests",o=>o.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i)).get().subscribe(o=>{o.forEach(s=>{o.empty||o.docs[0].ref.update({status:"closed"})})})})()}checkIfUserRightExists(e,i){var r=this;return(0,$e.Z)(function*(){return r.firestore.collection("users").doc(i).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(e.subtitle_name).get().toPromise().then(s=>{const a=s.exists&&s.data().usersRights||[],l=a.findIndex(c=>c.userEmail===e.sender);return-1!==l?(a[l].right="Editor",{exists:!0,currentRights:a}):{exists:!1,currentRights:a}})})()}setSubtitleIdToRequest(e,i){var r=this;return(0,$e.Z)(function*(){let o="";if(null==e.subtitleId||""==e.subtitleId){const a=yield r.firestore.collection("users").doc(i).collection("videos").doc(e.videoId).collection("subtitleLanguages").doc(e.iso).collection("subtitles").doc(e.subtitle_name).get().toPromise();o=a.exists&&a.data().subtitleSharedId||"",(yield r.firestore.collection("helpRequests",c=>c.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("requestedByID","==",i).where("status","==","open")).get().toPromise()).forEach(c=>{c.ref.update({subtitleId:o})})}})()}sendInfoMessage(e,i){var r=this;return(0,$e.Z)(function*(){let o,s;r.communityService.getUserNameFromEmail(e.recipient).subscribe(a=>{o=a,s=e.subject.startsWith("Offer")?o+" accepted your bid.\nYou are now an Editor on this subtitle.":o+" accepted ownership for this subtitle.",r.firestore.collection("users",l=>l.where("email","==",e.sender)).get().subscribe(l=>{l.forEach(()=>{const c={sender:e.recipient,recipient:e.sender,subject:"Subtitle: "+e.subtitle_name+"."+e.format,createdAt:Date.now(),status:"unread",subtitle_name:e.subtitle_name,body:s,videoId:e.videoId,iso:e.iso,language:e.language,format:e.format,videoTitle:e.videoTitle,subtitleId:e.subtitleId};let d;r.detailsService.getUserIdByEmail(e.sender).subscribe(f=>{d=f,r.firestore.collection("users").doc(d).collection("messages").add(c).then(y=>{y.update({id:y.id})})})})})})})()}sendInfoMessageToList(e,i){var r=this;return(0,$e.Z)(function*(){r.firestore.collection("helpRequests",o=>o.where("videoId","==",e.videoId).where("filename","==",e.subtitle_name).where("language","==",e.language).where("iso","==",e.iso).where("requestedByID","==",i).where("status","==","closed")).get().subscribe(o=>{o.forEach(s=>{s.get("offerList").forEach(l=>{const c=l.userEmail;if(c!=e.sender){const d={sender:e.recipient,recipient:c,subject:"Subtitle: "+e.subtitle_name+"."+e.format,createdAt:Date.now(),status:"unread",subtitle_name:e.subtitle_name,body:"Bid request for this subtitle has been closed.\nThank you for your participation!",videoId:e.videoId,iso:e.iso,language:e.language,format:e.format,videoTitle:e.videoTitle,subtitleId:e.subtitleId};let f;r.detailsService.getUserIdByEmail(c).subscribe(g=>{f=g,r.firestore.collection("users").doc(f).collection("messages").add(d).then(C=>{C.update({id:C.id}).catch(R=>r.notifier.showNotification("No info message has been sent","DISMISS"))})})}})})})})()}deleteInfoMessageFromUserMessages(e,i){var r=this;return(0,$e.Z)(function*(){if(!(e.subtitle_name&&e.iso&&e.language&&e.videoId&&e.status))return void console.error("Message properties are undefined");const o=r.firestore.collection("users").doc(i).collection("messages",s=>s.where("subtitle_name","==",e.subtitle_name).where("iso","==",e.iso).where("language","==",e.language).where("videoId","==",e.videoId).where("status","==","unread").where("id","==",e.id));try{const s=yield o.get().toPromise();s.size>0&&(yield s.docs[0].ref.delete())}catch(s){throw console.error("Error deleting message from user messages:",s),s}})()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa),Y(Zl),Y(mg),Y(Fa))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qxe(n,t){if(1&n){const e=Yt();b(0,"button",11),Te("click",function(){Xe(e);const r=se().$implicit,o=se(2);return Ye(r.subject.startsWith("Offer")?o.declineOffer(r):o.declineTransferOwnership(r))}),O(1),x()}if(2&n){const e=se().$implicit;k(1),_n(" ",e.subject.startsWith("Offer")?"Decline Offer":"Decline"," ")}}function Wxe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"mat-card",3),vt(2,"div",4),b(3,"div",5)(4,"div",6)(5,"mat-card-title")(6,"h3"),O(7),x()(),b(8,"p",7),O(9),x(),vt(10,"p",8),x()(),b(11,"div")(12,"button",9),Te("click",function(){const o=Xe(e).$implicit,s=se(2);return Ye(o.subject.startsWith("Offer")?s.handleOffer(o):o.subject.startsWith("Subtitle")?s.deleteMessage(o):s.acceptTransferOwnership(o))}),O(13),x(),he(14,qxe,2,1,"button",10),x()()()}if(2&n){const e=t.$implicit;k(7),ln(e.subject),k(2),_n("Video: ",e.videoTitle,""),k(1),L("innerText",e.body),k(3),_n(" ",e.subject.startsWith("Offer")?"Accept Offer":e.subject.startsWith("Subtitle")?"OK":"Accept"," "),k(1),L("ngIf",!e.subject.startsWith("Subtitle"))}}function Kxe(n,t){if(1&n&&(b(0,"div"),he(1,Wxe,15,5,"div",2),x()),2&n){const e=se();k(1),L("ngForOf",e.messages)}}function Zxe(n,t){1&n&&(b(0,"div")(1,"p"),O(2,"No messages found."),x()())}let Yxe=(()=>{class n{constructor(e,i,r,o){this.messagesService=e,this.notifier=i,this.detailsService=r,this.authService=o,this.messages=[]}ngOnInit(){this.authService.user.subscribe(e=>{this.useruid=e.uid,this.userEmail=e.email;const r=this.messagesService.getUserMessages(this.useruid).stateChanges();this.messagesSubscription=r.subscribe(o=>{o.forEach(s=>{if("added"===s.type){const a=s.payload.doc.data();this.messages.push({id:s.payload.doc.id,sender:a.sender,recipient:a.recipient,subject:a.subject,createdAt:a.createdAt,subtitle_name:a.subtitle_name,body:a.body,videoId:a.videoId,status:a.status,iso:a.iso,language:a.language,format:a.format,videoTitle:a.videoTitle,subtitleId:a.subtitleId})}else if("removed"===s.type){const a=this.messages.findIndex(l=>l.id===s.payload.doc.id);a>=0&&this.messages.splice(a,1)}else if("modified"===s.type){const a=s.payload.doc.data(),l=this.messages.findIndex(c=>c.id===s.payload.doc.id);l>=0&&(this.messages[l]={id:s.payload.doc.id,sender:a.sender,recipient:a.recipient,subject:a.subject,createdAt:a.createdAt,subtitle_name:a.subtitle_name,body:a.body,videoId:a.videoId,status:a.status,iso:a.iso,language:a.language,format:a.format,videoTitle:a.videoTitle,subtitleId:a.subtitleId})}})})})}ngOnDestroy(){this.messagesSubscription.unsubscribe()}getMessages(e,i){this.messagesService.getUserMessages(e).snapshotChanges().pipe(St(r=>(this.messages=r.map(o=>{const s=o.payload.doc.data();return{id:o.payload.doc.id,sender:s.sender,recipient:s.recipient,subject:s.subject,createdAt:s.createdAt,subtitle_name:s.subtitle_name,body:s.body,videoId:s.videoId,status:s.status,iso:s.iso,language:s.language,subtitleId:s.subtitleId}}).filter(o=>o.recipient===i),ne(r)))).subscribe()}acceptTransferOwnership(e){this.messagesService.updateSub(e).then(()=>this.messagesService.resetRequestOwnerEmail(e)).catch(i=>console.error(i)).then(()=>this.messagesService.sendInfoMessage(e,this.useruid)).then(()=>this.messagesService.deleteMessageFromUserMessages(e,this.useruid)).catch(i=>console.error("Error accepting transfer ownership:",i))}declineTransferOwnership(e){this.messagesService.resetRequestOwnerEmail(e).then(()=>this.messagesService.deleteMessageFromUserMessages(e,this.useruid)).catch(i=>console.error("Error declining transfer ownership:",i))}handleOffer(e){var i=this;return(0,$e.Z)(function*(){yield i.messagesService.checkRequestStatus(e,i.useruid).then(r=>{"open"==r?(i.messagesService.checkIfUserRightExists(e,i.useruid).then(o=>{1==o.exists?i.detailsService.updateSharedSubtitleRights(e.videoId,e.iso,e.language,i.useruid,e.subtitle_name,e.format,o.currentRights,e.subtitleId):i.detailsService.addUserRightOnSub(e.videoId,e.iso,e.language,i.useruid,e.subtitle_name,e.format,e.sender,"Editor",e.subtitleId,!1)}),setTimeout(()=>{i.messagesService.setSubtitleIdToRequest(e,i.useruid).then(()=>i.messagesService.closeRequestStatus(e,i.useruid)).then(()=>i.messagesService.sendInfoMessage(e,i.useruid)).then(()=>i.messagesService.sendInfoMessageToList(e,i.useruid)).then(()=>i.messagesService.deleteMessageFromUserMessages(e,i.useruid))},1e3)):i.messagesService.deleteMessageFromUserMessages(e,i.useruid).then(()=>{i.notifier.showNotification("Request has been closed.","DISMISS")})})})()}declineOffer(e){this.messagesService.deleteMessageFromUserMessages(e,this.useruid)}deleteMessage(e){this.messagesService.deleteInfoMessageFromUserMessages(e,this.useruid)}static#e=this.\u0275fac=function(i){return new(i||n)(v(tO),v(mg),v(Fa),v(ps))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-messages"]],features:[Wt([Fa,tO])],decls:4,vars:2,consts:[[1,"messages"],[4,"ngIf"],[4,"ngFor","ngForOf"],["tabindex","0",1,"message-card"],[1,"bullet"],[1,"row"],[1,"col"],[2,"font-weight","500"],[3,"innerText"],[1,"accept",3,"click"],["class","decline",3,"click",4,"ngIf"],[1,"decline",3,"click"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"mat-dialog-content"),he(2,Kxe,2,1,"div",1),he(3,Zxe,3,0,"div",1),x()()),2&i&&(k(2),L("ngIf",r.messages.length>0),k(1),L("ngIf",0===r.messages.length))},dependencies:[jo,xi,Wh,du,ho],styles:[".messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.message-card[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;box-shadow:0 2px 4px #0000001a;border-radius:10px;background-color:#fff;padding:20px}.message-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003}.row[_ngcontent-%COMP%]{display:flex;align-items:center}.col[_ngcontent-%COMP%]{flex:1}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:10px}.mat-card-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin:0}p[_ngcontent-%COMP%]{font-size:16px;color:#666;margin-bottom:20px}button[_ngcontent-%COMP%]{color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px;margin:10px}button[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:active{box-shadow:0 2px 4px #0003}button.accept[_ngcontent-%COMP%]{background-color:#0070f3}button.decline[_ngcontent-%COMP%]{background-color:transparent;color:#333;border:1px solid #ccc}button.accept[_ngcontent-%COMP%]:hover{background-color:#0062cc}button.decline[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#333;border-color:#ddd}.notification-badge[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;background-color:red;color:#fff;text-align:center;font-size:12px;line-height:20px;vertical-align:middle}h2[_ngcontent-%COMP%]{line-height:20px}"]})}return n})(),Qxe=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}getStarted(){this.auth.isLoggedIn?this.router.navigate(["dashboard"]):this.auth.googleSignIn()}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps),v(Ar))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-sign-in"]],decls:58,vars:0,consts:[[1,"framer-17VMZ","snipcss-2LQon",2,"display","contents"],["id","style-S7kbQ",1,"framer-72rtr7","style-S7kbQ"],["data-framer-name","Hero","name","Hero",1,"framer-izipst"],["data-framer-name","Menu","name","Menu",1,"framer-1m6zcj4"],["data-framer-component-type","RichTextContainer","id","style-3xcjG",1,"framer-1o7iind","style-3xcjG"],["id","style-XoYMm",1,"framer-text","style-XoYMm",2,"font-weight","bold","font-size","46px"],["id","style-XoYMm",1,"framer-text","style-XoYMm"],["data-border","true",1,"framer-rs3vcm",3,"click"],["id","style-O989f",1,"framer-text","style-O989f"],[1,"framer-1hto07d"],["data-framer-name","Image","name","Image",1,"framer-11thb9q"],[1,"framer-10b499s"],["data-framer-component-type","RichTextContainer","id","style-jshnF",1,"framer-12fq5iq","style-jshnF"],["id","style-tFLTC",1,"framer-text","style-tFLTC"],["data-framer-name","Image","name","Image",1,"framer-1vhezkk"],["data-framer-background-image-wrapper","true","id","style-WgjoQ",1,"style-WgjoQ"],["src","assets/images/homepage_banner1.jpg","alt","","id","style-e97mo",1,"style-e97mo"],["data-framer-name","Image","name","Image",1,"framer-pp9yjo"],["data-framer-background-image-wrapper","true","id","style-xjifs",1,"style-xjifs"],["src","assets/images/homepage_banner4.webp","alt","","id","style-qAWA5",1,"style-qAWA5"],["data-framer-name","Image","name","Image",1,"framer-3hlrvk"],[1,"framer-uazw45-container"],["id","style-Jj7TO",1,"style-Jj7TO"],["id","curve-pBaYbXGyr-3njpi4","clipPathUnits","objectBoundingBox","transform","scale(0.005)"],["d","M200 99.5882C200 99.5882 155.228 150.176 100 150.176C44.7715 150.176 0 99.5882 0 99.5882C0 99.5882 44.7715 49 100 49C155.228 49 200 99.5882 200 99.5882Z"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-smw6up"],["data-border","true","data-framer-name","Decoration","name","Decoration",1,"framer-kljns1"],["data-framer-name","Metrics","name","Metrics",1,"framer-1fpzmgq"],[1,"framer-1m5sbt9"],["data-framer-name","Card","name","Card",1,"framer-1gvow"],["data-framer-component-type","RichTextContainer","id","style-Y3led",1,"framer-1etk73u","style-Y3led"],["id","style-5Iw2H",1,"framer-text","style-5Iw2H"],["data-framer-component-type","RichTextContainer","id","style-CMm6E",1,"framer-dlcxlt","style-CMm6E"],["id","style-Ps2xU",1,"framer-text","style-Ps2xU"],["data-framer-name","Card","name","Card",1,"framer-xdm1ys"],["data-framer-name","Image","name","Image",1,"framer-1uy86ve"],["data-framer-background-image-wrapper","true","id","style-gdzvo",1,"style-gdzvo"],["src","assets/images/homepage_banner2.jpg","alt","","loading","lazy","id","style-xUGQo",1,"style-xUGQo"],["data-framer-name","Card","name","Card",1,"framer-e74uzy"],["data-framer-name","Image","name","Image",1,"framer-1q6krjs"],["data-framer-background-image-wrapper","true","id","style-JY3C8",1,"style-JY3C8"],["src","assets/images/homepage_banner3.webp","alt","","loading","lazy","id","style-qjeZY",1,"style-qjeZY"],["data-framer-name","Card","name","Card",1,"framer-lywx49"],["data-framer-component-type","RichTextContainer","id","style-Dr8BU",1,"framer-sun0bc","style-Dr8BU"],["id","style-Z8CAj",1,"framer-text","style-Z8CAj"],["data-framer-component-type","RichTextContainer","id","style-8hoXX",1,"framer-n2z993","style-8hoXX"],["id","style-UrLUD",1,"framer-text","style-UrLUD"],["id","overlay"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"p",5),O(6,"Sub & Dub "),x(),b(7,"p",6),O(8,"Revolution in Subtitling & Dubbing "),x()()(),b(9,"div",7),Te("click",function(){return r.getStarted()}),b(10,"h1",8),O(11," GET STARTED "),x()(),b(12,"div",9)(13,"div",10),vt(14,"div",11),b(15,"div",12)(16,"h1",13),O(17,"Seamlessly combine the precision of Google Translate with the human touch of ChatGPT. It\u2019s subtitle magic like you\u2019ve never seen before. No language is out of reach now! "),x()()(),b(18,"div",14)(19,"div",15),vt(20,"img",16),x()(),b(21,"div",17)(22,"div",18),vt(23,"img",19),x()(),b(24,"div",20)(25,"div",21)(26,"div",22),yc(),b(27,"svg")(28,"clipPath",23),vt(29,"path",24),x()()()()(),tp(),vt(30,"div",25)(31,"div",26),x()(),b(32,"div",27)(33,"div",28)(34,"div",29)(35,"div",30)(36,"h2",31),O(37," 100+ "),x()(),b(38,"div",32)(39,"h3",33),O(40," Languages available for translation. Your content, for the world to understand. "),x()()(),b(41,"div",34)(42,"div",35)(43,"div",36),vt(44,"img",37),x()()(),b(45,"div",38)(46,"div",39)(47,"div",40),vt(48,"img",41),x()()(),b(49,"div",42)(50,"div",43)(51,"h2",44),O(52," Google Translate & ChatGPT "),x(),vt(53,"br"),x(),b(54,"div",45)(55,"h2",46),O(56,"Got a French movie that needs English subtitles? We've got you covered. From Greek comedies to Japanese thrillers, we\u2019re your linguistic maestros."),x()()()()()(),vt(57,"div",47),x())},styles:['.main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif;background:#000000}body[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px}*[_ngcontent-%COMP%]{box-sizing:border-box;-webkit-font-smoothing:inherit}body[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-size:12px;font-family:sans-serif}body[_ngcontent-%COMP%]{--framer-aspect-ratio-supported: auto}html[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}[_ngcontent-%COMP%]:root{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.framer-17VMZ[_ngcontent-%COMP%]   .framer-72rtr7[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#000;display:flex;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:0;position:relative;width:1200px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-izipst[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:flex-start;min-height:800px;overflow:hidden;padding:30px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1fpzmgq[_ngcontent-%COMP%]{align-content:center;align-items:center;background-color:#fff;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;height:min-content;justify-content:flex-start;overflow:hidden;padding:50px 100px 100px;position:relative;width:100%}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m6zcj4[_ngcontent-%COMP%]{max-width:1000px;padding-left:20px;padding-right:20px;align-content:center;align-items:center;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:20px;height:min-content;justify-content:center;overflow:hidden;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-rs3vcm[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;align-content:center;align-items:center;border-radius:60px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;height:min-content;justify-content:center;max-width:1000px;overflow:hidden;padding:20px 60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:3;cursor:pointer}.framer-rs3vcm[_ngcontent-%COMP%]:hover{background:black;color:#fff}.framer-rs3vcm[_ngcontent-%COMP%]:hover   h1[_ngcontent-%COMP%]{color:#fff}.framer-17VMZ[_ngcontent-%COMP%]   [data-border=true][_ngcontent-%COMP%]:after{content:"";border-width:var(--border-top-width, 0) var(--border-right-width, 0) var(--border-bottom-width, 0) var(--border-left-width, 0);border-color:var(--border-color, none);border-style:var(--border-style, none);width:100%;height:100%;position:absolute;box-sizing:border-box;left:0;top:0;border-radius:inherit;pointer-events:none}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1hto07d[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:minmax(0,1fr);grid-template-columns:repeat(5,minmax(20px,1fr));grid-template-rows:repeat(3,minmax(0,1fr));height:600px;justify-content:center;max-width:1000px;overflow:visible;padding:0;position:relative;width:100%;z-index:3}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1m5sbt9[_ngcontent-%COMP%]{display:grid;flex:none;gap:20px;grid-auto-rows:min-content;grid-template-columns:repeat(3,minmax(40px,1fr));grid-template-rows:repeat(2,min-content);height:auto;justify-content:center;max-width:1000px;overflow:hidden;padding:0;position:relative;width:100%}[data-framer-component-type][_ngcontent-%COMP%]{position:absolute}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1o7iind[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;position:relative;white-space:pre-wrap;width:1px;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-wb0dvw[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-136627z[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-1wb833e[_ngcontent-%COMP%]{flex:none;height:auto;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-eca7qj[_ngcontent-%COMP%]{flex:1 0 0px;height:auto;max-width:1000px;position:relative;white-space:pre;width:1px;z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-11thb9q[_ngcontent-%COMP%]{align-content:flex-start;align-items:flex-start;align-self:flex-start;background-color:#f2f2f2;border-bottom-left-radius:60px;border-bottom-right-radius:60px;border-top-left-radius:60px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:30px;grid-column:auto / span 3;grid-row:auto / span 2;height:100%;justify-self:flex-start;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1vhezkk[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;grid-row:auto / span 2;height:100%;justify-self:flex-start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-pp9yjo[_ngcontent-%COMP%]{align-self:flex-start;border-bottom-right-radius:200px;border-top-left-radius:200px;border-top-right-radius:200px;flex:none;grid-column:auto / span 2;height:100%;justify-self:start;mix-blend-mode:luminosity;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-3hlrvk[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:flex-start;background-color:#f2f2f2;border-radius:200px;display:flex;flex:none;flex-direction:row;flex-wrap:nowrap;gap:10px;grid-column:auto / span 3;height:100%;justify-content:center;justify-self:flex-start;overflow:hidden;padding:20px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform);z-index:1}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1mtveio[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;flex:none;height:375px;left:-400px;overflow:hidden;position:absolute;top:-189px;transform:rotate(-50deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-smw6up[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(65deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-kljns1[_ngcontent-%COMP%]{--border-bottom-width: 1px;--border-color: #000000;--border-left-width: 1px;--border-right-width: 1px;--border-style: solid;--border-top-width: 1px;border-radius:100%;bottom:77px;flex:none;height:305px;overflow:hidden;position:absolute;right:-327px;transform:rotate(115deg);width:578px;will-change:var(--framer-will-change-override, transform);z-index:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1gvow[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-xdm1ys[_ngcontent-%COMP%], .framer-17VMZ[_ngcontent-%COMP%]   .framer-e74uzy[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:20px;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-lywx49[_ngcontent-%COMP%]{align-content:center;align-items:center;align-self:center;background-color:#f2f2f2;border-radius:40px;display:flex;flex:none;flex-direction:column;flex-wrap:nowrap;gap:0px;grid-column:auto / span 2;height:320px;justify-content:center;justify-self:center;overflow:hidden;padding:60px;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}p[_ngcontent-%COMP%]{margin:0}p.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}p.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, MartianMono, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}p.framer-text[_ngcontent-%COMP%]{font-size:36px;margin:0;padding:0}.framer-17VMZ[_ngcontent-%COMP%]   .framer-10b499s[_ngcontent-%COMP%]{background-color:#000;flex:none;height:1px;overflow:hidden;position:relative;width:60px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-12fq5iq[_ngcontent-%COMP%]{flex:none;height:auto;max-width:800px;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-uazw45-container[_ngcontent-%COMP%]{aspect-ratio:1 / 1;flex:none;height:var(--framer-aspect-ratio-supported, 80px);position:relative;width:80px}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1etk73u[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-dlcxlt[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1uy86ve[_ngcontent-%COMP%]{border-radius:200px 40px;flex:1 0 0px;height:1px;overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-1q6krjs[_ngcontent-%COMP%]{aspect-ratio:1 / 1;border-radius:40px 200px 200px;flex:none;height:var(--framer-aspect-ratio-supported, 200px);overflow:hidden;position:relative;width:100%;will-change:var(--framer-will-change-override, transform)}.framer-17VMZ[_ngcontent-%COMP%]   .framer-sun0bc[_ngcontent-%COMP%]{flex:none;height:auto;overflow:visible;position:relative;white-space:pre;width:auto}.framer-17VMZ[_ngcontent-%COMP%]   .framer-n2z993[_ngcontent-%COMP%]{flex:none;height:auto;max-width:400px;overflow:visible;position:relative;white-space:pre-wrap;width:100%;word-break:break-word;word-wrap:break-word}h1[_ngcontent-%COMP%]{margin:0}h1.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h1.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h2[_ngcontent-%COMP%]{margin:0}h2.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h2.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}h3[_ngcontent-%COMP%]{margin:0}h3.framer-text[_ngcontent-%COMP%]{font-family:var(--framer-font-family, Inter, Inter Placeholder, sans-serif);font-style:var(--framer-font-style, normal);font-weight:var(--framer-font-weight, 400);color:var(--framer-text-color, #000);font-size:calc(var(--framer-font-size, 16px) * var(--framer-font-size-scale, 1));letter-spacing:var(--framer-letter-spacing, 0);text-transform:var(--framer-text-transform, none);-webkit-text-decoration:var(--framer-text-decoration, none);text-decoration:var(--framer-text-decoration, none);line-height:var(--framer-line-height, 1.2em);text-align:var(--framer-text-alignment, flex-start)}h3.framer-text[_ngcontent-%COMP%]{margin:0;padding:0}#style-S7kbQ.style-S7kbQ[_ngcontent-%COMP%]{min-height:100vh;width:auto}#style-3xcjG.style-3xcjG[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-XoYMm.style-XoYMm[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-text-alignment:left}#style-GgNFF.style-GgNFF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-gCFUU.style-gCFUU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-4A8kg.style-4A8kg[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-SaWoJ.style-SaWoJ[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-EM8Aq.style-EM8Aq[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-PlBz8.style-PlBz8[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace}#style-GXDKo.style-GXDKo[_ngcontent-%COMP%]{overflow:visible;transform-origin:center center}#style-O989f.style-O989f[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:60px;--framer-font-weight:700;--framer-line-height:1.1em;--framer-text-alignment:left;--framer-text-transform:uppercase}#style-jshnF.style-jshnF[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-tFLTC.style-tFLTC[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-line-height:1.4em;--framer-text-alignment:left}#style-WgjoQ.style-WgjoQ[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-e97mo.style-e97mo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-xjifs.style-xjifs[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qAWA5.style-qAWA5[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Jj7TO.style-Jj7TO[_ngcontent-%COMP%]{width:100%;height:100%;clip-path:url(#curve-pBaYbXGyr-3njpi4);background:rgb(0,0,0)}#style-Y3led.style-Y3led[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-5Iw2H.style-5Iw2H[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family:"MartianMono", sans-serif;--framer-font-size:80px;--framer-font-weight:700;--framer-text-alignment:left}#style-CMm6E.style-CMm6E[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Ps2xU.style-Ps2xU[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}#style-gdzvo.style-gdzvo[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-xUGQo.style-xUGQo[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-JY3C8.style-JY3C8[_ngcontent-%COMP%]{position:absolute;border-radius:inherit;inset:0}#style-qjeZY.style-qjeZY[_ngcontent-%COMP%]{display:block;width:100%;height:100%;border-radius:inherit;object-position:center;object-fit:cover;image-rendering:auto}#style-Dr8BU.style-Dr8BU[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-Z8CAj.style-Z8CAj[_ngcontent-%COMP%]{--font-selector:R0Y7VW5ib3VuZGVkLTcwMA==;--framer-font-family: "MartianMono", sans-serif;--framer-font-size:25px;--framer-font-weight:700;--framer-text-alignment:left}#style-8hoXX.style-8hoXX[_ngcontent-%COMP%]{outline:none;display:flex;flex-direction:column;justify-content:flex-start;flex-shrink:0;transform:none}#style-UrLUD.style-UrLUD[_ngcontent-%COMP%]{--font-selector:R0Y7TWFydGlhbiBNb25vLXJlZ3VsYXI=;--framer-font-family:"Martian Mono", monospace;--framer-font-size:20px;--framer-letter-spacing:-.025em;--framer-line-height:1.5em;--framer-text-alignment:center;--framer-text-color:rgb(41, 50, 65)}']})}return n})();const nO=We(n=>!!n);let Jl=(()=>{class n{router;auth;constructor(e,i){this.router=e,this.auth=i}canActivate=(e,i)=>{const r=e.data.authGuardPipe||(()=>nO);return this.auth.user.pipe(sn(1),r(e,i),We(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(Y(Ar),Y(vm))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Qh=(()=>{class n{constructor(e,i,r,o,s){this.http=e,this.authService=i,this.firestore=r,this.storageRef=o,this.snackbar=s}createFirestorageRef(e,i,r,o,s){let a;this.storageRef=e,this.authService.user.pipe(sn(1)).subscribe(l=>{a=this.storageRef.ref(`subtitles/${l.uid}/${o}/${i}/${s}`),this.uploadToFirestorage(a,r,l.uid,o,i,s)})}saveToFireStorageShared(e,i,r,o,s,a){let l;this.storageRef=i,l=this.storageRef.ref(`subtitles/${e}/${s}/${r}/${a}`),this.uploadToFirestorage(l,o,e,s,r,a)}uploadToFirestorage(e,i,r,o,s,a){e.put(i).then(()=>{const l=this.firestore.doc(`users/${r}/videos/${o}/subtitleLanguages/${s}/subtitles/${a.split(".")[0]}`);e.getDownloadURL().pipe(sn(1)).subscribe(c=>{l.update({storageUrl:c,lastUpdated:Date.now()}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},l=>{this.snackbar.open(l.message)})}createFirestorageRefCommunity(e,i,r,o){let s;this.storageRef=e,this.authService.user.pipe(sn(1)).subscribe(a=>{s=this.storageRef.ref(`community-subtitles/${r}/${a.uid}/${o.videoId}`),this.uploadToFirestorageCommunitySub(s,i,a,r,o)})}uploadToFirestorageCommunitySub(e,i,r,o,s){e.put(i).then(()=>{const a=this.firestore.doc(`users/${s.requestedByID}/notifications/${o}/subtitles/${r.uid}`);e.getDownloadURL().pipe(sn(1)).subscribe(l=>{a.set({requestId:o,storageUrl:l,created:Date.now(),createdBy:r.displayName}),this.snackbar.open("Update Complete!","DISMISS",{duration:5e3})})},a=>{this.snackbar.open(a.message)})}getSubtitleURL(e,i,r){return this.authService.user.pipe(sn(1),St(o=>this.firestore.doc(`users/${o.uid}/videos/${e}/subtitleLanguages/${i}/subtitles/${r.split(".")[0]}`).get()),We(o=>o.get("storageUrl")))}getSubtitleURLForShared(e,i,r,o){return this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${o.split(".")[0]}`).get().pipe(sn(1),We(a=>a.get("storageUrl")))}fetchSubtitleFile(e){return this.http.get(e,{responseType:"text"})}deleteSubtitleFile(e){const i=this.storageRef.ref(e);try{return i.delete()}catch(r){console.log(r.message)}}getCommunityRequestDetails(e){return this.firestore.doc(`helpRequests/${e}`).get().pipe(We(i=>i.data()))}getCountries(e){return this.firestore.collection(`users/${e}/languages/`).valueChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Gc),Y(ps),Y(oa),Y(bg),Y(Ls))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1,"You have unsaved changes!"),x(),b(2,"mat-dialog-content",1)(3,"h3"),O(4,"Are you sure you want to leave without saving? All unsaved progress will be lost!"),x()(),b(5,"mat-dialog-actions",2)(6,"button",3),O(7,"Cancel"),x(),b(8,"button",4),O(9,"Leave without save"),x()()),2&i&&(k(6),L("mat-dialog-close",!1),k(2),L("mat-dialog-close",!0))},dependencies:[br,So,uo,ho,To]})}return n})(),la=(()=>{class n{constructor(e){this.http=e}translate(e){return this.http.post("https://translation.googleapis.com/language/translate/v2?key="+pg,e)}getSupportedLanguages(){return this.http.get(`https://translation.googleapis.com/language/translate/v2/languages?target=en&key=${pg}`)}detectLanguage(e){return this.http.post(`https://translation.googleapis.com/language/translate/v2/detect?key=${pg}`,{q:e})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Gc))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PD=(()=>{class n{constructor(e){this.firestore=e}getRequestOwnerEmail(e,i,r,o,s){var a=this;return(0,$e.Z)(function*(){const l=yield a.firestore.collection("sharedVideos",c=>c.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fileName","==",o).where("id","==",s)).get().toPromise();return l.empty?null:l.docs[0].data().requestOwnerEmail})()}getSharedSubtitleLanguages(e,i){return this.firestore.collection("sharedVideos",o=>o.where("videoId","==",i)).get().pipe(We(o=>o.docs.filter(s=>{const a=s.data().usersRights;return a.some(l=>l.userEmail===e)&&a.length>1}).map(s=>s.data())))}setIsUsedSubtitle(e,i,r,o,s,a,l,c){var d=this;return(0,$e.Z)(function*(){var f;s&&d.firestore.collection("sharedVideos",y=>y.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fullFilename","==",o).where("id","==",s)).get().subscribe(y=>{y.empty?console.log("No matching documents."):y.forEach(C=>{f=""==l||null==l?C.data().usersRights.find(R=>"Owner"===R.right).userUid:l,C.ref.update({isUsed:a,isUsedBy:c}).then(()=>{const R=d.firestore.collection("users").doc(f).collection("videos").doc(e).collection("subtitleLanguages").doc(i).collection("subtitles").doc(o.split(".")[0]);R.get().toPromise().then(F=>{F.exists?R.update({isUsed:a,isUsedBy:c}):console.log("No matching users documents.")})}).catch(R=>{console.error("Error updating document: ",R)})})})})()}getSubtitleIsUsed(e,i,r,o,s){return new Promise((a,l)=>{""!==s&&null!=s?this.firestore.collection("sharedVideos",d=>d.where("videoId","==",e).where("iso","==",i).where("language","==",r).where("fullFilename","==",o).where("id","==",s)).get().toPromise().then(d=>{if(d.empty)console.log("No matching documents."),a(null);else{const f=d.docs[0].data(),g=f.hasOwnProperty("isUsed")?f.isUsed:void 0,y=f.hasOwnProperty("isUsedBy")?f.isUsedBy:void 0;a(void 0===g?null:{isUsed:g,isUsedBy:y})}}).catch(d=>{console.error("Error fetching subtitle data:",d),l(d)}):a(null)})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eCe(n,t){1&n&&vt(0,"fullscreen-loader")}const tCe=function(){return{rel:0,fs:0}};let Kq=(()=>{class n{constructor(e){this.youtube=e,this.apiLoaded=!1,this.playerReady=!1}ngOnInit(){if(!this.apiLoaded){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),this.apiLoaded=!0}}playerLoaded(e){this.playerReady=!0,this.youtube.playerRefSetter(e.target)}handleState(e){1===e.data?this.youtube.startTimeTracking():2===e.data&&this.youtube.stopTimeTracking()}ngOnDestroy(){this.youtube.stopTimeTracking(),this.youtube.updateCurrentCaption(null)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Kh))};static#t=this.\u0275cmp=It({type:n,selectors:[["video-player"]],inputs:{captionsPreview:"captionsPreview",videoId:"videoId"},decls:6,vars:5,consts:[[1,"card"],[1,"card-content"],[3,"videoId","playerVars","ready","stateChange"],[1,"captions-preview-emulation"],[4,"ngIf"]],template:function(i,r){1&i&&(b(0,"mat-card",0)(1,"mat-card-content",1)(2,"youtube-player",2),Te("ready",function(s){return r.playerLoaded(s)})("stateChange",function(s){return r.handleState(s)}),x(),b(3,"span",3),O(4),x()()(),he(5,eCe,1,0,"fullscreen-loader",4)),2&i&&(k(2),L("videoId",r.videoId)("playerVars",xy(4,tCe)),k(2),ln(r.captionsPreview),k(1),L("ngIf",!r.playerReady))},dependencies:[xi,VP,Wh,bb,Zh],styles:[".card-content[_ngcontent-%COMP%]{height:66vh}.captions-preview-emulation[_ngcontent-%COMP%]{position:absolute;display:flex;bottom:100px;width:95%;color:#fff;font-size:18px;justify-content:center;padding:10px;background-color:transparent}  youtube-player iframe{height:100%;width:100%}"]})}return n})(),iO=(()=>{class n{constructor(e,i){this.googleTranslate=e,this.snackbar=i}cleanMultilineString(e){const i=e.trim().replace(/(\r|\r)/gm,"").split("\n"),r=[];let o={start_time:"",end_time:"",subtitleText:""};for(let s=0;s<i.length;s++){const a=i[s].trim();if(a.match(/^(\d{1,2}:\d{2}:\d{2}\.\d{3}),(\d{1,2}:\d{2}:\d{2}\.\d{3})$/)){const[c,d]=a.split(",");o={start_time:this.formatTimestamp(c),end_time:this.formatTimestamp(d),subtitleText:""},r.push(o)}else""!==a&&(o.subtitleText+=a+" ")}return r}youtubeTranscriptParse(e){const i=[],r=e.trim().replace(/(\r|\r)/gm,"").split("\n");let o={start_time:"",end_time:"",subtitleText:""};for(const s of r){const a=s.match(/^(\d+:\d+)\s*(.*)/);if(a){const[,l,c]=a;o.start_time&&(o.end_time="0"+l.trim()+".000",i.push(o)),o={start_time:"0"+l+".000",end_time:"",subtitleText:""}}else o.subtitleText+=s.trim()+" "}return o.start_time&&(o.end_time=o.end_time.trim()?o.end_time.trim():"0"+o.start_time+".000",i.push(o)),i}importActorsFromFile(e){try{return JSON.parse(e).actors}catch(i){console.error("Error parsing JSON:",i),this.snackbar.open("There was a problem reading the JSON file","OK",{duration:3500})}}formatTimestamp(e){const i=e.split(":");return i.shift(),i.join(":")}static#e=this.\u0275fac=function(i){return new(i||n)(Y(la),Y(Ls))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wc(n){const t=n?.split(":"),[e,i]=t[1]?.split(".");return{hour:Math.floor(parseInt(t[0],10)/60),minute:parseInt(t[0],10),seconds:parseInt(e,10),ms:parseInt(i,10)}}function _s(n){return 60*n.hour*60+60*n.minute+n.seconds+n.ms/1e3}var Zq=ze(217),Yq=ze(965);let rO=(()=>{class n{constructor(e,i,r){this.storage=e,this.http=i,this.snackbar=r}downloadSubtitleFiles(e,i){const r=new Yq;e.forEach((o,s)=>{r.file(i[s],o)}),r.generateAsync({type:"blob"}).then(o=>{(0,Zq.saveAs)(o,"subtitles.zip")}).catch(o=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),console.error("Error downloading subtitle files: "+o.message())})}massExportSubtitles(e,i,r){const o=new Yq;let s=[],a=[];const l=e.map((c,d)=>new Promise((f,g)=>{const y=c.fullFileName,C=this.storage.ref(`subtitles/${r}/${i}/${c.iso}/${y}`);s.push(y.split(".")[0]+"["+c.iso+"]."+y.split(".")[1]),C.getDownloadURL().subscribe({next:R=>{this.http.get(R,{responseType:"text"}).subscribe({next:F=>{const te=new Blob([F],{type:"text/"+y.split(".").pop()+";charset=utf8"});a.push(te),f()},error:F=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),g(F)}})},error:R=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),g(R)}})}));Promise.all(l).then(()=>{a.forEach((c,d)=>{o.file(s[d],c)}),o.generateAsync({type:"blob"}).then(c=>{const d=document.createElement("a"),f=URL.createObjectURL(c);d.href=f,d.download="subtitles.zip",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(f),this.snackbar.open("Subtitles downloaded successfully","OK",{duration:5e3})})}).catch(c=>{this.snackbar.open("There was a problem downloading the subtitle files","DISMISS",{duration:5e3}),console.error("Error downloading files:",c)})}exportAllActors(e){const i=JSON.stringify({actors:e},null,2),r=new Blob([i],{type:"application/json"});(0,Zq.saveAs)(r,"actors.json")}static#e=this.\u0275fac=function(i){return new(i||n)(Y(bg),Y(Gc),Y(Ls))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nCe=["dialogPopup"],iCe=["hueSlider"],rCe=["alphaSlider"];function oCe(n,t){if(1&n&&vt(0,"div"),2&n){const e=se();kx("arrow arrow-",e.cpUsePosition,""),ai("left",e.cpArrowPosition)("top",e.arrowTop,"px")}}function sCe(n,t){if(1&n){const e=Yt();b(0,"div",28),Te("newValue",function(r){return Xe(e),Ye(se().onColorChange(r))})("dragStart",function(){return Xe(e),Ye(se().onDragStart("saturation-lightness"))})("dragEnd",function(){return Xe(e),Ye(se().onDragEnd("saturation-lightness"))}),vt(1,"div",14),x()}if(2&n){const e=se();ai("background-color",e.hueSliderColor),L("rgX",1)("rgY",1),k(1),ai("top",null==e.slider?null:e.slider.v,"px")("left",null==e.slider?null:e.slider.s,"px")}}function aCe(n,t){1&n&&(yc(),b(0,"svg",29),vt(1,"path",30)(2,"path",31),x())}function lCe(n,t){if(1&n){const e=Yt();b(0,"button",32),Te("click",function(r){Xe(e);const o=se();return Ye(o.onAddPresetColor(r,o.selectedColor))}),O(1),x()}if(2&n){const e=se();rh(e.cpAddColorButtonClass),L("disabled",e.cpPresetColors&&e.cpPresetColors.length>=e.cpMaxPresetColorsLength),k(1),_n(" ",e.cpAddColorButtonText," ")}}function cCe(n,t){1&n&&vt(0,"div",33)}function dCe(n,t){if(1&n){const e=Yt();b(0,"input",39),Te("keyup.enter",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se(2).onAlphaInput(r))}),x()}if(2&n){const e=se(2);L("rg",1)("value",null==e.cmykText?null:e.cmykText.a)}}function uCe(n,t){1&n&&(b(0,"div"),O(1,"A"),x())}function hCe(n,t){if(1&n){const e=Yt();b(0,"div",34)(1,"div",35)(2,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onCyanInput(r))}),x(),b(3,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onMagentaInput(r))}),x(),b(4,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onYellowInput(r))}),x(),b(5,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onBlackInput(r))}),x(),he(6,dCe,1,2,"input",37),x(),b(7,"div",35)(8,"div"),O(9,"C"),x(),b(10,"div"),O(11,"M"),x(),b(12,"div"),O(13,"Y"),x(),b(14,"div"),O(15,"K"),x(),he(16,uCe,2,0,"div",38),x()()}if(2&n){const e=se();ai("display",3!==e.format?"none":"block"),k(2),L("rg",100)("value",null==e.cmykText?null:e.cmykText.c),k(1),L("rg",100)("value",null==e.cmykText?null:e.cmykText.m),k(1),L("rg",100)("value",null==e.cmykText?null:e.cmykText.y),k(1),L("rg",100)("value",null==e.cmykText?null:e.cmykText.k),k(1),L("ngIf","disabled"!==e.cpAlphaChannel),k(10),L("ngIf","disabled"!==e.cpAlphaChannel)}}function fCe(n,t){if(1&n){const e=Yt();b(0,"input",39),Te("keyup.enter",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se(2).onAlphaInput(r))}),x()}if(2&n){const e=se(2);L("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function pCe(n,t){1&n&&(b(0,"div"),O(1,"A"),x())}function mCe(n,t){if(1&n){const e=Yt();b(0,"div",40)(1,"div",35)(2,"input",41),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onHueInput(r))}),x(),b(3,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onSaturationInput(r))}),x(),b(4,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onLightnessInput(r))}),x(),he(5,fCe,1,2,"input",37),x(),b(6,"div",35)(7,"div"),O(8,"H"),x(),b(9,"div"),O(10,"S"),x(),b(11,"div"),O(12,"L"),x(),he(13,pCe,2,0,"div",38),x()()}if(2&n){const e=se();ai("display",2!==e.format?"none":"block"),k(2),L("rg",360)("value",null==e.hslaText?null:e.hslaText.h),k(1),L("rg",100)("value",null==e.hslaText?null:e.hslaText.s),k(1),L("rg",100)("value",null==e.hslaText?null:e.hslaText.l),k(1),L("ngIf","disabled"!==e.cpAlphaChannel),k(8),L("ngIf","disabled"!==e.cpAlphaChannel)}}function gCe(n,t){if(1&n){const e=Yt();b(0,"input",39),Te("keyup.enter",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se(2).onAlphaInput(r))}),x()}if(2&n){const e=se(2);L("rg",1)("value",null==e.rgbaText?null:e.rgbaText.a)}}function _Ce(n,t){1&n&&(b(0,"div"),O(1,"A"),x())}function yCe(n,t){if(1&n){const e=Yt();b(0,"div",42)(1,"div",35)(2,"input",43),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onRedInput(r))}),x(),b(3,"input",43),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onGreenInput(r))}),x(),b(4,"input",43),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onBlueInput(r))}),x(),he(5,gCe,1,2,"input",37),x(),b(6,"div",35)(7,"div"),O(8,"R"),x(),b(9,"div"),O(10,"G"),x(),b(11,"div"),O(12,"B"),x(),he(13,_Ce,2,0,"div",38),x()()}if(2&n){const e=se();ai("display",1!==e.format?"none":"block"),k(2),L("rg",255)("value",null==e.rgbaText?null:e.rgbaText.r),k(1),L("rg",255)("value",null==e.rgbaText?null:e.rgbaText.g),k(1),L("rg",255)("value",null==e.rgbaText?null:e.rgbaText.b),k(1),L("ngIf","disabled"!==e.cpAlphaChannel),k(8),L("ngIf","disabled"!==e.cpAlphaChannel)}}function vCe(n,t){if(1&n){const e=Yt();b(0,"input",39),Te("keyup.enter",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se(2).onAlphaInput(r))}),x()}if(2&n){const e=se(2);L("rg",1)("value",e.hexAlpha)}}function bCe(n,t){1&n&&(b(0,"div"),O(1,"A"),x())}function wCe(n,t){if(1&n){const e=Yt();b(0,"div",44)(1,"div",35)(2,"input",45),Te("blur",function(){return Xe(e),Ye(se().onHexInput(null))})("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onHexInput(r))}),x(),he(3,vCe,1,2,"input",37),x(),b(4,"div",35)(5,"div"),O(6,"Hex"),x(),he(7,bCe,2,0,"div",38),x()()}if(2&n){const e=se();ai("display",0!==e.format?"none":"block"),hn("hex-alpha","forced"===e.cpAlphaChannel),k(2),L("value",e.hexText),k(1),L("ngIf","forced"===e.cpAlphaChannel),k(4),L("ngIf","forced"===e.cpAlphaChannel)}}function xCe(n,t){if(1&n){const e=Yt();b(0,"input",39),Te("keyup.enter",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se(2).onAlphaInput(r))}),x()}if(2&n){const e=se(2);L("rg",1)("value",null==e.hslaText?null:e.hslaText.a)}}function CCe(n,t){if(1&n){const e=Yt();b(0,"div",46)(1,"div",35)(2,"input",36),Te("keyup.enter",function(r){return Xe(e),Ye(se().onAcceptColor(r))})("newValue",function(r){return Xe(e),Ye(se().onValueInput(r))}),x(),he(3,xCe,1,2,"input",37),x(),b(4,"div",35)(5,"div"),O(6,"V"),x(),b(7,"div"),O(8,"A"),x()()()}if(2&n){const e=se();k(2),L("rg",100)("value",null==e.hslaText?null:e.hslaText.l),k(1),L("ngIf","disabled"!==e.cpAlphaChannel)}}function ECe(n,t){if(1&n){const e=Yt();b(0,"div",47)(1,"span",48),Te("click",function(){return Xe(e),Ye(se().onFormatToggle(-1))}),x(),b(2,"span",48),Te("click",function(){return Xe(e),Ye(se().onFormatToggle(1))}),x()()}}function DCe(n,t){if(1&n){const e=Yt();b(0,"span",55),Te("click",function(r){Xe(e);const o=se().$implicit;return Ye(se(3).onRemovePresetColor(r,o))}),x()}2&n&&rh(se(4).cpRemoveColorButtonClass)}function ICe(n,t){if(1&n){const e=Yt();b(0,"div",53),Te("click",function(){const o=Xe(e).$implicit;return Ye(se(3).setColorFromString(o))}),he(1,DCe,1,3,"span",54),x()}if(2&n){const e=t.$implicit,i=se(3);ai("background-color",e),k(1),L("ngIf",i.cpAddColorButton)}}function SCe(n,t){if(1&n&&(b(0,"div"),he(1,ICe,2,3,"div",52),x()),2&n){const e=se(2);rh(e.cpPresetColorsClass),k(1),L("ngForOf",e.cpPresetColors)}}function TCe(n,t){if(1&n&&(b(0,"div"),O(1),x()),2&n){const e=se(2);rh(e.cpPresetEmptyMessageClass),k(1),ln(e.cpPresetEmptyMessage)}}function ACe(n,t){if(1&n&&(b(0,"div",49),vt(1,"hr"),b(2,"div",50),O(3),x(),he(4,SCe,2,4,"div",51),he(5,TCe,2,4,"div",51),x()),2&n){const e=se();k(3),ln(e.cpPresetLabel),k(1),L("ngIf",null==e.cpPresetColors?null:e.cpPresetColors.length),k(1),L("ngIf",!(null!=e.cpPresetColors&&e.cpPresetColors.length)&&e.cpAddColorButton)}}function kCe(n,t){if(1&n){const e=Yt();b(0,"button",58),Te("click",function(r){return Xe(e),Ye(se(2).onCancelColor(r))}),O(1),x()}if(2&n){const e=se(2);rh(e.cpCancelButtonClass),k(1),ln(e.cpCancelButtonText)}}function MCe(n,t){if(1&n){const e=Yt();b(0,"button",58),Te("click",function(r){return Xe(e),Ye(se(2).onAcceptColor(r))}),O(1),x()}if(2&n){const e=se(2);rh(e.cpOKButtonClass),k(1),ln(e.cpOKButtonText)}}function RCe(n,t){if(1&n&&(b(0,"div",56),he(1,kCe,2,4,"button",57),he(2,MCe,2,4,"button",57),x()),2&n){const e=se();k(1),L("ngIf",e.cpCancelButton),k(1),L("ngIf",e.cpOKButton)}}function PCe(n,t){1&n&&Jr(0)}function OCe(n,t){if(1&n&&(b(0,"div",59),he(1,PCe,1,0,"ng-container",60),x()),2&n){const e=se();k(1),L("ngTemplateOutlet",e.cpExtraTemplate)}}var ys=function(n){return n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK",n}(ys||{});class Kc{constructor(t,e,i,r){this.r=t,this.g=e,this.b=i,this.a=r}}class OD{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class Xh{constructor(t,e,i,r){this.h=t,this.s=e,this.l=i,this.a=r}}class Tb{constructor(t,e,i,r,o=1){this.c=t,this.m=e,this.y=i,this.k=r,this.a=o}}let LCe=(()=>{class n{constructor(){this.newValue=new Ct}inputChange(e){const i=e.target.value;if(void 0===this.rg)this.newValue.emit(i);else{const r=parseFloat(i);this.newValue.emit({v:r,rg:this.rg})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["","text",""]],hostBindings:function(e,i){1&e&&Te("input",function(o){return i.inputChange(o)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),VCe=(()=>{class n{constructor(e){this.elRef=e,this.dragEnd=new Ct,this.dragStart=new Ct,this.newValue=new Ct,this.listenerMove=i=>this.move(i),this.listenerStop=()=>this.stop()}mouseDown(e){this.start(e)}touchStart(e){this.start(e)}move(e){e.preventDefault(),this.setCursor(e)}start(e){this.setCursor(e),e.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageX?e.pageX:e.touches[0].pageX)-i.left-window.pageXOffset}getY(e){const i=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==e.pageY?e.pageY:e.touches[0].pageY)-i.top-window.pageYOffset}setCursor(e){const i=this.elRef.nativeElement.offsetWidth,r=this.elRef.nativeElement.offsetHeight,o=Math.max(0,Math.min(this.getX(e),i)),s=Math.max(0,Math.min(this.getY(e),r));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:o/i,v:1-s/r,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:s/r,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:o/i,rgX:this.rgX})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","slider",""]],hostBindings:function(e,i){1&e&&Te("mousedown",function(o){return i.mouseDown(o)})("touchstart",function(o){return i.touchStart(o)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class Qq{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}class Xq{constructor(t,e,i,r){this.h=t,this.s=e,this.v=i,this.a=r}}let oO=(()=>{class n{constructor(){this.active=null}setActive(e){this.active&&this.active!==e&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=e}hsva2hsla(e){const i=e.h,r=e.s,o=e.v,s=e.a;if(0===o)return new Xh(i,0,0,s);if(0===r&&1===o)return new Xh(i,1,1,s);{const a=o*(2-r)/2;return new Xh(i,o*r/(1-Math.abs(2*a-1)),a,s)}}hsla2hsva(e){const i=Math.min(e.h,1),r=Math.min(e.s,1),o=Math.min(e.l,1),s=Math.min(e.a,1);if(0===o)return new OD(i,0,0,s);{const a=o+r*(1-Math.abs(2*o-1))/2;return new OD(i,2*(a-o)/a,a,s)}}hsvaToRgba(e){let i,r,o;const s=e.h,a=e.s,l=e.v,c=e.a,d=Math.floor(6*s),f=6*s-d,g=l*(1-a),y=l*(1-f*a),C=l*(1-(1-f)*a);switch(d%6){case 0:i=l,r=C,o=g;break;case 1:i=y,r=l,o=g;break;case 2:i=g,r=l,o=C;break;case 3:i=g,r=y,o=l;break;case 4:i=C,r=g,o=l;break;case 5:i=l,r=g,o=y;break;default:i=0,r=0,o=0}return new Kc(i,r,o,c)}cmykToRgb(e){return new Kc((1-e.c)*(1-e.k),(1-e.m)*(1-e.k),(1-e.y)*(1-e.k),e.a)}rgbaToCmyk(e){const i=1-Math.max(e.r,e.g,e.b);return 1===i?new Tb(0,0,0,1,e.a):new Tb((1-e.r-i)/(1-i),(1-e.g-i)/(1-i),(1-e.b-i)/(1-i),i,e.a)}rgbaToHsva(e){let i,r;const o=Math.min(e.r,1),s=Math.min(e.g,1),a=Math.min(e.b,1),l=Math.min(e.a,1),c=Math.max(o,s,a),d=Math.min(o,s,a),f=c,g=c-d;if(r=0===c?0:g/c,c===d)i=0;else{switch(c){case o:i=(s-a)/g+(s<a?6:0);break;case s:i=(a-o)/g+2;break;case a:i=(o-s)/g+4;break;default:i=0}i/=6}return new OD(i,r,f,l)}rgbaToHex(e,i){let r="#"+(16777216|e.r<<16|e.g<<8|e.b).toString(16).substr(1);return i&&(r+=(256|Math.round(255*e.a)).toString(16).substr(1)),r}normalizeCMYK(e){return new Tb(e.c/100,e.m/100,e.y/100,e.k/100,e.a)}denormalizeCMYK(e){return new Tb(Math.floor(100*e.c),Math.floor(100*e.m),Math.floor(100*e.y),Math.floor(100*e.k),e.a)}denormalizeRGBA(e){return new Kc(Math.round(255*e.r),Math.round(255*e.g),Math.round(255*e.b),e.a)}stringToHsva(e="",i=!1){let r=null;e=(e||"").toLowerCase();const o=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Kc(parseInt(s[2],10)/255,parseInt(s[3],10)/255,parseInt(s[4],10)/255,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(s){return new Xh(parseInt(s[2],10)/360,parseInt(s[3],10)/100,parseInt(s[4],10)/100,isNaN(parseFloat(s[5]))?1:parseFloat(s[5]))}}];o.push(i?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(s){return new Kc(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,parseInt(s[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(s){return new Kc(parseInt(s[1],16)/255,parseInt(s[2],16)/255,parseInt(s[3],16)/255,1)}}),o.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(s){return new Kc(parseInt(s[1]+s[1],16)/255,parseInt(s[2]+s[2],16)/255,parseInt(s[3]+s[3],16)/255,1)}});for(const s in o)if(o.hasOwnProperty(s)){const a=o[s],l=a.re.exec(e),c=l&&a.parse(l);if(c)return c instanceof Kc?r=this.rgbaToHsva(c):c instanceof Xh&&(r=this.hsla2hsva(c)),r}return r}outputFormat(e,i,r){switch("auto"===i&&(i=e.a<1?"rgba":"hex"),i){case"hsla":const o=this.hsva2hsla(e),s=new Xh(Math.round(360*o.h),Math.round(100*o.s),Math.round(100*o.l),Math.round(100*o.a)/100);return e.a<1||"always"===r?"hsla("+s.h+","+s.s+"%,"+s.l+"%,"+s.a+")":"hsl("+s.h+","+s.s+"%,"+s.l+"%)";case"rgba":const a=this.denormalizeRGBA(this.hsvaToRgba(e));return e.a<1||"always"===r?"rgba("+a.r+","+a.g+","+a.b+","+Math.round(100*a.a)/100+")":"rgb("+a.r+","+a.g+","+a.b+")";default:const l="always"===r||"forced"===r;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(e)),l)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})();const Jq=typeof window<"u"&&"ontouchstart"in window;let BCe=(()=>{class n{constructor(e,i,r,o,s,a){this.ngZone=e,this.elRef=i,this.cdRef=r,this.document=o,this.platformId=s,this.service=a,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[ys.HEX,ys.RGBA,ys.HSLA,ys.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=Tc(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(e){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(e)}handleEnter(e){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(e)}ngOnInit(){this.slider=new Qq(0,0,0,0),this.sliderDimMax=new Xq(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?ys.CMYK:"rgba"===this.cpOutputFormat?ys.RGBA:"hsla"===this.cpOutputFormat?ys.HSLA:ys.HEX,this.listenerMouseDown=r=>{this.onMouseDown(r)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new Xq(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(e,i=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(e),this.setColorFromString(e,i),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(e,i,r,o,s,a,l,c,d,f,g,y,C,R,F,te,ie,ye,Ve,_t,At,ue,J,de,Ie,ke,Le,me,zs,oc,Kt,tn,cn,$n,Er,js,cr,Pi){this.setInitialColor(r),this.setColorMode(c),this.isIE10=10===function NCe(){let n="";typeof navigator<"u"&&(n=navigator.userAgent.toLowerCase());const t=n.indexOf("msie ");return t>0&&parseInt(n.substring(t+5,n.indexOf(".",t)),10)}(),this.directiveInstance=e,this.directiveElementRef=i,this.cpDisableInput=y,this.cpCmykEnabled=d,this.cpAlphaChannel=f,this.cpOutputFormat=g,this.cpDialogDisplay=a,this.cpIgnoredElements=C,this.cpSaveClickOutside=R,this.cpCloseClickOutside=F,this.useRootViewContainer=te,this.width=this.cpWidth=parseInt(o,10),this.height=this.cpHeight=parseInt(s,10),this.cpPosition=ie,this.cpPositionOffset=parseInt(ye,10),this.cpOKButton=ke,this.cpOKButtonText=me,this.cpOKButtonClass=Le,this.cpCancelButton=zs,this.cpCancelButtonText=Kt,this.cpCancelButtonClass=oc,this.cpEyeDropper=js,this.fallbackColor=l||"#fff",this.setPresetConfig(_t,At),this.cpPresetColorsClass=ue,this.cpMaxPresetColorsLength=J,this.cpPresetEmptyMessage=de,this.cpPresetEmptyMessageClass=Ie,this.cpAddColorButton=tn,this.cpAddColorButtonText=$n,this.cpAddColorButtonClass=cn,this.cpRemoveColorButtonClass=Er,this.cpTriggerElement=cr,this.cpExtraTemplate=Pi,Ve||(this.dialogArrowOffset=0),"inline"===a&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===g&&"always"!==f&&"forced"!==f&&(this.cpAlphaChannel="disabled")}setColorMode(e){switch(e.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(e){this.initialColor=e}setPresetConfig(e,i){this.cpPresetLabel=e,this.cpPresetColors=i}setColorFromString(e,i=!0,r=!0){let o;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(o=this.service.stringToHsva(e,!0),!o&&!this.hsva&&(o=this.service.stringToHsva(e,!1))):o=this.service.stringToHsva(e,!1),!o&&!this.hsva&&(o=this.service.stringToHsva(this.fallbackColor,!1)),o&&(this.hsva=o,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(i,r))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(e){this.directiveInstance.sliderDragEnd({slider:e,color:this.outputColor})}onDragStart(e){this.directiveInstance.sliderDragStart({slider:e,color:this.outputColor})}onMouseDown(e){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&e.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,e.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,e.target)&&0===this.cpIgnoredElements.filter(i=>i===e.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(e){e.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(e){this.hsva=null,e.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(i=>{this.setColorFromString(i.sRGBHex,!0)})}onFormatToggle(e){const i=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),r=((this.dialogInputFields.indexOf(this.format)+e)%i+i)%i;this.format=this.dialogInputFields[r]}onColorChange(e){this.hsva.s=e.s/e.rgX,this.hsva.v=e.v/e.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(e){this.hsva.h=e.v/e.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(e){this.hsva.v=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(e){this.hsva.a=e.v/e.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(e){if(null===e)this.updateColorPicker();else{e&&"#"!==e[0]&&(e="#"+e);let i=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(i=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const r=i.test(e);r&&(e.length<5&&(e="#"+e.substring(1).split("").map(o=>o+o).join("")),"forced"===this.cpAlphaChannel&&(e+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(e,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:r,value:e,color:this.outputColor})}}onRedInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.r=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:r,value:i.r,color:this.outputColor})}onBlueInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.b=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:r,value:i.b,color:this.outputColor})}onGreenInput(e){const i=this.service.hsvaToRgba(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.g=e.v/e.rg,this.hsva=this.service.rgbaToHsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:r,value:i.g,color:this.outputColor})}onHueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.h=e.v/e.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:i,value:this.hsva.h,color:this.outputColor})}onValueInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.v=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:i,value:this.hsva.v,color:this.outputColor})}onAlphaInput(e){const i=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;i&&(this.hsva.a=e.v/e.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:i,value:this.hsva.a,color:this.outputColor})}onLightnessInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.l=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:r,value:i.l,color:this.outputColor})}onSaturationInput(e){const i=this.service.hsva2hsla(this.hsva),r=!isNaN(e.v)&&e.v>=0&&e.v<=e.rg;r&&(i.s=e.v/e.rg,this.hsva=this.service.hsla2hsva(i),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:r,value:i.s,color:this.outputColor})}onCyanInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.c=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.m=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.y=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(e){!isNaN(e.v)&&e.v>=0&&e.v<=e.rg&&(this.cmyk.k=e.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(e,i){e.stopPropagation(),this.cpPresetColors.filter(r=>r===i).length||(this.cpPresetColors=this.cpPresetColors.concat(i),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(e,i){e.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(r=>r!==i),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{Jq?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(Jq?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(e=!0,i=!0,r=!1){if(this.sliderDimMax){let o,s,a;2===this.cpColorMode&&(this.hsva.s=0);const l=this.outputColor;if(s=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(r?(a=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(a)):(a=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(a))),a=this.service.denormalizeRGBA(a),this.sliderH=this.hsva.h):a=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),o=this.service.denormalizeRGBA(this.service.hsvaToRgba(new OD(this.sliderH||this.hsva.h,1,1,1))),i&&(this.hslaText=new Xh(Math.round(360*s.h),Math.round(100*s.s),Math.round(100*s.l),Math.round(100*s.a)/100),this.rgbaText=new Kc(a.r,a.g,a.b,Math.round(100*a.a)/100),this.cpCmykEnabled&&(this.cmykText=new Tb(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(a,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==ys.RGBA&&this.format!==ys.CMYK&&this.format!==ys.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?ys.RGBA:ys.HEX),this.hueSliderColor="rgb("+o.r+","+o.g+","+o.b+")",this.alphaSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==ys.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const c=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${c})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new Qq((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),e&&l!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let r,e="static",i="",o=null,s=null,a=this.directiveElementRef.nativeElement.parentNode;const l=this.dialogElement.nativeElement.offsetHeight;for(;null!==a&&"HTML"!==a.tagName;){if(r=window.getComputedStyle(a),e=r.getPropertyValue("position"),i=r.getPropertyValue("transform"),"static"!==e&&null===o&&(o=a),i&&"none"!==i&&null===s&&(s=a),"fixed"===e){o=s;break}a=a.parentNode}const c=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==e);if(this.useRootViewContainer||"fixed"===e&&(!o||o instanceof HTMLUnknownElement))this.top=c.top,this.left=c.left;else{null===o&&(o=a);const f=this.createDialogBox(o,"fixed"!==e);this.top=c.top-f.top,this.left=c.left-f.left}"fixed"===e&&(this.position="fixed");let d=this.cpPosition;if("auto"===this.cpPosition){const f=this.dialogElement.nativeElement.getBoundingClientRect(),g=window.innerHeight,y=window.innerWidth,C=this.elRef.nativeElement.getBoundingClientRect();this.top+f.height>g&&(this.top=g-f.height,this.cpArrowPosition=C.x/2-20),this.left+f.width>y&&(this.left=y-f.width,this.cpArrowPosition=C.x/2-20),d=function FCe(n,t){let e="right",i="bottom";const{height:r,width:o}=n,{top:s,left:a}=t,l=s+t.height,c=a+t.width,d=s-r<0,f=l+r>(window.innerHeight||document.documentElement.clientHeight),g=a-o<0,y=c+o>(window.innerWidth||document.documentElement.clientWidth);return f&&(i="top"),d&&(i="bottom"),g&&(e="right"),y&&(e="left"),d&&f&&g&&y?["left","right","top","bottom"].reduce((F,te)=>n[F]>n[te]?F:te):g&&y?d?"bottom":f||s>l?"top":"bottom":d&&f?g?"right":y||a>c?"left":"right":`${i}-${e}`}(f,this.cpTriggerElement.nativeElement.getBoundingClientRect())}"top"===d?(this.arrowTop=l-1,this.top-=l+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):"bottom"===d?(this.top+=c.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*c.width-this.dialogArrowOffset):"top-left"===d||"left-top"===d?(this.top-=l-c.height+c.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===d||"right-top"===d?(this.top-=l-c.height+c.height*this.cpPositionOffset/100,this.left+=c.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===d||"bottom-left"===d||"left-bottom"===d?(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=c.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=c.width+this.dialogArrowSize-2),this.cpUsePosition=d}}isDescendant(e,i){let r=i.parentNode;for(;null!==r;){if(r===e)return!0;r=r.parentNode}return!1}createDialogBox(e,i){const{top:r,left:o}=e.getBoundingClientRect();return{top:r+(i?window.pageYOffset:0),left:o+(i?window.pageXOffset:0),width:e.offsetWidth,height:e.offsetHeight}}}return n.\u0275fac=function(e){return new(e||n)(v(Lt),v(Dt),v(qi),v(fn),v(gr),v(oO))},n.\u0275cmp=It({type:n,selectors:[["color-picker"]],viewQuery:function(e,i){if(1&e&&(An(nCe,7),An(iCe,7),An(rCe,7)),2&e){let r;Vt(r=Bt())&&(i.dialogElement=r.first),Vt(r=Bt())&&(i.hueSlider=r.first),Vt(r=Bt())&&(i.alphaSlider=r.first)}},hostBindings:function(e,i){1&e&&Te("keyup.esc",function(o){return i.handleEsc(o)},0,$T)("keyup.enter",function(o){return i.handleEnter(o)},!1,$T)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"left","class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(b(0,"div",0,1),Te("click",function(o){return o.stopPropagation()}),he(2,oCe,1,7,"div",2),he(3,sCe,2,8,"div",3),b(4,"div",4)(5,"div",5),vt(6,"div",6),b(7,"div",7),Te("click",function(){return i.eyeDropperSupported&&i.cpEyeDropper&&i.onEyeDropper()}),he(8,aCe,3,0,"svg",8),x(),he(9,lCe,2,5,"button",9),x(),b(10,"div",10),he(11,cCe,1,0,"div",11),b(12,"div",12,13),Te("newValue",function(o){return i.onHueChange(o)})("dragStart",function(){return i.onDragStart("hue")})("dragEnd",function(){return i.onDragEnd("hue")}),vt(14,"div",14),x(),b(15,"div",15,16),Te("newValue",function(o){return i.onValueChange(o)})("dragStart",function(){return i.onDragStart("value")})("dragEnd",function(){return i.onDragEnd("value")}),vt(17,"div",14),x(),b(18,"div",17,18),Te("newValue",function(o){return i.onAlphaChange(o)})("dragStart",function(){return i.onDragStart("alpha")})("dragEnd",function(){return i.onDragEnd("alpha")}),vt(20,"div",14),x()()(),he(21,hCe,17,12,"div",19),he(22,mCe,14,10,"div",20),he(23,yCe,14,10,"div",21),he(24,wCe,8,7,"div",22),he(25,CCe,9,3,"div",23),he(26,ECe,3,0,"div",24),he(27,ACe,6,3,"div",25),he(28,RCe,3,2,"div",26),he(29,OCe,2,1,"div",27),x()),2&e&&(ai("display",i.show?"block":"none")("visibility",i.hidden?"hidden":"visible")("top",i.top,"px")("left",i.left,"px")("position",i.position)("height",i.cpHeight,"px")("width",i.cpWidth,"px"),hn("open",i.show),k(2),L("ngIf","popup"===i.cpDialogDisplay),k(1),L("ngIf",1===(i.cpColorMode||1)),k(4),ai("background-color",i.selectedColor)("cursor",i.eyeDropperSupported&&i.cpEyeDropper?"pointer":null),k(1),L("ngIf",i.eyeDropperSupported&&i.cpEyeDropper),k(1),L("ngIf",i.cpAddColorButton),k(2),L("ngIf","disabled"===i.cpAlphaChannel),k(1),ai("display",1===(i.cpColorMode||1)?"block":"none"),L("rgX",1),k(2),ai("left",null==i.slider?null:i.slider.h,"px"),k(1),ai("display",2===(i.cpColorMode||1)?"block":"none"),L("rgX",1),k(2),ai("right",null==i.slider?null:i.slider.v,"px"),k(1),ai("display","disabled"===i.cpAlphaChannel?"none":"block")("background-color",i.alphaSliderColor),L("rgX",1),k(2),ai("left",null==i.slider?null:i.slider.a,"px"),k(1),L("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),k(1),L("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),k(1),L("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),k(1),L("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),k(1),L("ngIf",!i.cpDisableInput&&2===(i.cpColorMode||1)),k(1),L("ngIf",!i.cpDisableInput&&1===(i.cpColorMode||1)),k(1),L("ngIf",(null==i.cpPresetColors?null:i.cpPresetColors.length)||i.cpAddColorButton),k(1),L("ngIf",i.cpOKButton||i.cpCancelButton),k(1),L("ngIf",i.cpExtraTemplate))},dependencies:[jo,xi,uh,LCe,VCe],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),zCe=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.cfr=i,this.appRef=r,this.vcRef=o,this.elRef=s,this._service=a,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpArrowPosition=0,this.cpInputChange=new Ct(!0),this.cpToggleChange=new Ct(!0),this.cpSliderChange=new Ct(!0),this.cpSliderDragEnd=new Ct(!0),this.cpSliderDragStart=new Ct(!0),this.colorPickerOpen=new Ct(!0),this.colorPickerClose=new Ct(!0),this.colorPickerCancel=new Ct(!0),this.colorPickerSelect=new Ct(!0),this.colorPickerChange=new Ct(!1),this.cpCmykColorChange=new Ct(!0),this.cpPresetColorsChange=new Ct(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(e){this.inputChange(e)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(e){e.cpToggle&&!this.cpDisabled&&(e.cpToggle.currentValue?this.openDialog():e.cpToggle.currentValue||this.closeDialog()),e.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(e.colorPicker.currentValue),this.dialog.setColorFromString(e.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(e.cpPresetLabel||e.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let e=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const o=this.injector.get(this.appRef.componentTypes[0],Ii.NULL);o!==Ii.NULL?e=o.vcRef||o.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const i=this.cfr.resolveComponentFactory(BCe);if(this.viewAttachedToAppRef)this.cmpRef=i.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const r=Ii.create({providers:[],parent:e.injector});this.cmpRef=e.createComponent(i,0,r,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==e&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(e){this.cpCmykColorChange.emit(e)}stateChanged(e){this.cpToggleChange.emit(e),e?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(e,i=!0){this.ignoreChanges=i,this.colorPickerChange.emit(e)}colorSelected(e){this.colorPickerSelect.emit(e)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const e=this.elRef.nativeElement,i=this.cpIgnoredElements.filter(r=>r===e);!this.cpDisabled&&!i.length&&(typeof document<"u"&&e===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(e){this.dialog?this.dialog.setColorFromString(e.target.value,!0):(this.colorPicker=e.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(e){this.cpInputChange.emit(e)}sliderChanged(e){this.cpSliderChange.emit(e)}sliderDragEnd(e){this.cpSliderDragEnd.emit(e)}sliderDragStart(e){this.cpSliderDragStart.emit(e)}presetColorsChanged(e){this.cpPresetColorsChange.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(v(Ii),v(th),v(Ec),v(yr),v(Dt),v(oO))},n.\u0275dir=Se({type:n,selectors:[["","colorPicker",""]],hostBindings:function(e,i){1&e&&Te("click",function(){return i.handleClick()})("focus",function(){return i.handleFocus()})("input",function(o){return i.handleInput(o)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpArrowPosition:"cpArrowPosition",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[Di]}),n})(),jCe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[oO],imports:[ea]}),n})();function HCe(n,t){if(1&n&&(b(0,"mat-error"),O(1),x()),2&n){const e=se();k(1),ln(e.getNameError())}}function GCe(n,t){1&n&&(bi(0),b(1,"h5")(2,"i"),O(3,"No characters created yet."),x()(),wi())}const $Ce=function(){return["#2889e9","#7fe1df","#e920e9","#b3eda0","#fff500","#ec4040"]};function qCe(n,t){if(1&n){const e=Yt();b(0,"div",21)(1,"mat-form-field")(2,"input",22),Te("ngModelChange",function(r){return Ye(Xe(e).$implicit.name=r)})("keydown",function(){return Xe(e),Ye(se().onType())}),x()(),b(3,"div",10)(4,"input",23),Te("click",function(){return Xe(e),Ye(se().onType())})("colorPickerChange",function(r){return Ye(Xe(e).$implicit.color=r)}),x()(),b(5,"button",24),Te("click",function(){const o=Xe(e).index;return Ye(se().deletePerson(o))}),b(6,"mat-icon"),O(7,"delete"),x()()()}if(2&n){const e=t.$implicit;k(2),L("ngModel",e.name),k(2),ai("width","20px")("height","20px")("border-radius","5px")("background",e.color),L("colorPicker",e.color)("cpOutputFormat","hex")("cpPresetColors",xy(12,$Ce))}}const WCe=function(){return["#2889e9","#e920e9","#b3eda0","#fff500","rgb(236,64,64)"]};let KCe=(()=>{class n{constructor(e,i,r,o){if(this.data=e,this.downloadHandler=i,this.uploadHandler=r,this.snackbar=o,this.defaultColor="#2889e9",this.acceptedFiles=".json",this.characters=[],this.backUpPersons=[],this.color=this.defaultColor,this.isDirty=!1,this.data)for(let s of this.data){const a={name:s.name,color:s.color};this.characters.push(a),this.backUpPersons.push(a)}else this.characters=[];this.personForm=new Ms({name:new Nr("",[Go.required,Go.pattern(/^[A-Za-z\u0391-\u03a9\u03b1-\u03c9\u0386-\u038f\u03ac-\u03ce0-9\s]*$/)])})}addPerson(){this.personForm.value.name&&(this.characters.push({name:this.personForm.value.name,color:this.color}),this.personForm.controls.name.setValue(""),this.color=this.defaultColor,this.personForm.reset(),this.isDirty=!0)}getNameError(){return this.personForm.get("name")?.hasError("required")?"This field is required":this.personForm.get("name")?.hasError("pattern")?"Field's format is not supported":void 0}onType(){this.isDirty=!0}exportActors(){this.characters.length>0?this.downloadHandler.exportAllActors(this.characters):this.snackbar.open("You have not created any actors yet","OK",{duration:3e3})}importActors(e){let i=e.target.files[0];if(i){const r=new FileReader;r.onload=o=>{const s=o.target.result;"json"===i.name.split(".")[1]?(this.characters=this.uploadHandler.importActorsFromFile(s),this.isDirty=!0):this.snackbar.open("This file is not supported","OK",{duration:3e3})},r.readAsText(i)}}deletePerson(e){this.characters.splice(e,1),this.isDirty=!0}resetCharacters(){this.characters=[...this.backUpPersons]}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(rO),v(iO),v(Ls))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-person-creation-dialog"]],decls:46,vars:20,consts:[["mat-dialog-title","",1,"title-dialog-header"],[1,"export-import-btn"],["mat-mini-fab","","color","primary","matTooltip","Import actors",3,"click"],["hidden","hidden","id","uploadFile","type","file",3,"accept","change"],["uploadFile",""],["mat-mini-fab","","color","primary","matTooltip","Export actors",3,"click"],[1,"mat-typography"],[1,"input-container",3,"formGroup"],["matInput","","formControlName","name","type","text"],[4,"ngIf"],["matTooltip","Choose color for the character",1,"color-picker-wrapper"],[1,"select-color-picker",3,"colorPicker","cpPresetColors","colorPickerChange"],["mat-raised-button","","color","primary","matTooltip","Click to add new character",1,"add-person-btn",3,"disabled","click"],[1,"add-icon"],[1,"char-btn-wrapper"],[1,"saved-characters-wrappers"],["class","input-container created",4,"ngFor","ngForOf"],[1,"btn-options"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close","click"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],[1,"input-container","created"],["matInput","",3,"ngModel","ngModelChange","keydown"],[1,"select-color-picker",3,"colorPicker","cpOutputFormat","cpPresetColors","click","colorPickerChange"],["mat-icon-button","","matTooltip","Delete the character",1,"delete-person-btn",3,"click"]],template:function(i,r){if(1&i){const o=Yt();b(0,"main")(1,"h2",0)(2,"span"),O(3,"Manage Characters/Voice Actors"),x(),b(4,"div",1)(5,"button",2),Te("click",function(){return Xe(o),Ye(tr(9).click())}),b(6,"mat-icon"),O(7,"file_upload"),x()(),b(8,"input",3,4),Te("change",function(a){return r.importActors(a)}),x(),b(10,"button",5),Te("click",function(){return r.exportActors()}),b(11,"mat-icon"),O(12,"file_download"),x()()()(),b(13,"mat-dialog-content",6)(14,"h3"),O(15,"Assign a person to a subtitle to help you recognize who it is voiced by. You can also choose color in order to distinguish your character"),x(),b(16,"h3"),O(17,"You can also export all your actors that you have created in a JSON file. Or you can import them from a JSON file."),x()(),b(18,"div",7)(19,"mat-form-field")(20,"mat-label"),O(21,"Enter your character's name"),x(),vt(22,"input",8),he(23,HCe,2,1,"mat-error",9),x(),b(24,"label"),O(25,"Color:"),x(),b(26,"div",10)(27,"input",11),Te("colorPickerChange",function(a){return r.color=a}),x()(),b(28,"button",12),Te("click",function(){return r.addPerson()}),b(29,"mat-icon",13),O(30,"add"),x(),b(31,"span"),O(32,"Add"),x()()(),b(33,"div",14)(34,"div",15)(35,"mat-dialog-content",6)(36,"h3"),O(37,"Your characters/voice actors:"),x(),he(38,GCe,4,0,"ng-container",9),x(),he(39,qCe,8,13,"div",16),x(),b(40,"div",17)(41,"mat-dialog-actions",18)(42,"button",19),Te("click",function(){return r.resetCharacters()}),O(43,"Cancel"),x(),b(44,"button",20),O(45,"Save"),x()()()()()}if(2&i){let o,s;k(8),L("accept",r.acceptedFiles),k(10),L("formGroup",r.personForm),k(5),L("ngIf",null==(o=r.personForm.get("name"))?null:o.invalid),k(4),ai("width","20px")("height","20px")("border-radius","5px")("background",r.color),L("colorPicker",r.color)("cpPresetColors",xy(19,WCe)),k(1),L("disabled",null==(s=r.personForm.get("name"))?null:s.invalid),k(10),L("ngIf",0===r.characters.length),k(1),L("ngForOf",r.characters),k(3),L("mat-dialog-close",null),k(2),L("disabled",!r.isDirty)("mat-dialog-close",r.characters)}},dependencies:[jo,xi,ka,Aa,Xy,Pa,ds,$o,Bd,Ra,Mc,br,Hh,hb,Ao,Vl,Yo,So,uo,ho,To,zCe],styles:[".title-dialog-header[_ngcontent-%COMP%]{display:flex;margin-top:15px;justify-content:space-between}.export-import-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:5px;gap:25px;display:flex;align-items:center}.input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:8px}  .mat-mdc-form-field-subscript-wrapper{display:none}  .mat-mdc-form-field{flex-grow:1}.mdc-dialog__actions[_ngcontent-%COMP%]{padding-top:16px}.add-person-btn[_ngcontent-%COMP%]{border-radius:25px}.add-icon[_ngcontent-%COMP%]{margin-bottom:2px}.delete-person-btn[_ngcontent-%COMP%]:hover{color:red}.select-color-picker[_ngcontent-%COMP%]:hover{cursor:pointer}.char-btn-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:auto}.saved-characters-wrappers[_ngcontent-%COMP%]{flex-grow:1;max-height:400px;overflow-y:auto}.btn-options[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})(),ZCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["app-unsaved-changes-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-raised-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-raised-button","","color","warn",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1,"Save your Subtitles!"),x(),b(2,"mat-dialog-content",1)(3,"h3"),O(4,"Generating a speech will navigate you to a different Page. Before you leave this page, make sure you have saved your changes to not lose your progress."),x()(),b(5,"mat-dialog-actions",2)(6,"button",3),O(7,"Cancel"),x(),b(8,"button",4),O(9,"Generate Speech"),x()()),2&i&&(k(6),L("mat-dialog-close",!1),k(2),L("mat-dialog-close",!0))},dependencies:[br,So,uo,ho,To]})}return n})(),YCe=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-confirmation-modal"]],decls:20,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[2,"display","flex"],["matInput","","readonly","",3,"value"],["align","end"],["mat-button","",3,"mat-dialog-close"],["color","primary","mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1,"ChatGPT Action Preview"),x(),b(2,"mat-dialog-content",1)(3,"h3"),O(4,"Make sure you are satisfied with the new sentence provided by ChatGPT."),x(),b(5,"div",2)(6,"mat-form-field")(7,"mat-label"),O(8,"Current Text"),x(),vt(9,"input",3),x()(),b(10,"div",2)(11,"mat-form-field")(12,"mat-label"),O(13,"ChatGPT Generated Text"),x(),vt(14,"input",3),x()()(),b(15,"mat-dialog-actions",4)(16,"button",5),O(17,"Cancel"),x(),b(18,"button",6),O(19,"CONFIRM"),x()()),2&i&&(k(9),L("value",r.data.current_text),k(5),L("value",r.data.new_text),k(2),L("mat-dialog-close",!1),k(2),L("mat-dialog-close",!0))},dependencies:[ka,Aa,Pa,br,So,uo,ho,To],styles:[".mat-mdc-form-field{flex-grow:1}"]})}return n})(),e9=(()=>{class n{constructor(){this.loadingSubject=new P(!1),this.loading$=this.loadingSubject.asObservable()}setLoading(e){this.loadingSubject.next(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QCe=(()=>{class n{constructor(e){this.loadingService=e,this.loading=new P(null),this.loadingService.loading$.subscribe(i=>{this.loading.next(i)})}onClickToCreateBatch(){this.loadingService.setLoading(!0)}static#e=this.\u0275fac=function(i){return new(i||n)(v(e9))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-batch-dialog-modal"]],decls:18,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"input-container"],["matInput","","type","number",3,"min"],["interval",""],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"]],template:function(i,r){if(1&i&&(b(0,"h2",0),O(1,"Batch Dialog Creation Configuration"),x(),b(2,"mat-dialog-content",1)(3,"h3"),O(4,"Set an interval in seconds for dialog box creation."),x(),b(5,"h5"),O(6,"*Note that if the video duration is big and the interval number is small enough it can cause heavy delay creating a lot of dialog boxes"),x()(),b(7,"div",2)(8,"mat-form-field")(9,"mat-label"),O(10,"Set Interval"),x(),vt(11,"input",3,4),x()(),b(13,"mat-dialog-actions",5)(14,"button",6),O(15,"Cancel"),x(),b(16,"button",7),Te("click",function(){return r.onClickToCreateBatch()}),O(17,"Create"),x()()),2&i){const o=tr(12);k(11),L("min",1),k(3),L("mat-dialog-close",null),k(2),L("disabled",""==o.value||+o.value<=0)("mat-dialog-close",o.value)}},dependencies:[ka,Aa,Pa,br,So,uo,ho,To],styles:[".input-container[_ngcontent-%COMP%]{display:flex}.input-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:25px;padding-right:25px;width:80%}"]})}return n})(),XCe=(()=>{class n{constructor(e){if(this.subName=e,this.srtChecked=!1,this.sbvChecked=!1,this.atLeastOne=!1,this.returnValue="",this.typeForm=new Ms({srt:new Nr(!1),sbv:new Nr(!1)}),e){switch(this.format=e.split(".")[1],this.format){case"srt":this.typeForm.controls.srt.setValue(!0),this.srtChecked=!this.srtChecked;break;case"sbv":this.typeForm.controls.sbv.setValue(!0),this.sbvChecked=!this.sbvChecked}this.atLeastOne=this.srtChecked||this.sbvChecked,this.setUpReturnValue()}}onChecked(e){switch(e){case"srt":this.srtChecked=!this.srtChecked;break;case"sbv":this.sbvChecked=!this.sbvChecked}this.atLeastOne=this.srtChecked||this.sbvChecked,this.setUpReturnValue()}setUpReturnValue(){this.returnValue=this.sbvChecked&&this.srtChecked?"both":this.srtChecked&&!this.sbvChecked?"srt":!this.srtChecked&&this.sbvChecked?"sbv":""}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-download-options-dialog"]],decls:17,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"type-checkboxes",3,"formGroup"],["formControlName","srt",3,"change"],["formControlName","sbv",3,"change"],[1,"options-sub-btn"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"main")(1,"h2",0),O(2,"Download subtitle options"),x(),b(3,"mat-dialog-content",1)(4,"h3"),O(5,"Please select one or both types for your subtitle file to download"),x()(),b(6,"div",2)(7,"mat-checkbox",3),Te("change",function(){return r.onChecked("srt")}),O(8,".SRT (Most common subtitle file type)"),x(),b(9,"mat-checkbox",4),Te("change",function(){return r.onChecked("sbv")}),O(10,".SBV (YouTube subtitle file type)"),x()(),b(11,"div",5)(12,"mat-dialog-actions",6)(13,"button",7),O(14,"Cancel"),x(),b(15,"button",8),O(16,"Download"),x()()()()),2&i&&(k(6),L("formGroup",r.typeForm),k(7),L("mat-dialog-close",null),k(2),L("disabled",!r.atLeastOne)("mat-dialog-close",r.returnValue))},dependencies:[$o,Bd,Ra,Mc,br,So,uo,ho,To,zP],styles:[".type-checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:20px}"]})}return n})();const JCe=["input"],eEe=["*"];let t9=0;class n9{constructor(t,e){this.source=t,this.value=e}}const tEe={provide:Ma,useExisting:Xn(()=>r9),multi:!0},i9=new Ue("MatRadioGroup"),nEe=new Ue("mat-radio-default-options",{providedIn:"root",factory:function iEe(){return{color:"accent"}}});let rEe=(()=>{class n{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=Jt(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=Jt(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+t9++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Ct}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new n9(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(v(qi))},n.\u0275dir=Se({type:n,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),n})();class oEe{constructor(t){this._elementRef=t}}const sEe=Ky($1(oEe));let aEe=(()=>{class n extends sEe{get checked(){return this._checked}set checked(e){const i=Jt(e);this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled(Jt(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=Jt(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,o,s,a,l,c){super(i),this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=l,this._uniqueId="mat-radio-"+ ++t9,this.id=this._uniqueId,this.change=new Ct,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===a,c&&(this.tabIndex=Qa(c,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new n9(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let i;if(i=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return n.\u0275fac=function(e){Td()},n.\u0275dir=Se({type:n,viewQuery:function(e,i){if(1&e&&An(JCe,5),2&e){let r;Vt(r=Bt())&&(i._inputElement=r.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[it]}),n})(),r9=(()=>{class n extends rEe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["mat-radio-group"]],contentQueries:function(e,i,r){if(1&e&&ii(r,o9,5),2&e){let o;Vt(o=Bt())&&(i._radios=o)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[Wt([tEe,{provide:i9,useExisting:n}]),it]}),n})(),o9=(()=>{class n extends aEe{constructor(e,i,r,o,s,a,l,c){super(e,i,r,o,s,a,l,c)}}return n.\u0275fac=function(e){return new(e||n)(v(i9,8),v(Dt),v(qi),v(kc),v($be),v(Uo,8),v(nEe,8),Ss("tabindex"))},n.\u0275cmp=It({type:n,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,i){1&e&&Te("focus",function(){return i._inputElement.nativeElement.focus()}),2&e&&(Bn("id",i.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),hn("mat-primary","primary"===i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("mat-mdc-radio-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[it],ngContentSelectors:eEe,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,i){if(1&e&&(_r(),b(0,"div",0,1)(2,"div",2)(3,"div",3),Te("click",function(o){return i._onTouchTargetClick(o)}),x(),b(4,"input",4,5),Te("change",function(o){return i._onInputInteraction(o)}),x(),b(6,"div",6),vt(7,"div",7)(8,"div",8),x(),b(9,"div",9),vt(10,"div",10),x()(),b(11,"label",11),Dn(12),x()()),2&e){const r=tr(1);hn("mdc-form-field--align-end","before"==i.labelPosition),k(2),hn("mdc-radio--disabled",i.disabled),k(2),L("id",i.inputId)("checked",i.checked)("disabled",i.disabled)("required",i.required),Bn("name",i.name)("value",i.value)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledby)("aria-describedby",i.ariaDescribedby),k(5),L("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0),k(2),L("for",i.inputId)}},dependencies:[Xa],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),n})(),lEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,ea,em,On]}),n})();function cEe(n,t){if(1&n){const e=Yt();b(0,"mat-option",14),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().selectLanguage(o.language))}),O(1),x()}if(2&n){const e=t.$implicit;k(1),ln(e.name)}}let s9=(()=>{class n{constructor(e,i){this.data=e,this.google=i,this._supportedLanguages$=new P(null),this.disabledBtn=!1,this.data&&e.subscribe(r=>{this.targetLang=r.language,this.selectedLang=r.language,this.langName=r.name}),this.form=new Ms({radioBtn:new Nr("1"),selectedLang:new Nr("")}),this.form.get("selectedLang").disable(),this.getSupportedLanguages()}get supportedLanguages$(){return this._supportedLanguages$}getSupportedLanguages(){this.google.getSupportedLanguages().pipe(ei(()=>{})).subscribe(e=>{this._supportedLanguages$.next(e)})}onChangeRadioButton(){"2"==this.form.controls.radioBtn.value?(this.disabledBtn=!0,this.form.get("selectedLang").enable(),this.form.controls.selectedLang.setValue("")):(this.selectedLang=this.targetLang,this.disabledBtn=!1,this.form.get("selectedLang").disable())}selectLanguage(e){e&&(this.disabledBtn=!1,this.selectedLang=e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(la))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-translate-subs-dialog"]],decls:31,vars:8,consts:[["mat-dialog-title",""],[1,"radio-btn-wrapper",3,"formGroup"],["aria-label","Select an option","formControlName","radioBtn",3,"change"],["mat-dialog-content","",1,"mat-typography"],[1,"target-lang"],["value","1",1,"radio-btn","target"],[1,"another-lang"],["value","2",1,"radio-btn","another"],[1,"select-lang-menu"],["formControlName","selectedLang"],["value","language.language",3,"click",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],["value","language.language",3,"click"]],template:function(i,r){if(1&i&&(b(0,"h3",0),O(1,"Translate Subtitles"),x(),b(2,"div",1)(3,"mat-radio-group",2),Te("change",function(){return r.onChangeRadioButton()}),b(4,"div",3)(5,"h3"),O(6,"Translate subtitle to target language"),x()(),b(7,"div",4)(8,"mat-radio-button",5),O(9,"Target Language:"),x(),b(10,"h3")(11,"b"),O(12),x()()(),b(13,"div",3)(14,"h3"),O(15,"Or translate it to another language"),x()(),b(16,"div",6)(17,"mat-radio-button",7),O(18,"Another Language:"),x(),b(19,"div",8)(20,"mat-form-field")(21,"mat-label"),O(22,"Languages"),x(),b(23,"mat-select",9),he(24,cEe,2,1,"mat-option",10),un(25,"async"),x()()()()()(),b(26,"div",11)(27,"button",12),O(28,"Cancel"),x(),b(29,"button",13),O(30,"Translate"),x()()),2&i){let o;k(2),L("formGroup",r.form),k(10),ln(r.langName),k(12),L("ngForOf",null==(o=Mn(25,6,r.supportedLanguages$))||null==o.data?null:o.data.languages),k(3),L("mat-dialog-close",null),k(2),L("disabled",r.disabledBtn)("mat-dialog-close",r.selectedLang)}},dependencies:[jo,ka,Aa,$o,Bd,Ra,Mc,br,So,uo,ho,To,xb,tm,r9,o9,Js],styles:[".radio-btn-wrapper[_ngcontent-%COMP%]{height:auto}.radio-btn[_ngcontent-%COMP%]{margin-left:40px}.target-lang[_ngcontent-%COMP%]{display:flex}.target-lang[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:15px;margin-top:6px}.another-lang[_ngcontent-%COMP%]{display:flex}.select-lang-menu[_ngcontent-%COMP%]{margin-left:15px;margin-bottom:5px}.radio-btn.another[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})(),dEe=(()=>{class n{constructor(e){this.data=e,this.langName="",this.data&&e.subscribe(i=>{this.langName=i.name,this.targetLanguage=i.language})}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-detect-language-dialog"]],decls:14,vars:3,consts:[["mat-dialog-title",""],[1,"options-sub-btn"],["align","end"],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"main")(1,"mat-dialog-content")(2,"h2",0),O(3,"Different Language detected!"),x(),b(4,"h3"),O(5," In subtitle file has been detected different language from the target language!"),vt(6,"br"),O(7),x(),b(8,"div",1)(9,"mat-dialog-actions",2)(10,"button",3),O(11,"Keep as it is"),x(),b(12,"button",4),O(13,"Translate it"),x()()()()()),2&i&&(k(7),_n(" Do you want to translate it to ",r.langName," or keep as it is? "),k(3),L("mat-dialog-close",null),k(2),L("mat-dialog-close",r.targetLanguage))},dependencies:[br,So,uo,ho,To]})}return n})(),a9=(()=>{class n{set_initContentSSML(e){this.initContentSSML=e}set_formContent(e){this.formContentGroup=e}get_initContentSSML(){return this.initContentSSML}get_formContent(){return this.formContentGroup}constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uEe=(()=>{class n{constructor(e){this.http=e,this.promptMap=new Map([["sad","Adjust the tone of the following sentence to make it sadder."],["joyful","Transform the following sentence to make it more joyful."],["shorter","Condense the following sentence while preserving its original meaning."],["longer","Enlarge the following sentence without changing its original meaning."]])}getDataFromOpenAI(e){const r=(new il).set("Authorization","Bearer ");let o={model:"gpt-3.5-turbo",messages:[{role:"user",content:this.promptMap.get(e.action)+e.text}]};return this.http.post("https://api.openai.com/v1/chat/completions",o,{headers:r}).pipe(We(s=>s.choices[0].message.content))}static#e=this.\u0275fac=function(i){return new(i||n)(Y(Gc))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hEe=(()=>{class n{constructor(e){this.firestore=e}getCharactersOfSubtitle(e,i,r,o){return o=o.split(".")[0],this.firestore.collection(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${o}/characters`).valueChanges()}saveCharacters(e,i,r,o,s){o=o.split(".")[0];for(let a=0;a<s.length;a++)this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${o}/characters/${s[a].name}`).set(s[a],{merge:!0}).then(c=>{}).catch(c=>(console.error(c),!1));return!0}deleteCharacter(e,i,r,o,s){o=o.split(".")[0];for(let a=0;a<s.length;a++)this.firestore.doc(`users/${e}/videos/${i}/subtitleLanguages/${r}/subtitles/${o}/characters/${s[a].name}`).delete().then(()=>{}).catch(c=>(console.error(c),!1));return!0}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fEe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["app-comment-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title",""],["type","text","type","text",1,"commentArea",3,"ngModel","ngModelChange"],["commentInput",""],["mat-dialog-content",""],[1,"right-bottom"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled"]],template:function(i,r){if(1&i&&(b(0,"h2",0),O(1,"Enter a comment:"),x(),b(2,"textarea",1,2),Te("ngModelChange",function(s){return r.comment=s}),x(),b(4,"div",3)(5,"mat-dialog-actions",4)(6,"button",5),O(7,"Cancel"),x(),b(8,"button",6),O(9,"Add comment"),x()()()),2&i){const o=tr(3);k(2),L("ngModel",r.comment),k(4),L("mat-dialog-close",null),k(2),L("mat-dialog-close",r.comment)("disabled",""==o.value)}},dependencies:[ds,$o,br,Vl,So,uo,ho,To],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}mat-dialog-actions[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:16px}.commentArea[_ngcontent-%COMP%]{display:inline-block;width:416px;min-height:50px!important;padding:5px;font-size:16px;vertical-align:middle;margin:10px 5px 0}.right-bottom[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:16px;position:absolute;bottom:0;right:0}"]})}return n})();function l9(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const sO="inline",FD=["row","column","row-reverse","column-reverse"];function c9(n){let[t,e,i]=d9(n);return function mEe(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function d9(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return FD.find(r=>r===t)||(t=FD[0]),e===sO&&(e=i!==sO?i:"",i=sO),[t,pEe(e),!!i]}function Ab(n){let[t]=d9(n);return t.indexOf("row")>-1}function pEe(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Zc(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const _Ee={provide:zx,useFactory:function gEe(n,t){return()=>{if(Tc(t)){const e=Array.from(n.querySelectorAll(`[class*=${u9}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${u9}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[fn,gr],multi:!0},u9="flex-layout-";let aO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[_Ee]}),n})();class Jh{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new Jh(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let yEe=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const s=r.get(i);("number"==typeof s||"string"==typeof s)&&(o=s+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lO={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},ol=new Ue("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>lO}),wg=new Ue("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),cO=new Ue("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function h9(n,t){return n=n?.clone()??new Jh,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Mr{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Qi=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:l9(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:l9(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Ol(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return Tc(this._platformId)?e.style.getPropertyValue(i):function vEe(n,t){return f9(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||(Tc(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],s=Array.isArray(o)?o:[o];s.sort();for(let a of s)a=a?a+"":"",Tc(this._platformId)||!this._serverModuleLoaded?Tc(this._platformId)?i.style.setProperty(r,a):bEe(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}}return n.\u0275fac=function(e){return new(e||n)(Y(yEe),Y(wg),Y(gr),Y(ol))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bEe(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=f9(n);i[t]=e??"",function wEe(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function f9(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const s=o.indexOf(":");if(-1===s)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,s).trim()]=o.substr(s+1).trim()}}}return t}function kb(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function xEe(n,t){return(n.priority||0)-(t.priority||0)}let dO=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new P(new Jh(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(gi(s=>!i||e.indexOf(s.mediaQuery)>-1));return j(new mt(s=>{const a=this.registerQuery(e);if(a.length){const l=a.pop();a.forEach(c=>{s.next(c)}),this.source.next(l)}s.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function CEe(n,t){const e=n.filter(i=>!p9[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>p9[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const s=l=>{this._zone.run(()=>this.source.next(new Jh(l.matches,o)))};let a=this.registry.get(o);a||(a=this.buildMQL(o),a.addListener(s),this.pendingRemoveListenerFns.push(()=>a.removeListener(s)),this.registry.set(o,a)),a.matches&&r.push(new Jh(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function DEe(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function EEe(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,Tc(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(Y(Lt),Y(gr),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const p9={},IEe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],m9="(orientation: portrait) and (max-width: 599.98px)",g9="(orientation: landscape) and (max-width: 959.98px)",_9="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",y9="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",v9="(orientation: portrait) and (min-width: 840px)",b9="(orientation: landscape) and (min-width: 1280px)",Yc={HANDSET:`${m9}, ${g9}`,TABLET:`${_9} , ${y9}`,WEB:`${v9}, ${b9} `,HANDSET_PORTRAIT:`${m9}`,TABLET_PORTRAIT:`${_9} `,WEB_PORTRAIT:`${v9}`,HANDSET_LANDSCAPE:`${g9}`,TABLET_LANDSCAPE:`${y9}`,WEB_LANDSCAPE:`${b9}`},SEe=[{alias:"handset",priority:2e3,mediaQuery:Yc.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Yc.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Yc.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Yc.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Yc.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Yc.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Yc.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Yc.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Yc.WEB_PORTRAIT,overlapping:!0}],TEe=/(\.|-|_)/g;function AEe(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const PEe=new Ue("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=Tt(cO),t=Tt(ol),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function REe(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Zc(e[i.alias],i):e[i.alias]=i}),function MEe(n){return n.forEach(t=>{t.suffix||(t.suffix=function kEe(n){return n.replace(TEe,"|").split("|").map(AEe).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:IEe).concat(t.addOrientationBps?SEe:[]),e)}});let uO=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(xEe)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(Y(PEe))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xg="print",OEe={alias:xg,mediaQuery:xg,priority:1e3};let FEe=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new NEe,this.deactivations=[]}withPrintQuery(e){return[...e,xg]}isPrintEvent(e){return e.mediaQuery.startsWith(xg)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(kb)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),h9(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Jh(!0,xg))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),s=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||s)&&(this.deactivations.push(r),this.deactivations.sort(kb))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(Y(uO),Y(ol),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NEe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(OEe),t.sort(kb),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function LEe(n){return n?.mediaQuery.startsWith(xg)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let ar=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Z,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=h9(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(kb),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(kb),this.updateStyles())}}init(e,i,r,o,s=[]){w9(this.updateMap,e,i,r),w9(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,s)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const s=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(s)return s.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let s=this.elementMap.get(e);if(s){const l=(s.get(o)??new Map).set(i,r);s.set(o,l),this.elementMap.set(e,s)}else s=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,s);const a=this.getValue(e,i);void 0!==a&&this.updateElement(e,i,a)}trackValue(e,i){return this.subject.asObservable().pipe(gi(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((s,a)=>{this.updateElement(i,a,s),r.delete(a)}),r.forEach(s=>{if(o=this.getActivatedValues(e,s),o){const a=o.get(s);this.updateElement(i,s,a)}else this.clearElement(i,s)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const s=o.get(i);s&&(s(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,s)=>r.delete(s)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((s,a)=>this.updateElement(e,a,s)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const a=j(...r).subscribe(()=>{const l=this.getValue(e,i);this.updateElement(e,i,l)});o.set(i,a)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const a=e.get(this.activatedBreakpoints[o].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(ei(this.hook.interceptEvents(this)),gi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(Y(dO),Y(uO),Y(FEe))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w9(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let xr=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Z,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let s=this.styleCache.get(e);(!s||!o)&&(s=r.buildStyles(e,i),o&&this.styleCache.set(e,s)),this.mru={...s},this.applyStyleToElement(s),r.sideEffect(e,s,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const s=c9(r);this.styler.applyStyleToElements(s,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Mr),v(Qi),v(ar))},n.\u0275dir=Se({type:n,features:[Di]}),n})();function x9(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=C9(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=C9(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function C9(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function ND(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-1);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}EventTarget;let UEe=(()=>{class n extends Mr{buildStyles(e,{display:i}){const r=c9(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zEe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let jEe=(()=>{class n extends xr{constructor(e,i,r,o,s){super(e,r,i,o),this._config=s,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=D9.get(r)??new Map,D9.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Qi),v(UEe),v(ar),v(ol))},n.\u0275dir=Se({type:n,features:[it]}),n})(),hO=(()=>{class n extends jEe{constructor(){super(...arguments),this.inputs=zEe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[it]}),n})();const D9=new Map,I9={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let HEe=(()=>{class n extends Mr{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(LD)?function QEe(n,t){const[e,i]=n.split(" "),o=c=>`-${c}`;let s="0px",a=o(i??e),l="0px";return"rtl"===t?l=o(e):s=o(e),{margin:`0px ${s} ${a} ${l}`}}(e=ND(e=e.slice(0,e.indexOf(LD)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const o=r.items;if(e.endsWith(LD)){const s=function YEe(n,t){const[e,i]=n.split(" ");let o="0px",a="0px";return"rtl"===t?a=e:o=e,{padding:`0px ${o} ${i??e} ${a}`}}(e=ND(e=e.slice(0,e.indexOf(LD)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(s,r.items)}else{e=ND(e,this._config.multiplier),e=this.addFallbackUnit(e);const s=o.pop(),a=function XEe(n,t){const e=S9(t.directionality,t.layout),i={...I9};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(a,o),this._styler.applyStyleToElements(I9,[s])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(Y(Qi),Y(ol))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GEe=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let $Ee=(()=>{class n extends xr{constructor(e,i,r,o,s,a){super(e,s,o,a),this.zone=i,this.directionality=r,this.styleUtils=o,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Z;const l=[this.directionality.change,this.observerSubject.asObservable()];this.init(l),this.marshal.trackValue(this.nativeElement,"layout").pipe(bn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],FD.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,o)=>{const s=+this.styler.lookupStyle(r,"order"),a=+this.styler.lookupStyle(o,"order");return isNaN(s)||isNaN(a)||s===a?0:s>a?1:-1});if(i.length>0){const r=this.directionality.value,o=this.layout;"row"===o&&"rtl"===r?this.styleCache=qEe:"row"===o&&"rtl"!==r?this.styleCache=KEe:"column"===o&&"rtl"===r?this.styleCache=WEe:"column"===o&&"rtl"!==r&&(this.styleCache=ZEe),this.addStyles(e,{directionality:r,items:i,layout:o})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":S9(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt),v(so),v(Qi),v(HEe),v(ar))},n.\u0275dir=Se({type:n,features:[it]}),n})(),fO=(()=>{class n extends $Ee{constructor(){super(...arguments),this.inputs=GEe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[it]}),n})();const qEe=new Map,WEe=new Map,KEe=new Map,ZEe=new Map,LD=" grid";function S9(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let JEe=(()=>{class n extends Mr{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...s]=e.split(" "),a=s.join(" ");const l=i.direction.indexOf("column")>-1?"column":"row",c=Ab(l)?"max-width":"max-height",d=Ab(l)?"min-width":"min-height",f=String(a).indexOf("calc")>-1,g=f||"auto"===a,y=String(a).indexOf("%")>-1&&!f,C=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let R=f||C;r="0"==r?0:r,o="0"==o?0:o;const F=!r&&!o;let te={};const ie={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":a="row"===l?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,a="auto";break;case"grow":a="100%";break;case"noshrink":o=0,a="auto";break;case"auto":break;case"none":r=0,o=0,a="auto";break;default:!R&&!y&&!isNaN(a)&&(a+="%"),"0%"===a&&(R=!0),"0px"===a&&(a="0%"),te=Zc(ie,f?{"flex-grow":r,"flex-shrink":o,"flex-basis":R?a:"100%"}:{flex:`${r} ${o} ${R?a:"100%"}`})}return te.flex||te["flex-grow"]||(te=Zc(ie,f?{"flex-grow":r,"flex-shrink":o,"flex-basis":a}:{flex:`${r} ${o} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(te[d]=F||R&&r?a:null,te[c]=F||!g&&o?a:null),te[d]||te[c]?i.hasWrap&&(te[f?"flex-basis":"flex"]=te[c]?f?te[c]:`${r} ${o} ${te[c]}`:f?te[d]:`${r} ${o} ${te[d]}`):te=Zc(ie,f?{"flex-grow":r,"flex-shrink":o,"flex-basis":a}:{flex:`${r} ${o} ${a}`}),Zc(te,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(Y(ol))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eDe=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let tDe=(()=>{class n extends xr{constructor(e,i,r,o,s){super(e,o,i,s),this.layoutConfig=r,this.marshal=s,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(bn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(bn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),s=this.wrap;o&&s?this.styleCache=rDe:o&&!s?this.styleCache=nDe:!o&&s?this.styleCache=oDe:!o&&!s&&(this.styleCache=iDe);const l=x9(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(l.join(" "),{direction:r,hasWrap:s})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=x9(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Qi),v(ol),v(JEe),v(ar))},n.\u0275dir=Se({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[it]}),n})(),pO=(()=>{class n extends tDe{constructor(){super(...arguments),this.inputs=eDe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[it]}),n})();const nDe=new Map,iDe=new Map,rDe=new Map,oDe=new Map;let TDe=(()=>{class n extends Mr{buildStyles(e,i){const r={},[o,s]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(s){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Zc(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===s?Ab(i.layout)?null:"100%":null,"max-height":"stretch"===s&&Ab(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ADe=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let kDe=(()=>{class n extends xr{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(bn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=FDe:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=LDe:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=NDe:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=VDe:"column-reverse"===i&&!r&&(this.styleCache=ODe):this.styleCache=RDe:this.styleCache=PDe:this.styleCache=MDe,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),FD.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Qi),v(TDe),v(ar))},n.\u0275dir=Se({type:n,features:[it]}),n})(),T9=(()=>{class n extends kDe{constructor(){super(...arguments),this.inputs=ADe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[it]}),n})();const MDe=new Map,RDe=new Map,PDe=new Map,ODe=new Map,FDe=new Map,NDe=new Map,LDe=new Map,VDe=new Map;let A9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[aO,hh]}),n})(),GDe=(()=>{class n extends xr{constructor(e,i,r,o,s,a,l){super(e,null,i,r),this.ngClassInstance=l,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Od(o,s,e,a)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Qi),v(ar),v(Pl),v(lh),v(Ca),v(Od,10))},n.\u0275dir=Se({type:n,inputs:{klass:["class","klass"]},features:[it]}),n})();const $De=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let mO=(()=>{class n extends GDe{constructor(){super(...arguments),this.inputs=$De}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[it]}),n})();class YDe{constructor(t,e,i=!0){this.key=t,this.value=e,this.key=i?t.replace(/['"]/g,"").trim():t.trim(),this.value=i?e.replace(/['"]/g,"").trim():e.trim(),this.value=this.value.replace(/;/,"")}}function k9(n){let t=typeof n;return"object"===t?n.constructor===Array?"array":n.constructor===Set?"set":"object":t}function R9(n){const[t,...e]=n.split(":");return new YDe(t,e.join(":"))}function P9(n,t){return t.key&&(n[t.key]=t.value),n}let JDe=(()=>{class n extends xr{constructor(e,i,r,o,s,a,l,c,d){super(e,null,i,r),this.sanitizer=o,this.ngStyleInstance=l,this.DIRECTIVE_KEY="ngStyle",this.ngStyleInstance||(this.ngStyleInstance=new nC(e,s,a)),this.init();const f=this.nativeElement.getAttribute("style")??"";this.fallbackStyles=this.buildStyleMap(f),this.isServer=c&&Ol(d)}updateWithValue(e){const i=this.buildStyleMap(e);this.ngStyleInstance.ngStyle={...this.fallbackStyles,...i},this.isServer&&this.applyStyleToElement(i),this.ngStyleInstance.ngDoCheck()}clearStyles(){this.ngStyleInstance.ngStyle=this.fallbackStyles,this.ngStyleInstance.ngDoCheck()}buildStyleMap(e){const i=r=>this.sanitizer.sanitize(oo.STYLE,r)??"";if(e)switch(k9(e)){case"string":return F9(function QDe(n,t=";"){return String(n).trim().split(t).map(e=>e.trim()).filter(e=>""!==e)}(e),i);case"array":return F9(e,i);default:return function M9(n,t){let e=[];return"set"===k9(n)?n.forEach(i=>e.push(i)):Object.keys(n).forEach(i=>{e.push(`${i}:${n[i]}`)}),function XDe(n,t){return n.map(R9).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(P9,{})}(e,t)}(e,i)}return{}}ngDoCheck(){this.ngStyleInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Qi),v(ar),v(Fy),v(lh),v(Ca),v(nC,10),v(wg),v(gr))},n.\u0275dir=Se({type:n,features:[it]}),n})();const eIe=["ngStyle","ngStyle.xs","ngStyle.sm","ngStyle.md","ngStyle.lg","ngStyle.xl","ngStyle.lt-sm","ngStyle.lt-md","ngStyle.lt-lg","ngStyle.lt-xl","ngStyle.gt-xs","ngStyle.gt-sm","ngStyle.gt-md","ngStyle.gt-lg"];let O9=(()=>{class n extends JDe{constructor(){super(...arguments),this.inputs=eIe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","ngStyle",""],["","ngStyle.xs",""],["","ngStyle.sm",""],["","ngStyle.md",""],["","ngStyle.lg",""],["","ngStyle.xl",""],["","ngStyle.lt-sm",""],["","ngStyle.lt-md",""],["","ngStyle.lt-lg",""],["","ngStyle.lt-xl",""],["","ngStyle.gt-xs",""],["","ngStyle.gt-sm",""],["","ngStyle.gt-md",""],["","ngStyle.gt-lg",""]],inputs:{ngStyle:"ngStyle","ngStyle.xs":"ngStyle.xs","ngStyle.sm":"ngStyle.sm","ngStyle.md":"ngStyle.md","ngStyle.lg":"ngStyle.lg","ngStyle.xl":"ngStyle.xl","ngStyle.lt-sm":"ngStyle.lt-sm","ngStyle.lt-md":"ngStyle.lt-md","ngStyle.lt-lg":"ngStyle.lt-lg","ngStyle.lt-xl":"ngStyle.lt-xl","ngStyle.gt-xs":"ngStyle.gt-xs","ngStyle.gt-sm":"ngStyle.gt-sm","ngStyle.gt-md":"ngStyle.gt-md","ngStyle.gt-lg":"ngStyle.gt-lg"},features:[it]}),n})();function F9(n,t){return n.map(R9).filter(i=>!!i).map(i=>(t&&(i.value=t(i.value)),i)).reduce(P9,{})}let N9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[aO]}),n})();function L9(n,t){return t?e=>$y(t.pipe(sn(1),function tIe(){return Ae((n,t)=>{n.subscribe(ut(t,N))})}()),e.pipe(L9(n))):mn((e,i)=>n(e,i).pipe(sn(1),Dz(e)))}function V9(n,t=Nd){const e=DP(n,t);return L9(()=>e)}const nIe=["mat-menu-item",""];function iIe(n,t){1&n&&(yc(),b(0,"svg",3),vt(1,"polygon",4),x())}const rIe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],oIe=["mat-icon, [matMenuItemIcon]","*"];function sIe(n,t){if(1&n){const e=Yt();b(0,"div",0),Te("keydown",function(r){return Xe(e),Ye(se()._handleKeydown(r))})("click",function(){return Xe(e),Ye(se().closed.emit("click"))})("@transformMenu.start",function(r){return Xe(e),Ye(se()._onAnimationStart(r))})("@transformMenu.done",function(r){return Xe(e),Ye(se()._onAnimationDone(r))}),b(1,"div",1),Dn(2),x()()}if(2&n){const e=se();L("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),Bn("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const aIe=["*"],_O=new Ue("MAT_MENU_PANEL"),lIe=Ky(qy(class{}));let VD=(()=>{class n extends lIe{constructor(e,i,r,o,s){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new Z,this._focused=new Z,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(fn),v(kc),v(_O,8),v(qi))},n.\u0275cmp=It({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator","mdc-list-item"],hostVars:8,hostBindings:function(e,i){1&e&&Te("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(Bn("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),hn("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[it],attrs:nIe,ngContentSelectors:oIe,decls:5,vars:3,consts:[[1,"mdc-list-item__primary-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(_r(rIe),Dn(0),b(1,"span",0),Dn(2,1),x(),vt(3,"div",1),he(4,iIe,2,0,"svg",2)),2&e&&(k(3),L("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),k(1),L("ngIf",i._triggersSubmenu))},dependencies:[xi,Xa],encapsulation:2,changeDetection:0}),n})();const cIe=new Ue("MatMenuContent"),BD={transformMenu:Ho("transformMenu",[Si("void",In({opacity:0,transform:"scale(0.8)"})),Wi("void => enter",vr("120ms cubic-bezier(0, 0, 0.2, 1)",In({opacity:1,transform:"scale(1)"}))),Wi("* => void",vr("100ms 25ms linear",In({opacity:0})))]),fadeInItems:Ho("fadeInItems",[Si("showing",In({opacity:1})),Wi("void => *",[In({opacity:0}),vr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dIe=0;const B9=new Ue("mat-menu-default-options",{providedIn:"root",factory:function uIe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Mb=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Jt(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Jt(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Cc,this._classList={},this._panelAnimationState="void",this._animationDone=new Z,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ct,this.close=this.closed,this.panelId="mat-menu-panel-"+dIe++}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new QU(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Tr(this._directDescendantItems),St(e=>j(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Tr(this._directDescendantItems),St(i=>j(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Nl(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(sn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Tr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt),v(B9),v(qi))},n.\u0275dir=Se({type:n,contentQueries:function(e,i,r){if(1&e&&(ii(r,cIe,5),ii(r,VD,5),ii(r,VD,4)),2&e){let o;Vt(o=Bt())&&(i.lazyContent=o.first),Vt(o=Bt())&&(i._allItems=o),Vt(o=Bt())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&An(ki,5),2&e){let r;Vt(r=Bt())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),hIe=(()=>{class n extends Mb{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(Lt),v(B9),v(qi))},n.\u0275cmp=It({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&Bn("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[Wt([{provide:_O,useExisting:n}]),it],ngContentSelectors:aIe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mdc-menu-surface","mdc-menu-surface--open","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content","mdc-list"]],template:function(e,i){1&e&&(_r(),he(0,sIe,3,6,"ng-template"))},dependencies:[Od],styles:['.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;position:relative}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item.mdc-list-item{align-items:center}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item .mdc-list-item__primary-text{white-space:normal}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[BD.transformMenu,BD.fadeInItems]},changeDetection:0}),n})();const U9=new Ue("mat-menu-scroll-strategy"),pIe={provide:U9,deps:[Ns],useFactory:function fIe(n){return()=>n.scrollStrategies.reposition()}},z9=Fl({passive:!0});let mIe=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,o,s,a,l,c,d){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=d,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=K.EMPTY,this._hoverSubscription=K.EMPTY,this._menuCloseSubscription=K.EMPTY,this._changeDetectorRef=Tt(qi),this._handleTouchStart=f=>{CC(f)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new Ct,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ct,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Mb?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,z9)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,z9),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Mb&&(e._startAnimation(),e._directDescendantItems.changes.pipe(bn(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Mb?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(gi(r=>"void"===r.toState),sn(1),bn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new mb({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,s)):e.setPositionClasses(o,s)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[s,a]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,f]=[r,o],g=0;if(this.triggersSubmenu()){if(f=r="before"===e.xPosition?"start":"end",o=d="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const y=this._parentMaterialMenu.items.first;this._parentInnerPadding=y?y._getHostElement().offsetTop:0}g="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:g},{originX:o,originY:l,overlayX:f,overlayY:s,offsetY:g},{originX:r,originY:c,overlayX:d,overlayY:a,offsetY:-g},{originX:o,originY:c,overlayX:f,overlayY:a,offsetY:-g}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return j(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:ne(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(gi(s=>s!==this._menuItemInstance),gi(()=>this._menuOpen)):ne(),i)}_handleMousedown(e){xC(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(gi(e=>e===this._menuItemInstance&&!e.disabled),V9(0,EP)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Mb&&this.menu._isAnimating?this.menu._animationDone.pipe(sn(1),V9(0,EP),bn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new rg(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(v(Ns),v(Dt),v(yr),v(U9),v(_O,8),v(VD,10),v(so,8),v(kc),v(Lt))},n.\u0275dir=Se({type:n,hostVars:3,hostBindings:function(e,i){1&e&&Te("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&Bn("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),gIe=(()=>{class n extends mIe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[it]}),n})(),_Ie=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[pIe],imports:[ea,em,On,dg,cg,On]}),n})();const yIe=["cardElement"],vIe=["translateMenu"],bIe=["assingPersonMenu"],wIe=["openAIMenu"],xIe=["textarea"];function CIe(n,t){1&n&&vt(0,"span",24,25),2&n&&ai("background",se().assignedPerson.color)}function EIe(n,t){if(1&n){const e=Yt();b(0,"p",26),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().chatGPTevent(o.key))}),O(1),x()}if(2&n){const e=t.$implicit;k(1),_n(" ",e.value," ")}}function DIe(n,t){if(1&n){const e=Yt();b(0,"div",28),Te("click",function(){const o=Xe(e).$implicit;return Ye(se(2).assignPerson(o))}),b(1,"p",29),O(2),x(),vt(3,"span"),x()}if(2&n){const e=t.$implicit;k(2),ln(e.name),k(1),ai("background",e.color)}}function IIe(n,t){if(1&n&&(bi(0),he(1,DIe,4,3,"div",27),wi()),2&n){const e=se();k(1),L("ngForOf",e.persons)}}function SIe(n,t){1&n&&(b(0,"p",29),O(1,"No characters created yet."),x()),2&n&&ai("padding","5px")}function TIe(n,t){if(1&n){const e=Yt();bi(0,30),b(1,"h3",29),O(2),x(),vt(3,"span",31),b(4,"div",32),Te("click",function(){return Xe(e),Ye(se().removePerson())}),b(5,"mat-icon"),O(6,"remove"),x()(),wi()}if(2&n){const e=se();k(2),ln(e.assignedPerson.name),k(1),ai("background",e.assignedPerson.color)}}function AIe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"button",33),Te("click",function(){return Xe(e),Ye(se().openCommentDialog())}),b(2,"mat-icon"),O(3,"comment"),x()(),b(4,"button",34),Te("click",function(){return Xe(e),Ye(se().deleteComment())}),b(5,"mat-icon"),O(6,"delete"),x()()()}}function kIe(n,t){1&n&&(b(0,"mat-error"),O(1,"Invalid time format."),x())}const MIe=function(n){return{"focused-box":n}};let RIe=(()=>{class n{constructor(e,i){this.youtube=e,this.dialog=i,this.loading$=new Ct,this.deleteDialogBoxEvent=new Ct,this.dialogEmitter=new Ct,this.translateSubtitle=new Ct,this.chatGPTEventEmitter=new Ct,this.isDirty=new Ct,this.wordCount=0,this.characterCount=0,this.timingEstimation=0,this.openAIMenuMap=new Map([["translate","Translate this sentence"],["sad","Give this sentence a sadder tone"],["joyful","Give this sentence a joyful tone"],["shorter","Make this sentence shorter"],["longer","Make this sentence longer"]])}ngOnChanges(e){this.loading$.emit(!0),!0===e?.hasFocus?.currentValue&&this.cardElement?.nativeElement?.scrollIntoView({behavior:"smooth",block:"center"}),this.wordCounter(),this.characterCounter(),this.subtitlingTimingEstimation(),this.loading$.emit(!1)}openCommentDialog(){this.dialog.open(fEe,{width:"440px",height:"250px"}).afterClosed().subscribe(i=>{if(i){const r=`//${i}//`,o=this.getDialogControl("subtitles");o.setValue(`${r}\n${o.value}`)}})}deleteComment(){const e=this.getDialogControl("subtitles");e.setValue(e.value.replace(/\/\/.*?\/\//gs,"").trim())}getDialogControl(e){return this.dialogGroup.get(e)}deleteDialogBox(e){this.deleteDialogBoxEvent.emit(e),this.isDirty.emit(!0)}emitDialogId(e){this.dialogEmitter.emit({id:this.dialogId,control:e})}assignPerson(e){this.assignedPerson=e,this.isDirty.emit(!0)}removePerson(){this.assignedPerson=null}translateSub(){this.dialog.open(s9,{width:"600px",data:this.currentLanguage$}).afterClosed().subscribe({next:e=>{e&&this.translateSubtitle.emit({lang:e,id:this.dialogId})}})}chatGPTevent(e){const i={dialogId:this.dialogId,text:this.dialogGroup.get("subtitles").value,action:e};i.text&&this.chatGPTEventEmitter.emit(i)}seekToPlayer(e){this.youtube.seekToPoint(_s(Wc(e)))}wordCounter(){this.wordCount=this.dialogGroup.get("subtitles").value?this.dialogGroup.get("subtitles").value?.split(/\s+/).filter(i=>i.length>0)?.length:0}characterCounter(){this.characterCount=this.dialogGroup.get("subtitles").value.split(/\S/g).length-1}subtitlingTimingEstimation(){this.timingEstimation=240*this.wordCount+60*this.characterCount,this.subtitleValidityEstimation()}subtitleValidityEstimation(){const e=Wc(this.getDialogControl("start_time").value),i=Wc(this.getDialogControl("end_time").value),r=Math.round(1e3*(_s(i)-_s(e)));r-this.timingEstimation<0?(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is too long for it's set Time range: "+r+"ms",this.estimationIcon="report"):(this.estimationTooltip="Based on the average reading speed of an adult, this subtitle length is VALID for it's set Time range: "+r+"ms",this.estimationIcon="done")}static#e=this.\u0275fac=function(i){return new(i||n)(v(Kh),v(sa))};static#t=this.\u0275cmp=It({type:n,selectors:[["dialog-content"]],viewQuery:function(i,r){if(1&i&&(An(yIe,5),An(vIe,5),An(bIe,5),An(wIe,5),An(xIe,5)),2&i){let o;Vt(o=Bt())&&(r.cardElement=o.first),Vt(o=Bt())&&(r.translateMenu=o.first),Vt(o=Bt())&&(r.assignPersonMenu=o.first),Vt(o=Bt())&&(r.openAIMenu=o.first),Vt(o=Bt())&&(r.textarea=o.first)}},inputs:{dialogGroup:"dialogGroup",index:"index",dialogId:"dialogId",persons:"persons",supportedLanguages:"supportedLanguages",hasFocus:"hasFocus",canOnlyView:"canOnlyView",canComment:"canComment",currentLanguage$:"currentLanguage$"},outputs:{loading$:"loading$",deleteDialogBoxEvent:"deleteDialogBoxEvent",dialogEmitter:"dialogEmitter",translateSubtitle:"translateSubtitle",chatGPTEventEmitter:"chatGPTEventEmitter",isDirty:"isDirty"},features:[Di],decls:48,vars:32,consts:[[3,"ngClass"],["class","header-assigment-ribbon",3,"background",4,"ngIf"],["cardElement",""],[3,"className"],[3,"matTooltip"],["mat-icon-button","","matTooltip","ChatGPT Helper",1,"gpt-sub-btn",3,"disabled","matMenuTriggerFor"],["width","48","height","48","src","assets/images/chat_gpt_logo.svg","alt","chatgpt"],["openAIMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-icon-button","","matTooltip","Translate this subtitle",1,"translate-sub-btn",3,"disabled","click"],["mat-icon-button","","matTooltip","Assign Person to this subtitle",1,"assign-person-btn",3,"disabled","matMenuTriggerFor"],["assignPersonMenu","matMenu"],[4,"ngIf","ngIfElse"],["noPersons",""],["class","sub-character-wrapper",4,"ngIf"],["mat-icon-button","","matTooltip","Delete Subtitle",1,"delete-action",3,"disabled","click"],[4,"ngIf"],["subscriptSizing","dynamic"],["matInput","","type","text",1,"sub-text-area",3,"readonly","formControl","input","click"],["textarea",""],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["subscriptSizing","dynamic",3,"click"],["matInput","","matTooltip","mm:ss:ms","type","text",3,"formControl","maxlength","input"],["matInput","","matTooltip","mm:ss:ms","type","text",3,"readonly","formControl","maxlength","input"],[1,"header-assigment-ribbon"],["card",""],["mat-menu-item","",3,"click"],["class","person-menu-item","mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"person-menu-item",3,"click"],[1,"mat-typography"],[1,"sub-character-wrapper"],[1,"person-item"],["matTooltip","Remove Assigned Character",1,"remove-person-btn",3,"click"],["matTooltip","Add comment","subscriptSizing","dynamic","mat-icon-button","",3,"click"],["matTooltip","Delete comment","subscriptSizing","dynamic","mat-icon-button","",3,"click"]],template:function(i,r){if(1&i&&(b(0,"mat-card",0),he(1,CIe,2,2,"span",1),b(2,"mat-card-header")(3,"mat-card-title",null,2),O(5),x(),b(6,"div",3)(7,"mat-icon",4),O(8),x()(),b(9,"button",5),vt(10,"img",6),x(),b(11,"mat-menu",null,7),he(13,EIe,2,1,"p",8),un(14,"keyvalue"),x(),b(15,"button",9),Te("click",function(){return r.translateSub()}),b(16,"mat-icon"),O(17,"g_translate"),x()(),b(18,"button",10)(19,"mat-icon"),O(20,"person_add"),x()(),b(21,"mat-menu",null,11),he(23,IIe,2,1,"ng-container",12),he(24,SIe,2,2,"ng-template",null,13,Ml),x(),he(26,TIe,7,3,"ng-container",14),b(27,"button",15),Te("click",function(){return r.deleteDialogBox(r.dialogId)}),b(28,"mat-icon"),O(29,"delete"),x()()(),b(30,"mat-card-content"),he(31,AIe,7,0,"div",16),b(32,"mat-form-field",17)(33,"textarea",18,19),Te("input",function(){return r.wordCounter(),r.characterCounter(),r.subtitlingTimingEstimation()})("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),x()(),b(35,"div",20)(36,"mat-form-field",21),Te("click",function(){return r.seekToPlayer(r.dialogGroup.get("start_time").value)}),b(37,"mat-label"),O(38,"From:"),x(),b(39,"input",22),Te("input",function(){return r.emitDialogId("start_time"),r.subtitlingTimingEstimation()}),x()(),b(40,"mat-form-field",21),Te("click",function(){return r.seekToPlayer(r.dialogGroup.get("end_time").value)}),b(41,"mat-label"),O(42,"To:"),x(),b(43,"input",23),Te("input",function(){return r.emitDialogId("end_time"),r.subtitlingTimingEstimation()}),x(),he(44,kIe,2,0,"mat-error",16),x()()(),b(45,"mat-card-subtitle")(46,"span"),O(47),x()()()),2&i){const o=tr(12),s=tr(22),a=tr(25);L("ngClass",kd(30,MIe,r.hasFocus)),k(1),L("ngIf",r.assignedPerson),k(4),_n("Subtitle ",r.index+1,""),k(1),L("className","estimation-icon-"+r.estimationIcon),k(1),L("matTooltip",r.estimationTooltip),k(1),ln(r.estimationIcon),k(1),L("disabled",r.canOnlyView)("matMenuTriggerFor",o),k(4),L("ngForOf",Mn(14,28,r.openAIMenuMap)),k(2),L("disabled",r.canOnlyView),k(3),L("disabled",r.canOnlyView)("matMenuTriggerFor",s),k(5),L("ngIf",r.persons)("ngIfElse",a),k(3),L("ngIf",r.assignedPerson),k(1),L("disabled",r.canOnlyView),k(4),L("ngIf",r.canComment),k(2),L("readonly",r.canOnlyView)("formControl",r.getDialogControl("subtitles")),k(6),L("formControl",r.getDialogControl("start_time"))("maxlength",9),k(4),L("readonly",r.canOnlyView)("formControl",r.getDialogControl("end_time"))("maxlength",9),k(1),L("ngIf",r.getDialogControl("end_time").hasError("invalidTimeFormat")),k(3),yA("",r.wordCount," words, ",r.characterCount," characters, ",r.timingEstimation," ms estimated reading time.")}},dependencies:[Od,jo,xi,ka,Aa,Xy,Pa,ds,$o,yk,dk,Hh,Ao,Yo,hO,fO,pO,mO,Wh,bb,fg,L$,du,hIe,VD,gIe,rU],styles:[".mat-mdc-form-field[_ngcontent-%COMP%]{flex-grow:1;padding-right:15px}.mat-mdc-card-content[_ngcontent-%COMP%]{display:flex;min-width:650px}.sub-text-area[_ngcontent-%COMP%]{min-height:100px!important}.mat-mdc-card-header[_ngcontent-%COMP%]{padding:8px 16px;align-items:center;gap:15px}.delete-action[_ngcontent-%COMP%]{margin-left:auto}.delete-action[_ngcontent-%COMP%]:hover{color:red}.mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px}.mat-mdc-card-subtitle[_ngcontent-%COMP%]{padding-top:4px;padding-left:16px;padding-bottom:4px}.mat-icon[_ngcontent-%COMP%]{width:24px;height:24px;font-size:24px}.span-color[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:24px;height:24px}.person-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center}.person-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:24px;height:24px;border-radius:5px}.person-item[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:5px}.header-assigment-ribbon[_ngcontent-%COMP%]{display:inline-block;width:100%;height:4px;border-radius:90%}.mat-typography[_ngcontent-%COMP%]{margin-bottom:0}.focused-box[_ngcontent-%COMP%]{border:2px solid #4d68f147}.gpt-sub-btn[_ngcontent-%COMP%]:hover{filter:invert(17%) sepia(52%) saturate(4775%) hue-rotate(99deg) brightness(96%) contrast(103%)}.translate-sub-btn[_ngcontent-%COMP%]:hover{color:#0016a1}.assign-person-btn[_ngcontent-%COMP%]:hover{color:#930086}.remove-person-btn[_ngcontent-%COMP%]{border-radius:50%;text-align:center;height:32px;width:32px}.remove-person-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:5px}.remove-person-btn[_ngcontent-%COMP%]:hover{cursor:pointer;display:block;background-color:#efefef;color:#b20000}.estimation-icon-report[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:help;color:red}.estimation-icon-done[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:help;color:green}"]})}return n})(),PIe=(()=>{class n{constructor(){this.fileContent$=new P(null),this.isFormDirty=new Ct,this.fileContentEmit=new Ct}selectFile(e){let i=e.target.files[0];this.readFile(i).then(r=>{this.fileContent$.next(r),this.fileContentEmit.emit({data:this.fileContent$,format:i.name.split(".")[1]})})}readFile(e){var i=this;return(0,$e.Z)(function*(){return new Promise((r,o)=>{const s=new FileReader;if(s.onload=a=>(i.fileContent$.next(s.result),i.isFormDirty.emit(!0),r(a.target.result)),s.onerror=()=>(console.error(`FileReader failed on file ${e.name}.`),o(null)),!e)return console.error("No file to read."),o(null);s.readAsText(e)})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=It({type:n,selectors:[["import-button"]],inputs:{acceptedFiles:"acceptedFiles"},outputs:{isFormDirty:"isFormDirty",fileContentEmit:"fileContentEmit"},decls:5,vars:1,consts:[["mat-icon-button","","color","primary","matTooltip","Import Subtitles",3,"click"],["hidden","true","id","uploadFile","type","file",3,"accept","change"],["uploadFile",""]],template:function(i,r){if(1&i){const o=Yt();b(0,"button",0),Te("click",function(){return Xe(o),Ye(tr(4).click())}),b(1,"mat-icon"),O(2,"file_upload"),x()(),b(3,"input",1,2),Te("change",function(a){return r.selectFile(a)}),x()}2&i&&(k(3),L("accept",r.acceptedFiles))},dependencies:[Hh,Ao,Yo],styles:["button[_ngcontent-%COMP%]{transition:scale .14s ease}button[_ngcontent-%COMP%]:hover{scale:118%}"]})}return n})();const OIe=["translateMenu"],FIe=["scrollContainer"];function NIe(n,t){if(1&n){const e=Yt();b(0,"dialog-content",14),Te("loading$",function(r){return Xe(e),Ye(se().setLoading(r))})("translateSubtitle",function(r){return Xe(e),Ye(se().translateSingleSubtitle(r))})("chatGPTEventEmitter",function(r){return Xe(e),Ye(se().chatGPTEventDispatcher(r))})("deleteDialogBoxEvent",function(r){return Xe(e),Ye(se().deleteDialogBox(r))})("dialogEmitter",function(r){return Xe(e),Ye(se().timeRangeValidation(r))})("isDirty",function(r){return Xe(e),Ye(se().setFormDirtyStatus(r))}),un(1,"async"),x()}if(2&n){const e=t.$implicit,i=t.index,r=se();let o;L("dialogGroup",r.getDialogControl(e.id))("index",i)("dialogId",e.id)("persons",r.characters.length<=0?null:r.characters)("hasFocus",r.focusedDialogBox===e.id)("supportedLanguages",null==(o=Mn(1,9,r.supportedLanguages$))||null==o.data?null:o.data.languages)("currentLanguage$",r.currentLanguage$)("canOnlyView",r.canOnlyView)("canComment",r.canComment)}}function LIe(n,t){1&n&&vt(0,"fullscreen-loader")}let j9=(()=>{class n{get supportedLanguages$(){return this._supportedLanguages$}constructor(e,i,r,o,s,a,l,c,d,f,g,y,C){this.fb=e,this.fileService=i,this.storage=r,this.google=o,this.dialog=s,this.ttsService=a,this.openai=l,this.youtube=c,this.snackbar=d,this.charService=f,this.auth=g,this.downService=y,this.loadingService=C,this.dialogBoxId=1,this._supportedLanguages$=new P(null),this._translatedText$=new P(null),this.subtitles$=new P(null),this.characters=[],this.loading=new P(null),this.isDirty=!1,this.initSubtitles=!0,this.loading$=new Ct,this.subtitleUploadEmitter=new Ct,this.formStatusChange=new Ct,this.navigateTTS=new Ct,this.captionsPreviewDispatch=new Ct,this.dialogBoxes=[{id:1,text:"",start_time:"",end_time:""}]}ngOnInit(){this.user$=this.auth.user,this.loading$.emit(!0),this.user$.subscribe({next:e=>{e&&(this.uid=e.uid,this.charService.getCharactersOfSubtitle(this.uid,this.videoId,this.isoCode,this.subtitleName).subscribe(i=>{i&&(this.characters=i,this.newCharacters=[...this.characters])}))}}),this.loadingService.loading$.subscribe(e=>{this.loading.next(e)}),this.initSubtitles&&(this.ownerId.length<=0?this.storage.getSubtitleURL(this.videoId,this.isoCode,this.subtitleName).pipe(sn(1)).subscribe(e=>{e&&this.storage.fetchSubtitleFile(e).subscribe(i=>{this.subtitles$.next(i),this.handleFileUpload({data:this.subtitles$,format:this.subtitleName.split(".")[1]})})}):this.storage.getSubtitleURLForShared(this.ownerId,this.videoId,this.isoCode,this.subtitleName).pipe(sn(1)).subscribe(e=>{e&&this.storage.fetchSubtitleFile(e).subscribe(i=>{this.subtitles$.next(i),this.handleFileUpload({data:this.subtitles$,format:this.subtitleName.split(".")[1]})})})),this.form=this.fb.group({"1-dialogBox":this.fb.group({subtitles:this.fb.control("",[Go.pattern("")]),start_time:this.fb.control("00:00.000"),end_time:this.fb.control("00:02.000")})}),this.form.statusChanges.pipe().subscribe(()=>{this.isDirty=this.form.dirty,this.isDirty&&this.formStatusChange.emit(this.isDirty)}),this.youtube.getCurrentTime().pipe(V1(1)).subscribe(e=>{const i=this.dialogBoxes.find(r=>{const o=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("start_time").value),s=this.getSecondsFromTime(this.form.get(r.id+"-dialogBox").get("end_time").value);return e>=o&&e<=s});i?(this.setFocusToDialogBoxItem(i.id),this.youtube.updateCurrentCaption(this.form.get(i.id+"-dialogBox").get("subtitles").value)):(this.focusedDialogBox=void 0,this.youtube.updateCurrentCaption(null))}),this.getSupportedLanguages(),this.loading$.emit(!1)}setLoading(e){this.loading$.emit(e)}setFocusToDialogBoxItem(e){this.focusedDialogBox=e}setFormDirtyStatus(e){this.formStatusChange.emit(e)}getDialogControl(e){return this.form.get(e+"-dialogBox")}setIsFormDirty(e){this.formStatusChange.emit(e),this.isDirty=e}addDialogBox(e=null,i){this.dialogBoxId++,this.form.addControl(this.dialogBoxId+"-dialogBox",this.fb.group({subtitles:this.fb.control(e?.subtitleText?e.subtitleText:""),start_time:this.fb.control(e?.start_time?e.start_time:this.setStartTimeControlValue()),end_time:this.fb.control(e?.end_time?e.end_time:this.setEndTimeControlValue())})),this.dialogBoxes.push({id:this.dialogBoxId,text:e?.subtitleText,start_time:e?.start_time,end_time:e?.end_time}),i&&(this.formStatusChange.emit(!0),this.isDirty=!0)}openDialogForBatchDialogCreation(){this.dialog.open(QCe,{width:"500px"}).afterClosed().pipe(sn(1)).subscribe({next:e=>{e>0&&this.batchCreateDialog(e)},error:e=>{console.error(e)}})}batchCreateDialog(e){this.formStatusChange.emit(!0);const i=this.videoDurationToSeconds(this.videoDuration),r=Object.keys(this.form.controls);for(let s=parseInt(r[r.length-1].split("-")[0]);s<i/e;s++)this.addDialogBox({start_time:this.form.get(s+"-dialogBox").get("end_time").value,end_time:this.intervalAddition(this.form.get(s+"-dialogBox").get("end_time").value,e),subtitleText:""},!0);this.loadingService.setLoading(!1)}intervalAddition(e,i){const[r,o]=e.split(":"),[s,a]=o.split("."),c=1e3*(60*parseInt(r)+parseInt(s))+parseInt(a)+1e3*i,d=Math.floor(c/6e4),f=Math.floor(c%6e4/1e3),g=c%1e3;return`${String(d).padStart(2,"0")}:${String(f).padStart(2,"0")}.${String(g).padStart(3,"0")}`}videoDurationToSeconds(e){let i=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);return i=i.slice(1).map(function(a){if(null!=a)return a.replace(/\D/,"")}),3600*(parseInt(i[0])||0)+60*(parseInt(i[1])||0)+(parseInt(i[2])||0)}deleteDialogBox(e){this.form.removeControl(e+"-dialogBox"),this.dialogBoxes=this.dialogBoxes.filter(i=>i.id!==e)}setStartTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString();return this.form?.get(r)?.get("end_time")?.value}return"00:00.000"}setEndTimeControlValue(){if(this.dialogBoxes.length){const e=Object.keys(this.form.controls).length-1,r=Object.keys(this.form.controls)[e].toString(),o=this.form?.get(r)?.get("end_time")?.value,[s,a]=o.split("."),[l,c]=s.split(":");let d=parseInt(c)+2,f=parseInt(l);return d>=60&&(f+=Math.floor(d/60),d%=60),`${f.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}.${a}`}return"00:02.000"}timeRangeValidation(e){const i=this.form.get(e.id-1+"-dialogBox"),r=this.form.get(e.id+"-dialogBox"),o=this.form.get(e.id+1+"-dialogBox"),s=Wc(r.get("start_time").value),a=Wc(r.get("end_time").value);"start_time"===e.control?this.startTimeValidation(i,r,s,a):this.endTimeValidation(o,r,s,a)}startTimeValidation(e,i,r,o){_s(r)>_s(o)?i.get("start_time").setErrors({higherStartTime:!0}):i.get("start_time").setErrors(null),e&&(_s(Wc(e?.get("end_time")?.value))>_s(r)?(i.get("start_time").setErrors({higherPrevEndTime:!0}),e.get("end_time").setErrors({higherPrevEndTime:!0})):_s(r)>_s(o)?i.get("start_time").setErrors({higherStartTime:!0}):(i.get("start_time").setErrors(null),e.get("end_time").setErrors(null)),i.get("start_time").markAsTouched(),e.get("end_time").markAsTouched())}endTimeValidation(e,i,r,o){_s(r)>_s(o)?i.get("end_time").setErrors({higherStartTime:!0}):i.get("end_time").setErrors(null),e&&(_s(Wc(e?.get("start_time")?.value))<_s(o)?e.get("start_time").setErrors({higherPrevEndTime:!0}):e.get("start_time").setErrors(null),i.get("end_time").markAsTouched(),e.get("start_time").markAsTouched())}getSecondsFromTime(e){const[i,r]=e.split(":").map(parseFloat);return 60*i+r}openDialogToTranslateSubtitles(){this.dialog.open(s9,{width:"600px",data:this.currentLanguage$}).afterClosed().subscribe({next:e=>{e&&this.translateAllSubtitles(e)}})}translateAllSubtitles(e){let i={q:[],target:e},r={controlsName:[]};Object.keys(this.form.controls).forEach(o=>{const s=this.form.get(o).get("subtitles").value;s&&(i.q.push(s),r.controlsName.push(o))}),i.q&&(this.google.translate(i).subscribe(o=>{this._translatedText$.next(o);let s=this._translatedText$.value.data.translations;if(s)for(let a=0;a<r.controlsName.length;a++)this.form.get(r.controlsName[a]).get("subtitles").setValue(s[a].translatedText)}),this.formStatusChange.emit(!0),this.isDirty=!0,this.snackbar.open("Subtitles translated successfully","OK",{duration:3500}))}translateSingleSubtitle(e){let i={q:[this.form.get(e.id+"-dialogBox").get("subtitles").value],target:e.lang};this.google.translate(i).subscribe(r=>{r&&(this.form.get(e.id+"-dialogBox").get("subtitles").setValue(r.data.translations[0].translatedText),this.formStatusChange.emit(!0),this.isDirty=!0)})}chatGPTEventDispatcher(e){this.openai.getDataFromOpenAI(e).subscribe(i=>{i&&this.dialog.open(YCe,{width:"700px",data:{current_text:this.form.get(e.dialogId+"-dialogBox").get("subtitles").value,new_text:i}}).afterClosed().pipe(sn(1)).subscribe(r=>{r&&this.form.get(e.dialogId+"-dialogBox").get("subtitles").setValue(i)})})}getSupportedLanguages(){this.google.getSupportedLanguages().pipe(ei(()=>{})).subscribe(e=>{this._supportedLanguages$.next(e)})}openPersonCreationModal(){this.dialog.open(KCe,{width:"600px",data:this.characters}).afterClosed().subscribe({next:e=>{e&&(this.newCharacters=e,this.saveCharacters(),this.characters=[...this.newCharacters],this.formStatusChange.emit(!0),this.isDirty=!0)}})}saveCharacters(){this.charService.deleteCharacter(this.uid,this.videoId,this.isoCode,this.subtitleName,this.characters)&&this.charService.saveCharacters(this.uid,this.videoId,this.isoCode,this.subtitleName,this.newCharacters)?this.snackbar.open("Your characters have been saved!","OK",{duration:3500}):this.snackbar.open("There was a problem saving your characters","OK",{duration:3500})}uploadSubtitle(){this.subtitleUploadEmitter.emit(this.createSubtitleBlob(this.subtitleName.split(".")[1])),this.isDirty=!1}createSubtitleBlob(e){let i="";return Object.keys(this.form.controls).forEach(r=>{const o=this.form.get(r);i+=`${"00:"+o.get("start_time").value},${"00:"+o.get("end_time").value}\n${o.get("subtitles").value}\n\n`}),new Blob([i],{type:"text/"+e+";charset=utf8"})}openDownloadDialog(){this.dialog.open(XCe,{width:"500px",data:this.subtitleName}).afterClosed().subscribe({next:e=>{if(e)switch(e){case"srt":this.handleFileDownload(".srt");break;case"sbv":this.handleFileDownload(".sbv");break;case"both":this.handleMultipleFilesDownload()}},error:e=>{console.error("Error: "+e.message)}})}handleMultipleFilesDownload(){let e=[],i=[];e.push(this.createSubtitleBlob("srt")),e.push(this.createSubtitleBlob("sbv")),i.push(this.subtitleName.split(".")[1]+".srt"),i.push(this.subtitleName.split(".")[1]+".sbv"),this.downService.downloadSubtitleFiles(e,i)}handleFileDownload(e){let i=this.subtitleName.split(".")[0];const r=this.createSubtitleBlob(e.split(".")[1]),o=window.URL.createObjectURL(r),s=document.createElement("a");s.href=o,document.body.appendChild(s),s.download=i+e,s.click(),window.URL.revokeObjectURL(o),document.body.removeChild(s)}handleFileUpload(e){let l,i=e.data.value,r=[],o=0,s=0,a=0;switch(e.format){case"sbv":case"srt":r=this.fileService.cleanMultilineString(i);break;case"txt":r=this.fileService.youtubeTranscriptParse(i);break;default:this.snackbar.open("Format not supported!","DISMISS",{duration:5e3})}if(r.length){Object.keys(this.form.controls).forEach(c=>{this.form.removeControl(c)}),this.dialogBoxes=[],this.dialogBoxId=0,o=r.length;for(let c of r)this.addDialogBox(c,!1),c.subtitleText.length>0?this.google.detectLanguage(c.subtitleText).subscribe({next:d=>{d&&(a+=d.data.detections[0][0].language===this.isoCode?1:0)},error:d=>{console.error(d)},complete:()=>{s+=1,s==o&&(l=a/s*100,this.checkIfSubIsDifferentLang(l))}}):o-=1}}checkIfSubIsDifferentLang(e){e<50&&this.dialog.open(dEe,{width:"500px",data:this.currentLanguage$}).afterClosed().subscribe({next:i=>{i&&this.translateAllSubtitles(i)}})}checkIfChangesToGenerateSpeech(){this.isDirty?this.dialog.open(ZCe,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.generateSpeechInit()}):this.generateSpeechInit()}generateSpeechInit(){let e=[];Object.keys(this.form.controls).forEach(i=>{const r=Wc(this.form.get(i).get("start_time").value),o=Wc(this.form.get(i).get("end_time").value),s={text:this.form.get(i).get("subtitles").value,totalDuration:Math.floor(1e3*(_s(o)-_s(r)))+"ms",start_time:this.form.get(i).get("start_time").value,end_time:this.form.get(i).get("end_time").value};e.push(s)}),this.ttsService.set_initContentSSML(e),this.navigateTTS.emit()}static#e=this.\u0275fac=function(i){return new(i||n)(v(VC),v(iO),v(Qh),v(la),v(sa),v(a9),v(uEe),v(Kh),v(Ls),v(hEe),v(ps),v(rO),v(e9))};static#t=this.\u0275cmp=It({type:n,selectors:[["dialog-component"]],viewQuery:function(i,r){if(1&i&&(An(OIe,5),An(FIe,5)),2&i){let o;Vt(o=Bt())&&(r.translateMenu=o.first),Vt(o=Bt())&&(r.scrollContainer=o)}},inputs:{canOnlyView:"canOnlyView",canComment:"canComment",initSubtitles:"initSubtitles",subtitleName:"subtitleName",videoId:"videoId",isoCode:"isoCode",videoDuration:"videoDuration",currentLanguage$:"currentLanguage$",ownerId:"ownerId"},outputs:{loading$:"loading$",subtitleUploadEmitter:"subtitleUploadEmitter",formStatusChange:"formStatusChange",navigateTTS:"navigateTTS",captionsPreviewDispatch:"captionsPreviewDispatch"},features:[Wt([iO,la,Qh])],decls:29,vars:7,consts:[[1,"dialog-wrapper"],[1,"button-wrapper"],["mat-icon-button","","color","primary","matTooltip","Add Dialog Box",3,"click"],["mat-icon-button","","color","primary","matTooltip","Batch Add Dialog Boxes",3,"click"],["mat-icon-button","","color","primary","matTooltip","Translate all subtitles",3,"click"],[3,"acceptedFiles","fileContentEmit","isFormDirty"],["mat-icon-button","","color","primary","matTooltip","Download Subtitles",3,"click"],["mat-icon-button","","color","primary","matTooltip","Manage Characters/Voice actors to assign them to subtitles",3,"disabled","click"],["mat-icon-button","","color","primary","matTooltip","Generete Voices/Speech for your subtitles",3,"disabled","click"],["mat-icon-button","","color","primary","matTooltip","Save",3,"click"],[1,"main-content_wrapper"],["scrollContainer",""],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","currentLanguage$","canOnlyView","canComment","loading$","translateSubtitle","chatGPTEventEmitter","deleteDialogBoxEvent","dialogEmitter","isDirty",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"dialogGroup","index","dialogId","persons","hasFocus","supportedLanguages","currentLanguage$","canOnlyView","canComment","loading$","translateSubtitle","chatGPTEventEmitter","deleteDialogBoxEvent","dialogEmitter","isDirty"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"button",2),Te("click",function(){return r.addDialogBox(null,!0)}),b(3,"mat-icon"),O(4,"add"),x()(),b(5,"button",3),Te("click",function(){return r.openDialogForBatchDialogCreation()}),b(6,"mat-icon"),O(7,"library_add"),x()(),b(8,"button",4),Te("click",function(){return r.openDialogToTranslateSubtitles()}),b(9,"mat-icon"),O(10,"g_translate"),x()(),b(11,"import-button",5),Te("fileContentEmit",function(s){return r.handleFileUpload(s)})("isFormDirty",function(s){return r.setIsFormDirty(s)}),x(),b(12,"button",6),Te("click",function(){return r.openDownloadDialog()}),b(13,"mat-icon"),O(14,"file_download"),x()(),b(15,"button",7),Te("click",function(){return r.openPersonCreationModal()}),b(16,"mat-icon"),O(17,"person"),x()(),b(18,"button",8),Te("click",function(){return r.checkIfChangesToGenerateSpeech()}),b(19,"mat-icon"),O(20,"record_voice_over"),x()(),b(21,"button",9),Te("click",function(){return r.uploadSubtitle()}),b(22,"mat-icon"),O(23,"save"),x()()(),b(24,"div",10,11),he(26,NIe,2,11,"dialog-content",12),x()(),he(27,LIe,1,0,"fullscreen-loader",13),un(28,"async")),2&i&&(k(11),L("acceptedFiles",".sbv, .srt, .txt"),k(4),L("disabled",r.canOnlyView),k(3),L("disabled",r.canOnlyView),k(8),L("ngForOf",r.dialogBoxes),k(1),L("ngIf",Mn(28,5,r.loading)))},dependencies:[jo,xi,Hh,Ao,Yo,RIe,PIe,Zh,Js],styles:[".dialog-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-content_wrapper[_ngcontent-%COMP%]{overflow-y:auto;height:65vh;overflow-x:visible}.button-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:20px;padding-bottom:20px;justify-content:center}.button-wrapper[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:none}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:scale .14s ease}.button-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:118%}"]})}return n})();function VIe(n,t){1&n&&vt(0,"fullscreen-loader")}let H9=(()=>{class n{constructor(e,i,r,o,s,a,l,c,d){this.route=e,this.router=i,this.storageService=r,this.storage=o,this.googleLangService=s,this.auth=a,this.dialog=l,this.youtube=c,this.shareService=d,this.isFormDirty=!1,this.availableLanguages$=new P(null),this.videoDetails$=new P(null),this.videoDuration=new P(""),this.loading$=new P(null)}ngOnInit(){this.ownerId=this.route.snapshot.paramMap?.get("ownerId"),this.videoId=this.route.snapshot.paramMap.get("id"),this.languageIsoCode=this.route.snapshot.paramMap.get("languageCode"),this.languageName=this.route.snapshot.paramMap.get("language"),this.fileName=this.route.snapshot.paramMap.get("name"),this.subFormat=this.route.snapshot.paramMap.get("format"),this.right=this.route.snapshot.paramMap?.get("right"),this.subtitleId=this.route.snapshot.paramMap?.get("subtitleId"),this.canOnlyView=!(!this.right||"Editor"==this.right),this.canComment="Viewer"!=this.right,this.isUsed=!0,null==this.ownerId&&(this.ownerId=""),this.youtube.getAllVideoDetails(this.videoId).pipe(sn(1),ei(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.videoDuration.next(this.videoDetails$.value[0].contentDetails.duration),this.loading$.next(!1))}),this.getAvailableLanguages(),(!this.canOnlyView||this.canComment)&&this.auth.user.subscribe({next:e=>{e&&this.setIsUsedSubtitle(!0,e.uid)}})}get currentLanguage$(){return this._currentLanguage$}setFormDirtyStatus(e){this.isFormDirty=e}setLoading(e){this.loading$.next(e)}uploadToFirestorage(e){this.isFormDirty=!1,this.ownerId.length<=0?this.storageService.createFirestorageRef(this.storage,this.languageIsoCode,e,this.videoId,this.fileName):this.storageService.saveToFireStorageShared(this.ownerId,this.storage,this.languageIsoCode,e,this.videoId,this.fileName)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.languageIsoCode])}setIsUsedSubtitle(e,i){this.shareService.setIsUsedSubtitle(this.videoId,this.languageIsoCode,this.languageName,this.fileName,this.subtitleId,e,this.ownerId,i)}getAvailableLanguages(){this.googleLangService.getSupportedLanguages().pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{this.availableLanguages$.next(e),this.loading$.next(!1),this._currentLanguage$=this.availableLanguages$.pipe(We(i=>i.data.languages.find(r=>r.language===this.languageIsoCode))),this.langName$=this.availableLanguages$.pipe(We(i=>i.data.languages.find(r=>r.language===this.languageIsoCode)?.name)),this.youtube.getAllVideoDetails(this.videoId).subscribe({next:i=>{this.videoLang$=this.availableLanguages$.pipe(We(r=>r.data.languages.find(o=>o.language===i[0].snippet.defaultAudioLanguage)?.name))}})})}navigateToDetails(){const e=this.route.snapshot.url.join("/");(!this.right||"Viewer"!=this.right)&&this.shareService.setIsUsedSubtitle(this.videoId,this.languageIsoCode,this.languageName,this.fileName,this.subtitleId,!1,this.ownerId,""),this.isFormDirty?this.dialog.open(Wq,{width:"500px"}).afterClosed().subscribe(i=>{i&&(e.includes("edit/shared")?this.router.navigate(["shared",this.videoId]):this.router.navigate(["details",this.videoId]))}):e.includes("edit/shared")?this.router.navigate(["shared",this.videoId]):this.router.navigate(["details",this.videoId])}static#e=this.\u0275fac=function(i){return new(i||n)(v(zl),v(Ar),v(Qh),v(bg),v(la),v(ps),v(sa),v(Kh),v(PD))};static#t=this.\u0275cmp=It({type:n,selectors:[["subtitling-container"]],features:[Wt([Qh])],decls:32,vars:24,consts:[[1,"container"],[1,"dashboard-navigation"],[1,"back-button-wrapper"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"sub-details-wrapper"],[1,"sub-name-wrapper"],[1,"lags-info-wrapper"],[1,"video-lang-wrapper"],[1,"lang-wrapper"],[1,"wrapper"],[3,"videoId","captionsPreview"],[3,"isoCode","videoId","subtitleName","videoDuration","currentLanguage$","ownerId","canOnlyView","canComment","loading$","subtitleUploadEmitter","navigateTTS","formStatusChange"],[4,"ngIf"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Te("click",function(){return r.navigateToDetails()}),b(4,"mat-icon"),O(5,"arrow_back"),x()()(),b(6,"div",4)(7,"div",5)(8,"span"),O(9,"Editing Subtitle: "),b(10,"b"),O(11),x()()(),b(12,"div",6)(13,"div",7)(14,"span"),O(15,"Video Language: "),b(16,"b"),O(17),un(18,"async"),x()()(),b(19,"div",8)(20,"span"),O(21,"Subtitle Language: "),b(22,"b"),O(23),un(24,"async"),x()()()()()(),b(25,"div",9),vt(26,"video-player",10),un(27,"async"),b(28,"dialog-component",11),Te("loading$",function(s){return r.setLoading(s)})("subtitleUploadEmitter",function(s){return r.uploadToFirestorage(s)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(s){return r.setFormDirtyStatus(s)}),un(29,"async"),x()()(),he(30,VIe,1,0,"fullscreen-loader",12),un(31,"async")),2&i&&(k(11),ln(r.fileName),k(6),ln(Mn(18,14,r.videoLang$)),k(6),ln(Mn(24,16,r.langName$)),k(3),L("videoId",r.videoId)("captionsPreview",Mn(27,18,r.youtube.getCurrentCaption())),k(2),L("isoCode",r.languageIsoCode)("videoId",r.videoId)("subtitleName",r.fileName)("videoDuration",Mn(29,20,r.videoDuration))("currentLanguage$",r.currentLanguage$)("ownerId",r.ownerId)("canOnlyView",r.canOnlyView)("canComment",r.canComment),k(2),L("ngIf",Mn(31,22,r.loading$)))},dependencies:[xi,hb,Ao,Yo,Kq,j9,Zh,Js],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:35px}.dashboard-navigation[_ngcontent-%COMP%]{display:flex;padding-top:20px}.back-button-wrapper[_ngcontent-%COMP%]{margin-left:20px}.sub-details-wrapper[_ngcontent-%COMP%]{margin-left:100px;margin-top:10px}.lags-info-wrapper[_ngcontent-%COMP%]{margin-top:15px;display:flex}.sub-name-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:25px}.lang-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .video-lang-wrapper[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:22px}.lang-wrapper[_ngcontent-%COMP%]{margin-left:30px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})();function BIe(n,t){if(1&n){const e=Yt();b(0,"mat-option",13),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().saveLanguage(o))}),O(1),x()}if(2&n){const e=t.$implicit;qa("value",e.language),k(1),ln(e.name)}}function UIe(n,t){1&n&&(b(0,"mat-dialog-content",3)(1,"h3"),O(2,"Now set a name that will help you identify your subtitle."),x()())}function zIe(n,t){1&n&&(b(0,"mat-error"),O(1,"The name contains one or more unaccepted special characters"),x())}function jIe(n,t){if(1&n&&(b(0,"div",14)(1,"mat-form-field")(2,"mat-label"),O(3,"Choose name"),x(),vt(4,"input",15),he(5,zIe,2,0,"mat-error",16),x(),b(6,"mat-form-field",17)(7,"mat-label"),O(8,"Format"),x(),b(9,"mat-select",18)(10,"mat-option",19),O(11,"SBV"),x(),b(12,"mat-option",19),O(13,"SRT"),x()()()()),2&n){const e=se();let i;k(5),L("ngIf",null==(i=e.newSubForm.get("name"))?null:i.hasError("pattern")),k(5),L("value","sbv"),k(2),L("value","srt")}}const HIe=function(n,t,e){return{language:n,name:t,format:e}};let GIe=(()=>{class n{constructor(e,i){this.translateService=e,this.fb=i,this.supportedLanguages$=new P(null),this.loading$=new P(null),this.langIsSelected=!1,this.newSubForm=new Ms({language:new Nr("",Go.required),name:new Nr("",[Go.pattern("^[a-zA-Z0-9_\\[\\]()]+$")]),format:new Nr("",Go.required)})}ngOnInit(){this.getSupportedLanguages()}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}isSelected(){this.langIsSelected="0"!=this.newSubForm.controls.language.value}saveLanguage(e){this.selectedLang=e}static#e=this.\u0275fac=function(i){return new(i||n)(v(la),v(VC))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-save-subtitle-dialog"]],features:[Wt([la,Fa])],decls:18,vars:13,consts:[["mat-dialog-title",""],[1,"new-sub-container-form",3,"formGroup"],[1,"language-selector"],[1,"mat-typography"],["appearance","fill"],["formControlName","language",3,"selectionChange"],[3,"value","click",4,"ngFor","ngForOf"],["class","mat-typography",4,"ngIf"],["class","input-container",4,"ngIf"],[1,"actions-btn"],["align","end"],["mat-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close"],[3,"value","click"],[1,"input-container"],["matInput","","type","text","formControlName","name"],[4,"ngIf"],[1,"format-selector"],["formControlName","format"],[3,"value"]],template:function(i,r){if(1&i&&(b(0,"h2",0),O(1,"Set up new subtitle"),x(),b(2,"div",1)(3,"div",2)(4,"h3",3),O(5,"First select Language:"),x(),b(6,"mat-form-field",4)(7,"mat-select",5),Te("selectionChange",function(){return r.isSelected()}),he(8,BIe,2,2,"mat-option",6),un(9,"async"),x()()(),he(10,UIe,3,0,"mat-dialog-content",7),he(11,jIe,14,3,"div",8),x(),b(12,"div",9)(13,"mat-dialog-actions",10)(14,"button",11),O(15,"Cancel"),x(),b(16,"button",12),O(17," Save "),x()()()),2&i){let o;k(2),L("formGroup",r.newSubForm),k(6),L("ngForOf",null==(o=Mn(9,7,r.supportedLanguages$))||null==o.data?null:o.data.languages),k(2),L("ngIf",r.langIsSelected),k(1),L("ngIf",r.langIsSelected),k(3),L("mat-dialog-close",null),k(2),L("disabled",r.newSubForm.invalid)("mat-dialog-close",function _3(n,t,e,i,r,o){return x3(pt(),Zr(),n,t,e,i,r,o)}(9,HIe,r.selectedLang,r.newSubForm.controls.name.value,r.newSubForm.controls.format.value))}},dependencies:[jo,xi,ka,Aa,Xy,Pa,ds,$o,Bd,Ra,Mc,br,So,uo,ho,To,xb,tm,Js],styles:[".mat-mdc-form-field{flex-grow:1}.input-container[_ngcontent-%COMP%]{padding-left:24px;padding-right:24px;display:flex}.format-selector[_ngcontent-%COMP%]{width:20%;padding-left:10px}.mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding-right:25px}.language-selector[_ngcontent-%COMP%]{display:flex;padding-right:25px;padding-left:25px}.language-selector[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{margin-top:14px;margin-right:10px}"]})}return n})();function $Ie(n,t){1&n&&(b(0,"p"),O(1,"Sending a new ownership transfer request will cancel the previous one. You'll be the owner until this person accepts ownership."),x())}function qIe(n,t){1&n&&(b(0,"p"),O(1,"You'll be the owner until this person accepts ownership."),x())}const WIe=function(n){return{email:n}};let KIe=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(nl))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-transfer-ownership-dialog"]],decls:16,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"ngTemplateOutlet"],["alternativeTemplate",""],["defaultTemplate",""],["mat-dialog-actions","","align","end"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","cdkFocusInitial","","color","primary",1,"Send",3,"mat-dialog-close"]],template:function(i,r){if(1&i&&(b(0,"h3",0),O(1,"Transfer ownership?"),x(),b(2,"div",1)(3,"h4"),O(4),x(),vt(5,"br"),Jr(6,2),he(7,$Ie,2,0,"ng-template",null,3,Ml),he(9,qIe,2,0,"ng-template",null,4,Ml),x(),b(11,"div",5)(12,"button",6),O(13,"Cancel"),x(),b(14,"button",7),O(15,"Send invitation"),x()()),2&i){const o=tr(8),s=tr(10);k(4),ln(r.data.email),k(2),L("ngTemplateOutlet",""!=r.data.requestOwnerEmail?o:s),k(6),L("mat-dialog-close",null),k(2),L("mat-dialog-close",kd(4,WIe,r.data.email))}},dependencies:[uh,br,So,uo,ho,To],styles:["button[_ngcontent-%COMP%]{margin-right:8px}h4[_ngcontent-%COMP%]{font-weight:600}p[_ngcontent-%COMP%]{font-weight:500}"]})}return n})();function ZIe(n,t){if(1&n){const e=Yt();b(0,"h3")(1,"input",20),Te("ngModelChange",function(r){return Xe(e),Ye(se(2).sendNotificationValue=r)})("ngModelChange",function(){Xe(e);const r=se(2);return Ye(r.sendNotification=!!r.sendNotificationValue)}),x(),O(2,"Send notification email"),x()}if(2&n){const e=se(2);k(1),L("ngModel",e.sendNotificationValue)}}function YIe(n,t){1&n&&(b(0,"p"),O(1,"Owner pending "),x())}function QIe(n,t){if(1&n&&(b(0,"mat-option",12),O(1),x()),2&n){const e=t.$implicit;L("value",e.value),k(1),ln(e.label)}}const G9=function(n){return{"line-through":n}};function XIe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"mat-card",21)(2,"div",22)(3,"div",23)(4,"h4",24),O(5),x(),he(6,YIe,2,0,"p",13),x(),b(7,"div",23)(8,"mat-form-field")(9,"mat-select",25),Te("valueChange",function(r){return Ye(Xe(e).$implicit.right=r)})("selectionChange",function(r){const s=Xe(e).index;return Ye(se(2).onSelectionChange(r,s))}),he(10,QIe,2,2,"mat-option",26),x()()()()()()}if(2&n){const e=t.$implicit,i=t.index,r=se(2);k(4),L("ngClass",kd(5,G9,"Remove right"===e.right)),k(1),ln(e.userEmail),k(1),L("ngIf",e.userEmail==r.owner_text),k(3),L("value",e.right),k(1),L("ngForOf",r.getOptions(e.right,i))}}const JIe=function(n,t,e,i){return{email:n,right:t,usersRights:e,sendNotification:i}};function eSe(n,t){if(1&n&&(b(0,"div",5)(1,"mat-form-field",6)(2,"mat-label"),O(3,"Add email"),x(),vt(4,"input",7,8),x(),b(6,"mat-form-field",9)(7,"mat-label"),O(8,"Rights"),x(),b(9,"mat-select",10,11)(11,"mat-option",12),O(12," Editor "),x(),b(13,"mat-option",12),O(14," Viewer "),x(),b(15,"mat-option",12),O(16," Commenter "),x()()(),he(17,ZIe,3,1,"h3",13),x(),b(18,"div",14)(19,"mat-dialog-content")(20,"h3"),O(21,"People with access"),x(),he(22,XIe,11,7,"div",15),x()(),b(23,"div",16)(24,"mat-dialog-actions",17)(25,"button",18),O(26,"Cancel"),x(),b(27,"button",19),O(28,"Save"),x()()()),2&n){const e=tr(5),i=tr(10),r=se();k(11),L("value","Editor"),k(2),L("value","Viewer"),k(2),L("value","Commenter"),k(2),L("ngIf",e.value&&i.value),k(5),L("ngForOf",r.movedUsersRights),k(3),L("mat-dialog-close",null),k(2),L("mat-dialog-close",y3(7,JIe,e.value,i.value,r.data.usersRights,r.sendNotification))}}function tSe(n,t){1&n&&(b(0,"p"),O(1,"Owner pending "),x())}function nSe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"mat-card",21)(2,"div",22)(3,"div",23)(4,"h4",24),O(5),x(),he(6,tSe,2,0,"p",13),x(),b(7,"div",23)(8,"mat-form-field")(9,"mat-select",25),Te("valueChange",function(r){return Ye(Xe(e).$implicit.right=r)})("selectionChange",function(r){const s=Xe(e).index;return Ye(se(2).onSelectionChange(r,s))}),b(10,"mat-option",12),O(11),x()()()()()()()}if(2&n){const e=t.$implicit,i=se(2);k(4),L("ngClass",kd(6,G9,"Remove right"===e.right)),k(1),ln(e.userEmail),k(1),L("ngIf",e.userEmail==i.owner_text),k(3),L("value",e.right),k(1),L("value",e.right),k(1),ln(e.right)}}function iSe(n,t){if(1&n&&(b(0,"div",14)(1,"mat-dialog-content")(2,"h3"),O(3,"People with access"),x(),he(4,nSe,12,8,"div",15),x()(),b(5,"div",16)(6,"mat-dialog-actions",17)(7,"button",19),O(8,"Close"),x()()()),2&n){const e=se();k(4),L("ngForOf",e.movedUsersRights),k(3),L("mat-dialog-close",null)}}let $9=(()=>{class n{constructor(e,i,r,o,s,a){this.dialogRef=e,this.data=i,this.fb=r,this.detailsViewService=o,this.dialog=s,this.shareService=a,this.movedUsersRights=[],this.canEdit=!1,this.sendNotificationValue=!1,this.sendNotification=!1,this.allOptions=[{label:"Editor",value:"Editor"},{label:"Viewer",value:"Viewer"},{label:"Commenter",value:"Commenter"},{label:"Owner",value:"Owner"},{label:"Transfer Ownership",value:"Transfer Ownership"},{label:"Remove right",value:"Remove right"}],this.filename=i.filename,this.usersRights=i.usersRights,this.videoId=i.videoId,this.ISOcode=i.ISOcode,this.language=i.language,this.owner_text=i.owner_text,this.format=i.format,this.requestOwnerEmail=i.owner_text,this.videoTitle=i.videoTitle,this.subtitleId=i.subtitleId}ngOnInit(){const e=this.data.usersRights.findIndex(r=>"Owner"===r.right);this.movedUsersRights=-1!==e?[this.data.usersRights[e]].concat(this.data.usersRights.slice(0,e)).concat(this.data.usersRights.slice(e+1)):this.data.usersRights,this.movedUsersRights.filter(r=>"Owner"==r.right)[0].userEmail==this.data.userEmail&&(this.canEdit=!0)}getOptions(e,i){return"Owner"!=e?this.allOptions.filter(r=>"Owner"!==r.value):"Owner"===e?this.allOptions.filter(r=>"Owner"==r.value):this.allOptions}onSelectionChange(e,i){const o=this.movedUsersRights[i].userEmail;if("Transfer Ownership"===e.value){const s=this.movedUsersRights.filter(a=>"Owner"==a.right)[0].userEmail;this.resetUserRight(o,i).then(()=>{this.transferOwnershipPrompt(o,i,s)})}}transferOwnershipPrompt(e,i,r){this.dialog.open(KIe,{width:"400px",data:{email:e,requestOwnerEmail:this.requestOwnerEmail},scrollStrategy:new pb}).afterClosed().pipe(sn(1)).subscribe(s=>{null==s?this.resetUserRight(e,i):s&&s.email&&(this.detailsViewService.transferOwnership(r,s.email,this.data.filename,this.videoId,this.ISOcode,this.language,this.data.format,this.videoTitle,this.subtitleId),this.dialog.closeAll())})}resetUserRight(e,i){return new Promise(r=>{this.detailsViewService.resetUserRightByEmail(e,this.filename,this.videoId,this.ISOcode,this.language,this.subtitleId).then(o=>{this.movedUsersRights[i].right=o.toString(),r()})})}static#e=this.\u0275fac=function(i){return new(i||n)(v(nl),v(Vs),v(VC),v(Fa),v(sa),v(PD))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-share-subtitle-dialog"]],features:[Wt([Fa])],decls:12,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[3,"ngTemplateOutlet"],["defaultTemplate",""],["noEdit",""],[1,"input-container"],[1,"emailInput"],["matInput","","type","email","required",""],["email",""],[1,"format-selector"],["required",""],["right",""],[3,"value"],[4,"ngIf"],[1,"accessGridList"],[4,"ngFor","ngForOf"],[1,"buttons-div-container"],[1,"dialog-buttons"],["mat-button","",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"access-card"],[1,"row"],[1,"col"],[3,"ngClass"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"]],template:function(i,r){if(1&i&&(b(0,"h2",0),O(1,"Share subtitle"),x(),b(2,"mat-dialog-content",1)(3,"h3",1),O(4,"Filename: "),b(5,"b"),O(6),x()()(),Jr(7,2),he(8,eSe,29,12,"ng-template",null,3,Ml),he(10,iSe,9,2,"ng-template",null,4,Ml)),2&i){const o=tr(9),s=tr(11);k(6),ln(r.data.filename),k(1),L("ngTemplateOutlet",1==r.canEdit?o:s)}},dependencies:[Od,jo,xi,uh,ka,Aa,Pa,SC,$o,br,Vl,mO,Wh,So,uo,ho,To,xb,tm],styles:[".emailInput[_ngcontent-%COMP%]{width:60%;margin-left:10px}.dialog-buttons[_ngcontent-%COMP%]{display:flex;flex-grow:1;gap:normal 16px;justify-content:flex-end}.buttons-div-container[_ngcontent-%COMP%]{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;padding:8px 0;row-gap:8px}.accessGridList[_ngcontent-%COMP%]{overflow-y:auto;display:block;unicode-bidi:isolate}.row[_ngcontent-%COMP%]{display:flex;align-items:center;height:50px}.col[_ngcontent-%COMP%]{flex:1;padding:0}.col[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px;padding-left:10px}.col[_ngcontent-%COMP%]:first-child{text-align:left}.col[_ngcontent-%COMP%]:last-child{text-align:right}.access-card[_ngcontent-%COMP%]{margin:10px;box-shadow:0 2px 4px #0003}.access-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background-color:#e0e0e0;padding:10px}.access-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.access-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:10px}.access-card[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:-10px}.access-card[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{width:100%}.access-card[_ngcontent-%COMP%]   mat-option[_ngcontent-%COMP%]{font-size:1rem}.line-through[_ngcontent-%COMP%]{text-decoration:line-through}input[type=checkbox][_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0})}return n})();function rSe(n,t){if(1&n){const e=Yt();b(0,"div")(1,"input",6),Te("ngModelChange",function(r){return Xe(e),Ye(se().deadlineDate=r)}),un(2,"date"),x()()}if(2&n){const e=se();k(1),L("ngModel",e.deadlineDate)("min",Ey(2,2,e.today,"yyyy-MM-dd"))}}let oSe=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.deadlineOption=!1,this.noDeadlineOption=!1,this.deadlineDate=null,this.videoTitle=i.videoTitle,this.subtitleTitle=i.subtitleTitle,this.language=i.language,this.today=(new Date).toISOString().split("T")[0]}static#e=this.\u0275fac=function(i){return new(i||n)(v(nl),v(Vs))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-request-community-help"]],decls:21,vars:10,consts:[["mat-dialog-title",""],["type","radio","name","deadlineOption",3,"ngModel","value","ngModelChange"],[4,"ngIf"],[1,"button-container"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"mat-dialog-close","disabled"],["type","date","lang","en",3,"ngModel","min","ngModelChange"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1),x(),b(2,"mat-dialog-content")(3,"h4"),O(4),x(),b(5,"h4"),O(6),x(),b(7,"p"),O(8,"Select a deadline:"),x(),b(9,"label")(10,"input",1),Te("ngModelChange",function(s){return r.deadlineOption=s}),x(),O(11," Deadline "),x(),b(12,"label")(13,"input",1),Te("ngModelChange",function(s){return r.deadlineOption=s}),x(),O(14," No deadline "),x(),he(15,rSe,3,5,"div",2),x(),b(16,"mat-dialog-actions",3)(17,"button",4),O(18,"Cancel"),x(),b(19,"button",5),O(20,"Request Help"),x()()),2&i&&(k(1),ln(r.videoTitle),k(3),ln(r.subtitleTitle),k(2),_n("Language: ",r.language,""),k(4),L("ngModel",r.deadlineOption)("value",!0),k(3),L("ngModel",r.deadlineOption)("value",!1),k(2),L("ngIf",r.deadlineOption),k(4),L("mat-dialog-close",r.deadlineOption?r.deadlineDate:"No")("disabled",!(!1===r.deadlineOption||r.deadlineDate)))},dependencies:[xi,ds,lk,$o,br,Vl,So,uo,ho,To,Ry],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}label[_ngcontent-%COMP%]{display:inline-block;margin-right:10px}h4[_ngcontent-%COMP%]{font-weight:500}input[type=date][_ngcontent-%COMP%]{width:100%;padding:10px;font-size:16px;border:none;border-radius:4px;background-color:#f0f0f0;box-shadow:0 0 10px #0000001a}input[type=date][_ngcontent-%COMP%]:focus{border-color:#2196f3;box-shadow:0 0 10px #0000004d}input[type=date][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{color:#2196f3;opacity:1}"]})}return n})(),yO=(()=>{class n{constructor(e){this.firestore=e}getUserDetails(e){return this.firestore.doc(`users/${e}`).get()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q9=(()=>{class n{constructor(e,i){this.firestore=e,this.http=i}getCountries(){return this.http.get("assets/data/google-countries.json")}getSkillLevels(){return this.http.get("assets/data/lang-skill-levels.json")}addForeignLanguages(e,i){for(let r of i)this.firestore.doc(`users/${e}/languages/${r.language}`).set(r,{merge:!0}).catch(a=>(console.log(a.message),!1));return!0}getAllLanguages(e){return this.otherLanguages$=this.firestore.collection(`users/${e}/languages/`).valueChanges()}getUserRatings(e){return this.firestore.collection(`users/${e}/ratings`).valueChanges()}updateProfile(e){return this.firestore.doc(`users/${e.uid}`).update(e)}deleteForeignLang(e,i){return this.firestore.doc(`users/${e}/languages/${i}`).delete()}setRating(e,i){return this.firestore.doc(`users/${e}/ratings/${i.raterId}`).set(i,{merge:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oa),Y(Gc))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sSe(n,t){1&n&&(b(0,"h3",12),O(1,"Profile Overview"),x())}function aSe(n,t){1&n&&(b(0,"h3",12),O(1,"Rate this User:"),x())}function lSe(n,t){if(1&n&&(b(0,"span"),O(1),x()),2&n){const e=se(3);k(1),_n(" \u275d ",e.user.bio," \u275e ")}}function cSe(n,t){if(1&n&&(b(0,"div",13)(1,"p"),he(2,lSe,2,1,"span",14),x()()),2&n){const e=se(2);k(2),L("ngIf",e.user.bio.length>0)}}function dSe(n,t){1&n&&(b(0,"mat-icon"),O(1,"star"),x())}function uSe(n,t){if(1&n&&(b(0,"div",19),he(1,dSe,2,0,"mat-icon",14),x()),2&n){const e=t.$implicit;k(1),L("ngIf",1==e)}}function hSe(n,t){1&n&&(b(0,"mat-icon"),O(1,"star_half"),x())}function fSe(n,t){if(1&n&&(b(0,"div",20),he(1,hSe,2,0,"mat-icon",14),x()),2&n){const e=t.$implicit;k(1),L("ngIf",2==e)}}function pSe(n,t){1&n&&(b(0,"span",23),O(1,"star"),x())}function mSe(n,t){if(1&n&&(b(0,"div",21),he(1,pSe,2,0,"span",22),x()),2&n){const e=t.$implicit;k(1),L("ngIf",3==e)}}function gSe(n,t){if(1&n&&(b(0,"div",15),he(1,uSe,2,1,"div",16),he(2,fSe,2,1,"div",17),he(3,mSe,2,1,"div",18),x()),2&n){const e=se(2);qa("matTooltip",e.ratingTooltip),k(1),L("ngForOf",e.stars),k(1),L("ngForOf",e.stars),k(1),L("ngForOf",e.stars)}}function _Se(n,t){if(1&n){const e=Yt();b(0,"div",28)(1,"button",29),Te("click",function(){return Xe(e),Ye(se(3).onClickToRateUser())}),O(2,"Rate this user!"),x()()}}function ySe(n,t){if(1&n){const e=Yt();b(0,"i",35),Te("click",function(){const o=Xe(e).index;return Ye(se(4).rate(o+1))})("mouseover",function(){const o=Xe(e).index;return Ye(se(4).setHover(o+1))})("mouseleave",function(){return Xe(e),Ye(se(4).resetHover())}),b(1,"span",36),O(2,"star"),x()()}if(2&n){const e=t.index,i=se(4);hn("filled",e<i.hoverIndex||e<i.selectedRating)}}function vSe(n,t){if(1&n&&(b(0,"div",30)(1,"mat-card-header")(2,"mat-card-title")(3,"h2"),O(4,"Select 1 to 5 stars"),x()()(),b(5,"div",31),he(6,ySe,3,2,"i",32),x(),b(7,"mat-card-header")(8,"mat-card-title")(9,"h2"),O(10,"You can also include comments"),x()()(),b(11,"mat-form-field",33),vt(12,"textarea",34),x()()),2&n){const e=se(3);L("formGroup",e.rateForm),k(6),L("ngForOf",e.ratedStars)}}function bSe(n,t){if(1&n){const e=Yt();b(0,"div",37)(1,"button",38),Te("click",function(){return Xe(e),Ye(se(3).resetPreview())}),O(2,"Cancel"),x(),b(3,"button",39),Te("click",function(){return Xe(e),Ye(se(3).saveRating())}),O(4,"Rate!"),x()()}if(2&n){const e=se(3);k(3),L("disabled",0==e.selectedRating||null==e.selectedRating)}}function wSe(n,t){if(1&n&&(b(0,"div",24),he(1,_Se,3,0,"div",25),he(2,vSe,13,2,"div",26),he(3,bSe,5,1,"div",27),x()),2&n){const e=t.ngIf,i=se(2);k(1),L("ngIf",e.uid!=i.user.uid&&!i.givingRate),k(1),L("ngIf",i.givingRate),k(1),L("ngIf",i.givingRate)}}function xSe(n,t){if(1&n&&(b(0,"div",2)(1,"div",3),he(2,sSe,2,0,"h3",4),he(3,aSe,2,0,"h3",4),x(),b(4,"div",5),vt(5,"img",6),x(),b(6,"div",7)(7,"p"),O(8),x()(),b(9,"div",8)(10,"p"),O(11),x()(),he(12,cSe,3,1,"div",9),he(13,gSe,4,4,"div",10),he(14,wSe,4,3,"div",11),un(15,"async"),x()),2&n){const e=se();k(2),L("ngIf",!e.givingRate),k(1),L("ngIf",e.givingRate),k(2),L("src",e.user.photoURL,Bo),k(3),ln(e.user.displayName),k(3),ln(e.user.email),k(1),L("ngIf",!e.givingRate),k(1),L("ngIf",!e.givingRate),k(1),L("ngIf",Mn(15,8,e.user$))}}let W9=(()=>{class n{constructor(e,i,r,o,s){this.userData=e,this.userService=i,this.profileService=r,this.snackbar=o,this.auth=s,this.stars=[],this.averageRate=0,this.ratingTooltip="",this.givingRate=!1,this.ratedStars=[1,2,3,4,5],this.selectedRating=0,this.hoverIndex=0,this.user$=this.auth.user,this.user$.subscribe({next:a=>{this.uid=a.uid}}),this.userService.getUserDetails(this.userData.find(a=>"Owner"===a.right).userUid).pipe(sn(1)).subscribe(a=>{this.user=a.data(),this.profileService.getUserRatings(this.user.uid).subscribe({next:l=>{this.loadRatings(l)}})}),this.rateForm=new Ms({comment:new Nr("")})}loadRatings(e){let i=0,r=0,o=5;this.stars=[];for(let s=0;s<e.length;s++)i++,r+=e[s].rating;if(i>0){this.averageRate=r/i,this.averageRate>5&&(this.averageRate=5);let s=this.averageRate;for(this.ratingTooltip=`User's rate is: ${this.averageRate}`;o>0;)this.stars.push(s>=1?1:s>=.5?2:3),s--,o--}else{this.ratingTooltip="No rates yet";for(let s=0;s<5;s++)this.stars.push(3)}}onClickToRateUser(){this.givingRate=!0}rate(e){this.selectedRating=e}setHover(e){this.hoverIndex=e}resetHover(){this.hoverIndex=0}resetPreview(){this.selectedRating=0,this.givingRate=!1}saveRating(){this.givingRate=!1,this.profileService.setRating(this.user.uid,{rating:this.selectedRating,comment:this.rateForm.controls.comment.value,raterId:this.uid}).then(i=>{this.snackbar.open("You successfully rated this user","OK",{duration:5e3})}),this.selectedRating=0,this.rateForm.controls.comment.setValue("")}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(yO),v(q9),v(Ls),v(ps))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-profile-preview-dialog"]],decls:2,vars:1,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@26,400,0,0"],["class","profile-details-card",4,"ngIf"],[1,"profile-details-card"],[1,"prof-overview-header"],["mat-dialog-title","",4,"ngIf"],[1,"profile-img"],["alt","profile-user-img","referrerpolicy","no-referrer",3,"src"],[1,"profile-display-name"],[1,"prof-user-email"],["class","prof-bio-display",4,"ngIf"],["class","user-rating-display",3,"matTooltip",4,"ngIf"],["class","rate-user-wrapper",4,"ngIf"],["mat-dialog-title",""],[1,"prof-bio-display"],[4,"ngIf"],[1,"user-rating-display",3,"matTooltip"],["class","full-star",4,"ngFor","ngForOf"],["class","half-star",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[1,"full-star"],[1,"half-star"],[1,"empty-star"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"],[1,"rate-user-wrapper"],["class","give-rate-btn",4,"ngIf"],["class","rate-form-wrapper",3,"formGroup",4,"ngIf"],["class","btn-rate-options",4,"ngIf"],[1,"give-rate-btn"],["mat-raised-button","","color","primary",3,"click"],[1,"rate-form-wrapper",3,"formGroup"],["matTooltip","Select a star (1 = lowest, 5 = highest)",1,"radio-star-system"],["class","star",3,"filled","click","mouseover","mouseleave",4,"ngFor","ngForOf"],["matTooltip","Include your comments here","matTooltipPosition","above"],["matInput","","formControlName","comment","placeholder","Your comments"],[1,"star",3,"click","mouseover","mouseleave"],[1,"material-symbols-outlined","rate-sys-star"],[1,"btn-rate-options"],["mat-raised-button","","color","warn",1,"cancel-rate-btn",3,"click"],["mat-raised-button","","color","primary",1,"save-rate-btn",3,"disabled","click"]],template:function(i,r){1&i&&(vt(0,"link",0),he(1,xSe,16,10,"div",1)),2&i&&(k(1),L("ngIf",r.user))},dependencies:[jo,xi,ka,Pa,ds,$o,Bd,Ra,Mc,br,Ao,Yo,fg,du,uo,Js],styles:[".profile-details-card[_ngcontent-%COMP%]{padding:15px;border-radius:15px;box-shadow:0 0 4px #7e7e7e80;background-color:#f6f6f6;height:-moz-fit-content;height:fit-content;text-align:center}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.profile-display-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1.55em}.prof-user-email[_ngcontent-%COMP%]{margin-top:10px}.prof-user-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:gray}.prof-bio-display[_ngcontent-%COMP%]{font-size:1.2em;font-style:italic;color:#333}.profile-edit-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .prof-overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;margin-bottom:40px}.profile-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .lang-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.profile-lang-control[_ngcontent-%COMP%]{margin-left:20px;padding-left:20px;border-left:1px #b4b4b4 solid}.profile-edit-bio[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:40px}.profile-edit-gmail[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-edit-gmail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{cursor:not-allowed}.table-container[_ngcontent-%COMP%]{text-align:center}.empty-table[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#323e48}.lang-skill-sector[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:10px}.rate-sys-star[_ngcontent-%COMP%]{margin-right:15px}.user-rating-display[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center}.user-rating-display[_ngcontent-%COMP%]:hover{cursor:pointer}.user-rating-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-rating-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ce950c}.star-rating[_ngcontent-%COMP%]{display:flex}.star[_ngcontent-%COMP%]{font-size:2rem;color:#d3d3d3;cursor:pointer;transition:color .2s}.star.filled[_ngcontent-%COMP%]{color:#ce950c}mat-form-field[_ngcontent-%COMP%]{width:100%!important}.cancel-rate-btn[_ngcontent-%COMP%]{margin-right:10px}.give-rate-btn[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})(),K9=(()=>{class n{constructor(e,i){this.data=e,this.dialogRef=i}static#e=this.\u0275fac=function(i){return new(i||n)(v(Vs),v(nl))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-viewonly-mode-dialog"]],decls:10,vars:3,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","",3,"mat-dialog-close"],["color","primary","mat-button","",3,"mat-dialog-close"]],template:function(i,r){1&i&&(b(0,"h2",0),O(1,"Subtitle is being used!"),x(),b(2,"mat-dialog-content",1)(3,"h3"),O(4),x()(),b(5,"mat-dialog-actions",2)(6,"button",3),O(7,"Cancel"),x(),b(8,"button",4),O(9,"YES"),x()()),2&i&&(k(4),_n("",r.data.displayName," is editing the subtitle right now. Do you want to continue on view-only mode?"),k(2),L("mat-dialog-close",!1),k(2),L("mat-dialog-close",!0))},dependencies:[br,So,uo,ho,To]})}return n})();const CSe=[[["caption"]],[["colgroup"],["col"]]],ESe=["caption","colgroup, col"];function vO(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Jt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const Cg=new Ue("CDK_TABLE");let Eg=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Dg=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),UD=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class TSe{}const ASe=vO(TSe);let Qc=(()=>{class n extends ASe{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Jt(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(v(Cg,8))},n.\u0275dir=Se({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(ii(r,Eg,5),ii(r,Dg,5),ii(r,UD,5)),2&e){let o;Vt(o=Bt())&&(i.cell=o.first),Vt(o=Bt())&&(i.headerCell=o.first),Vt(o=Bt())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Wt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),it]}),n})();class bO{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let wO=(()=>{class n extends bO{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(v(Qc),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[it]}),n})(),xO=(()=>{class n extends bO{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(v(Qc),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[it]}),n})();class Y9{constructor(){this.tasks=[],this.endTasks=[]}}const CO=new Ue("_COALESCED_STYLE_SCHEDULER");let Q9=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Z}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Y9,this._getScheduleObservable().pipe(bn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Y9;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?B(Promise.resolve(void 0)):this._ngZone.onStable.pipe(sn(1))}}return n.\u0275fac=function(e){return new(e||n)(Y(Lt))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac}),n})(),EO=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Rb?e.headerCell.template:this instanceof Pb?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(v(ki),v(Pl))},n.\u0275dir=Se({type:n,features:[Di]}),n})();class kSe extends EO{}const MSe=vO(kSe);let Rb=(()=>{class n extends MSe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(v(ki),v(Pl),v(Cg,8))},n.\u0275dir=Se({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[it,Di]}),n})();class RSe extends EO{}const PSe=vO(RSe);let Pb=(()=>{class n extends PSe{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(v(ki),v(Pl),v(Cg,8))},n.\u0275dir=Se({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[it,Di]}),n})(),zD=(()=>{class n extends EO{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(v(ki),v(Pl),v(Cg,8))},n.\u0275dir=Se({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[it]}),n})(),Xc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(v(yr))},n.\u0275dir=Se({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),DO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=It({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Jr(0,0)},dependencies:[Xc],encapsulation:2}),n})(),SO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=It({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Jr(0,0)},dependencies:[Xc],encapsulation:2}),n})(),jD=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const X9=["top","bottom","left","right"];class OSe{constructor(t,e,i,r,o=!0,s=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=s,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(g=>g)&&!i.some(g=>g))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],s=o.children.length,a=this._getCellWidths(o,r),l=this._getStickyStartColumnPositions(a,e),c=this._getStickyEndColumnPositions(a,i),d=e.lastIndexOf(!0),f=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const g="rtl"===this.direction,y=g?"right":"left",C=g?"left":"right";for(const R of t)for(let F=0;F<s;F++){const te=R.children[F];e[F]&&this._addStickyStyle(te,y,l[F],F===d),i[F]&&this._addStickyStyle(te,C,c[F],F===f)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===d?[]:a.slice(0,d+1).map((R,F)=>e[F]?R:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===f?[]:a.slice(f).map((R,F)=>i[F+f]?R:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,s=[],a=[],l=[];for(let d=0,f=0;d<r.length;d++){if(!o[d])continue;s[d]=f;const g=r[d];l[d]=this._isNativeHtmlTable?Array.from(g.children):[g];const y=g.getBoundingClientRect().height;f+=y,a[d]=y}const c=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let d=0;d<r.length;d++){if(!o[d])continue;const f=s[d],g=d===c;for(const y of l[d])this._addStickyStyle(y,i,f,g)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:s,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:s,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);X9.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of X9)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const TO=new Ue("CDK_SPL");let HD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(v(yr),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","rowOutlet",""]]}),n})(),GD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(v(yr),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),$D=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(v(yr),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),qD=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(v(yr),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),WD=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Jt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Jt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,s,a,l,c,d,f,g,y){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=s,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=d,this._viewportRuler=f,this._stickyPositioningListener=g,this._ngZone=y,this._onDestroy=new Z,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Ct,this.viewChange=new P({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=a,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(bn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),UP(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,s)=>this._getEmbeddedViewArgs(r.item,s),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&Lt.isInAngularZone()?this._ngZone.onStable.pipe(sn(1),bn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,s)=>{this._addStickyColumnStyles([o],this._headerRowDefs[s])}),this._rowDefs.forEach(o=>{const s=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===o&&s.push(i[a]);this._addStickyColumnStyles(s,o)}),r.forEach((o,s)=>{this._addStickyColumnStyles([o],this._footerRowDefs[s])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const s=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let a=0;a<s.length;a++){let l=s[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(s=>{const a=r&&r.has(s)?r.get(s):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:e,rowDef:s,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),KD(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=KD(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=KD(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=KD(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(s,a)=>s||!!a.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],UP(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;UP(this.dataSource)?e=this.dataSource.connect(this):Cz(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ne(this.dataSource)),this._renderChangeSubscription=e.pipe(bn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),o=r.map(a=>a.sticky),s=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,s,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(s=>s.when&&s.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const s=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),s}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Xc.mostRecentCellOutlet&&Xc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const s=e.get(i).context;s.count=r,s.first=0===i,s.last=i===r-1,s.even=i%2==0,s.odd=!s.even,this.multiTemplateDataRows?(s.dataIndex=this._renderRows[i].dataIndex,s.renderIndex=i):s.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const s of r.outlets)o.appendChild(s.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new OSe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ne()).pipe(bn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),s=o.rootNodes[0];1===o.rootNodes.length&&s?.nodeType===this._document.ELEMENT_NODE&&(s.setAttribute("role","row"),s.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(v(Pl),v(qi),v(Dt),Ss("role"),v(so,8),v(fn),v(nr),v(wb),v(CO),v(lg),v(TO,12),v(Lt,8))},n.\u0275cmp=It({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(ii(r,jD,5),ii(r,Qc,5),ii(r,zD,5),ii(r,Rb,5),ii(r,Pb,5)),2&e){let o;Vt(o=Bt())&&(i._noDataRow=o.first),Vt(o=Bt())&&(i._contentColumnDefs=o),Vt(o=Bt())&&(i._contentRowDefs=o),Vt(o=Bt())&&(i._contentHeaderRowDefs=o),Vt(o=Bt())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(An(HD,7),An(GD,7),An($D,7),An(qD,7)),2&e){let r;Vt(r=Bt())&&(i._rowOutlet=r.first),Vt(r=Bt())&&(i._headerRowOutlet=r.first),Vt(r=Bt())&&(i._footerRowOutlet=r.first),Vt(r=Bt())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&hn("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Wt([{provide:Cg,useExisting:n},{provide:wb,useClass:Y$},{provide:CO,useClass:Q9},{provide:TO,useValue:null}])],ngContentSelectors:ESe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(_r(CSe),Dn(0),Dn(1,1),Jr(2,0)(3,1)(4,2)(5,3))},dependencies:[HD,GD,$D,qD],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function KD(n,t){return n.concat(Array.from(t))}let NSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[SP]}),n})();const LSe=[[["caption"]],[["colgroup"],["col"]]],VSe=["caption","colgroup, col"];let ZD=(()=>{class n extends WD{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275cmp=It({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&hn("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[Wt([{provide:WD,useExisting:n},{provide:Cg,useExisting:n},{provide:CO,useClass:Q9},{provide:wb,useClass:Y$},{provide:TO,useValue:null}]),it],ngContentSelectors:VSe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(_r(LSe),Dn(0),Dn(1,1),Jr(2,0)(3,1)(4,2)(5,3))},dependencies:[HD,GD,$D,qD],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Ob=(()=>{class n extends Eg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matCellDef",""]],features:[Wt([{provide:Eg,useExisting:n}]),it]}),n})(),Fb=(()=>{class n extends Dg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matHeaderCellDef",""]],features:[Wt([{provide:Dg,useExisting:n}]),it]}),n})(),Nb=(()=>{class n extends Qc{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Wt([{provide:Qc,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),it]}),n})(),Lb=(()=>{class n extends wO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[it]}),n})(),Vb=(()=>{class n extends xO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[it]}),n})(),YD=(()=>{class n extends Rb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Wt([{provide:Rb,useExisting:n}]),it]}),n})(),QD=(()=>{class n extends zD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Wt([{provide:zD,useExisting:n}]),it]}),n})(),XD=(()=>{class n extends DO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275cmp=It({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Wt([{provide:DO,useExisting:n}]),it],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Jr(0,0)},dependencies:[Xc],encapsulation:2}),n})(),JD=(()=>{class n extends SO{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275cmp=It({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Wt([{provide:SO,useExisting:n}]),it],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&Jr(0,0)},dependencies:[Xc],encapsulation:2}),n})(),AO=(()=>{class n extends jD{constructor(){super(...arguments),this._contentClassName="mat-mdc-no-data-row"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["ng-template","matNoDataRow",""]],features:[Wt([{provide:jD,useExisting:n}]),it]}),n})(),WSe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,NSe,On]}),n})();class ZSe extends Hbe{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new P([]),this._filter=new P(""),this._internalPageChanges=new Z,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(PU(r)){const o=Number(r);return o<9007199254740991?o:r}return r},this.sortData=(e,i)=>{const r=i.active,o=i.direction;return r&&""!=o?e.sort((s,a)=>{let l=this.sortingDataAccessor(s,r),c=this.sortingDataAccessor(a,r);const d=typeof l,f=typeof c;d!==f&&("number"===d&&(l+=""),"number"===f&&(c+=""));let g=0;return null!=l&&null!=c?l>c?g=1:l<c&&(g=-1):null!=l?g=1:null!=c&&(g=-1),g*("asc"==o?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((s,a)=>s+e[a]+"\u25ec","").toLowerCase(),o=i.trim().toLowerCase();return-1!=r.indexOf(o)},this._data=new P(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?j(this._sort.sortChange,this._sort.initialized):ne(null),e=this._paginator?j(this._paginator.page,this._internalPageChanges,this._paginator.initialized):ne(null),r=to([this._data,this._filter]).pipe(We(([a])=>this._filterData(a))),o=to([r,t]).pipe(We(([a])=>this._orderData(a))),s=to([o,e]).pipe(We(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=s.subscribe(a=>this._renderData.next(a))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class YSe extends ZSe{}const QSe=["translateMenu"];function XSe(n,t){if(1&n&&(b(0,"div",26)(1,"a",27),vt(2,"img",28),x(),b(3,"div",29)(4,"span"),O(5),un(6,"slice"),x()(),b(7,"div",30)(8,"span",31),O(9),un(10,"number"),x(),O(11," \xb7 "),b(12,"span"),O(13),un(14,"async"),x()()()),2&n){const e=t.ngIf,i=se();k(1),L("href","//youtube.com/watch?v="+(null==e[0]?null:e[0].id),Bo),k(1),L("src",null==e[0]||null==e[0].snippet.thumbnails||null==e[0].snippet.thumbnails.medium?null:e[0].snippet.thumbnails.medium.url,Bo),k(3),_n(" ",(null==e[0]||null==e[0].snippet||null==e[0].snippet.title?null:e[0].snippet.title.length)>50?Md(6,5,null==e[0]||null==e[0].snippet?null:e[0].snippet.title,0,50)+"...":null==e[0]||null==e[0].snippet?null:e[0].snippet.title," "),k(4),_n("",Mn(10,9,null==e[0]||null==e[0].statistics?null:e[0].statistics.viewCount)," views"),k(4),_n("",Mn(14,11,i.publishDate)," ago")}}function JSe(n,t){if(1&n&&(b(0,"span",32),O(1),un(2,"uppercase"),x()),2&n){const e=t.$implicit,i=se();k(1),zp(" ",i.regionNamesInEnglish.of(e.snippet.language)," - ",Mn(2,2,e.snippet.trackKind)," ")}}function eTe(n,t){1&n&&(b(0,"th",33),O(1," Name "),x())}function tTe(n,t){if(1&n&&(b(0,"td",34),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.fileName," ")}}function nTe(n,t){1&n&&(b(0,"th",33),O(1," Format "),x())}function iTe(n,t){if(1&n&&(b(0,"td",35),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.format," ")}}function rTe(n,t){1&n&&(b(0,"th",33),O(1," Language "),x())}function oTe(n,t){if(1&n&&(b(0,"td",35),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.language," ")}}function sTe(n,t){1&n&&(b(0,"th",33),O(1," Last Updated "),x())}function aTe(n,t){if(1&n&&(b(0,"td",35),O(1),un(2,"date"),x()),2&n){const e=t.$implicit;k(1),_n(" ",Ey(2,1,e.lastUpdated,"medium")," ")}}function lTe(n,t){1&n&&(b(0,"th",33),O(1," Owner "),x())}function cTe(n,t){if(1&n){const e=Yt();b(0,"td",35)(1,"img",36),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().openProfilePreviewDialog(o.usersRights))}),x()()}if(2&n){const e=t.$implicit;k(1),qa("matTooltip",e.ownerName),L("src",e.ownerPhoto,Bo)}}function dTe(n,t){1&n&&(b(0,"th",33),O(1," Options "),x())}function uTe(n,t){if(1&n){const e=Yt();b(0,"td",35)(1,"button",37),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().editSubtitle(o.iso,o.fullFileName,o.isUsed,o.subtitleSharedId,o.language))}),b(2,"mat-icon"),O(3,"edit"),x()(),b(4,"button",38),Te("click",function(){const o=Xe(e).$implicit,s=se();return Ye(s.requestCommunityHelp(o.language,o.iso,o.fileName,o.format,null==s.videoDetails$.value[0].snippet?null:s.videoDetails$.value[0].snippet.title,o.subtitleSharedId))}),b(5,"mat-icon"),O(6,"person_pin_circle"),x()(),b(7,"button",39),Te("click",function(){const o=Xe(e).$implicit,s=se();return Ye(s.shareSubtitle(o.language,o.iso,o.fileName,o.format,o.usersRights,null==s.videoDetails$.value[0].snippet?null:s.videoDetails$.value[0].snippet.title,o.subtitleSharedId))}),b(8,"mat-icon"),O(9,"share"),x()(),b(10,"button",40),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().deleteSubtitle(o.iso,o.fileName,o.format))}),b(11,"mat-icon"),O(12,"delete"),x()()()}}function hTe(n,t){1&n&&vt(0,"tr",41)}function fTe(n,t){if(1&n){const e=Yt();b(0,"tr",42),Te("dblclick",function(){const o=Xe(e).$implicit;return Ye(se().editSubtitle(o.iso,o.fullFileName,o.isUsed,o.subtitleSharedId,o.language))}),x()}}function pTe(n,t){1&n&&(b(0,"tr",43)(1,"td",44)(2,"span"),O(3,"No subtitles have been added!"),x()()())}function mTe(n,t){1&n&&vt(0,"fullscreen-loader")}let gTe=(()=>{class n{constructor(e,i,r,o,s,a,l,c,d,f,g,y,C){this.route=e,this.router=i,this.youtubeService=r,this.dialog=o,this.snackbar=s,this.authService=a,this.userService=l,this.storageService=c,this.translateService=d,this.detailsViewService=f,this.downloadFileService=g,this.communityService=y,this.shareService=C,this.videoDetails$=new P(null),this.videoCaptionDetails$=new P(null),this.supportedLanguages$=new P(null),this.loading$=new P(null),this.user$=new P(null),this.dataSource=[],this.publishDate=new P(""),this.regionNamesInEnglish=new Intl.DisplayNames(["en"],{type:"language"}),this.displayedColumns=["Name","Format","Language","Last Updated","Owner","Subtitles"],this.open=open}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.authService.user.pipe(sn(1),St(e=>e?(this.user$.next(e),this.detailsViewService.getSubtitleLanguages(this.user$.value.uid,this.videoId)):ne(null))).subscribe({next:e=>{this.loadDataSourceOwnerDetails(e)},error:e=>{this.snackbar.open("Could not load data due to an unexpected error: "+e.message,"OK",{duration:5e3})}}),this.getVideoDetails(),this.getCaptionDetails(),this.getSupportedLanguages()}loadDataSourceOwnerDetails(e){this.dataSource=e;for(let i=0;i<e.length;i++)this.userService.getUserDetails(e[i].usersRights.find(r=>"Owner"===r.right).userUid).pipe(sn(1)).subscribe({next:r=>{this.dataSource[i].ownerName=r.data().displayName,this.dataSource[i].ownerPhoto=r.data().photoURL}})}getVideoDetails(){this.youtubeService.getAllVideoDetails(this.videoId).pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.loading$.next(!1),this.publishDate.next(jP(new Date(this.videoDetails$.value[0]?.snippet?.publishedAt))))})}getCaptionDetails(){this.youtubeService.getCaptionDetails(this.videoId).pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoCaptionDetails$.next(e),this.loading$.next(!1))})}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}addSubtitle(){this.dialog.open(GIe,{width:"500px"}).afterClosed().pipe(sn(1)).subscribe(e=>{if(e){let i=!1;for(let r=0;r<this.dataSource.length;r++)e.name===this.dataSource[r].fileName&&e.language.language===this.dataSource[r].iso&&(i=!0);i?this.snackbar.open("You already have a subtitle with this name and this language","DISMISS",{duration:5e3}):this.detailsViewService.addSubtitle(this.videoId,e.language,this.user$.value.uid,e.name,e.format,this.user$.value.email)}})}editSubtitle(e,i,r,o,s){null==r||null==r?this.router.navigate(["edit",this.videoId,e,i,s,o]):this.shareService.getSubtitleIsUsed(this.videoId,e,s,i,o).then(a=>{null==a||null==a.isUsed||null==a.isUsed||a.isUsedBy==this.user$.value.uid?this.router.navigate(["edit",this.videoId,e,i,s,o]):r?this.communityService.getEmailFromUserID(a.isUsedBy).subscribe(l=>{this.dialog.open(K9,{width:"400px",data:{displayName:l}}).afterClosed().pipe(sn(1)).subscribe(c=>{null==c||null==c?this.dialog.closeAll():c&&this.router.navigate(["edit/shared",this.videoId,this.user$.value.uid,e,i,s,"Viewer",o])})}):this.router.navigate(["edit",this.videoId,e,i,s,o])})}requestCommunityHelp(e,i,r,o,s,a){this.dialog.open(oSe,{width:"400px",data:{videoTitle:s,subtitleTitle:r+"."+o,language:e}}).afterClosed().pipe(sn(1)).subscribe(l=>{null==l?this.dialog.closeAll():l&&this.detailsViewService.requestCommunityHelp(this.user$.value,this.videoId,e,i,r,o,l,a)})}deleteSubtitle(e,i,r){const o=this.dialog.open(B$,{width:"400px",scrollStrategy:new pb,data:"Are you sure you want to delete this subtitle? This is irreversible and all related data linked to it will be lost."}),s=`subtitles/${this.user$.value.uid}/${this.videoId}/${e}/${i}.${r}`;o.afterClosed().subscribe(l=>{!0===l&&this.detailsViewService.deleteSubtitle(this.videoId,this.user$.value.uid,e,i).then(()=>{this.storageService.deleteSubtitleFile(s).subscribe({next:c=>{this.snackbar.open("You have successfully deleted this subtitle","OK",{duration:5e3})},error:c=>{this.snackbar.open("You have successfully deleted this subtitle. The subtitle file had not been created so could not be deleted","OK",{duration:5e3}),console.log(c.message)}})}).catch(c=>{this.snackbar.open("Could not delete subtitle due to unexpected error: "+c.message,"OK",{duration:5e3})})})}openProfilePreviewDialog(e){this.dialog.open(W9,{width:"400px",data:e}).afterClosed().pipe(sn(1)).subscribe(r=>{})}shareSubtitle(e,i,r,o,s,a,l){let c="";void 0===l&&(l=""),this.detailsViewService.getUsersRightsFromSub(this.user$.value.uid,this.videoId,i,r,l).then(d=>{s=d,this.shareService.getRequestOwnerEmail(this.videoId,i,e,r,l).then(f=>{f&&(c=f),this.dialog.open($9,{width:"600px",id:"shared-dialog",data:{filename:r,usersRights:s,videoId:this.videoId,ISOcode:i,language:e,owner_text:c,format:o,videoTitle:a,subtitleId:l,userEmail:this.user$.value.email}}).afterClosed().pipe(sn(1)).subscribe(g=>{null==g?this.dialog.closeAll():g&&(g.email&&g.right?this.detailsViewService.shareSubtitle(this.videoId,i,e,this.user$.value.uid,r,o,g.email,g.right,l,g.sendNotification):""==g.email&&g.right||g.email&&null==g.right?this.snackbar.open("Both email and right have to be filled","DISMISS",{duration:3e3}):this.detailsViewService.updateSharedSubtitleRights(this.videoId,i,e,this.user$.value.uid,r,o,s,l))})})})}exportAllSubtitles(){this.dataSource.length<=0?this.snackbar.open("There are no subtitles to export!","DISMISS",{duration:5e3}):this.downloadFileService.massExportSubtitles(this.dataSource,this.videoId,this.user$.value.uid)}navigateToDashboard(){this.router.navigate(["dashboard"]).then(e=>e)}static#e=this.\u0275fac=function(i){return new(i||n)(v(zl),v(Ar),v(Kh),v(sa),v(Ls),v(ps),v(yO),v(Qh),v(la),v(Fa),v(rO),v(Zl),v(PD))};static#t=this.\u0275cmp=It({type:n,selectors:[["details-view"]],viewQuery:function(i,r){if(1&i&&An(QSe,5),2&i){let o;Vt(o=Bt())&&(r.translateMenu=o.first)}},features:[Wt([la,Fa])],decls:48,vars:12,consts:[[1,"wrapper"],[1,"left-container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Dashboard",1,"back-button",3,"click"],[1,"video-wrapper"],["class","video-details",4,"ngIf"],[1,"captions-details"],["class","captions",4,"ngFor","ngForOf"],[1,"main-content"],[1,"subtitles-header"],["mat-mini-fab","","color","primary","matTooltip","Add new subtitle",3,"click"],["mat-mini-fab","","color","primary","matTooltip","Export all subtitles",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell-name-data","mat-cell","",4,"matCellDef"],["matColumnDef","Format"],["mat-cell","",4,"matCellDef"],["matColumnDef","Language"],["matColumnDef","Last Updated"],["matColumnDef","Owner"],["matColumnDef","Subtitles"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row-data","mat-row","",3,"dblclick",4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],[4,"ngIf"],[1,"video-details"],["target","_blank",3,"href"],["alt","Video",3,"src"],[1,"title"],[1,"views"],["id","views"],[1,"captions"],["mat-header-cell",""],["mat-cell","",1,"mat-cell-name-data"],["mat-cell",""],["alt","profile-user-img","referrerpolicy","no-referrer",1,"profile-img-element",3,"src","matTooltip","click"],["matTooltip","Edit subtitles","mat-icon-button","","color","primary",3,"click"],["matTooltip","Request help by someone in the Sub&Dub Community","mat-icon-button","","color","primary",2,"margin-left","5px",3,"click"],["matTooltip","Share subtitles with someone","mat-icon-button","","color","primary",2,"margin-left","5px",3,"click"],["matTooltip","Delete this subtitle","mat-icon-button","","color","warn",2,"margin-left","5px",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row-data",3,"dblclick"],[1,"mat-row","no-data-row"],["colspan","5",1,"mat-cell","empty-table"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Te("click",function(){return r.navigateToDashboard()}),b(4,"mat-icon"),O(5,"arrow_back"),x()()(),b(6,"div",4),he(7,XSe,15,13,"div",5),un(8,"async"),b(9,"div",6)(10,"span"),O(11,"Existing Captions in YouTube:"),x(),he(12,JSe,3,4,"span",7),un(13,"async"),x()()(),b(14,"div",8)(15,"div",9)(16,"span"),O(17,"Subtitles"),x(),b(18,"button",10),Te("click",function(){return r.addSubtitle()}),b(19,"mat-icon"),O(20,"add"),x()(),b(21,"button",11),Te("click",function(){return r.exportAllSubtitles()}),b(22,"mat-icon"),O(23,"file_upload"),x()()(),b(24,"table",12),bi(25,13),he(26,eTe,2,0,"th",14),he(27,tTe,2,1,"td",15),wi(),bi(28,16),he(29,nTe,2,0,"th",14),he(30,iTe,2,1,"td",17),wi(),bi(31,18),he(32,rTe,2,0,"th",14),he(33,oTe,2,1,"td",17),wi(),bi(34,19),he(35,sTe,2,0,"th",14),he(36,aTe,3,4,"td",17),wi(),bi(37,20),he(38,lTe,2,0,"th",14),he(39,cTe,2,2,"td",17),wi(),bi(40,21),he(41,dTe,2,0,"th",14),he(42,uTe,13,0,"td",17),wi(),he(43,hTe,1,0,"tr",22),he(44,fTe,1,0,"tr",23),he(45,pTe,4,0,"tr",24),x()()(),he(46,mTe,1,0,"fullscreen-loader",25),un(47,"async")),2&i&&(k(7),L("ngIf",Mn(8,6,r.videoDetails$)),k(5),L("ngForOf",Mn(13,8,r.videoCaptionDetails$)),k(12),L("dataSource",r.dataSource),k(19),L("matHeaderRowDef",r.displayedColumns),k(1),L("matRowDefColumns",r.displayedColumns),k(2),L("ngIf",Mn(47,10,r.loading$)))},dependencies:[jo,xi,Hh,hb,Ao,Yo,ZD,Fb,YD,Nb,Ob,QD,Lb,Vb,XD,JD,AO,Zh,Js,y1,Yp,Zp,Ry],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:50px;margin-top:20px}.main-content[_ngcontent-%COMP%]{margin-top:10px;margin-right:50px;display:flex;flex-direction:column;flex-grow:1}.left-container[_ngcontent-%COMP%]{max-width:20vw;display:flex;flex-grow:1;flex-direction:column;padding-left:20px}.dashboard-navigation[_ngcontent-%COMP%]{margin-top:5px;display:flex;align-items:center;justify-content:flex-start}.video-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.subtitles-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:32px;gap:30px}.mat-mdc-table[_ngcontent-%COMP%]{background:none;box-shadow:none}  .mat-mdc-menu-content{max-height:700px}.captions-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.views[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.video-wrapper[_ngcontent-%COMP%]{margin-top:20px;box-shadow:#717172 0 10px 35px -10px;border-radius:5px}.title[_ngcontent-%COMP%], .views[_ngcontent-%COMP%], .captions-details[_ngcontent-%COMP%]{padding-left:10px;padding-bottom:5px}.mat-cell-name-data[_ngcontent-%COMP%]{font-weight:700}.mat-column-Format[_ngcontent-%COMP%], .mat-column-Language[_ngcontent-%COMP%], .mat-column-Last-Updated[_ngcontent-%COMP%], .mat-column-Subtitles[_ngcontent-%COMP%], .mat-column-Owner[_ngcontent-%COMP%]{text-align:center}.mat-row-data[_ngcontent-%COMP%]:hover{background-color:#efefef!important}.empty-table[_ngcontent-%COMP%]{text-align:center;font-style:italic}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{scale:100%;transition:scale .2s ease}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:108%;transform:rotate(4deg)}.profile-img-element[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.profile-img-element[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})();function _Te(n,t){1&n&&Dn(0)}const yTe=["*"];let eW=(()=>{class n{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),n})(),tW=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["","cdkStepLabel",""]]}),n})(),vTe=0;const nW=new Ue("STEPPER_GLOBAL_OPTIONS");let kO=(()=>{class n{get editable(){return this._editable}set editable(e){this._editable=Jt(e)}get optional(){return this._optional}set optional(e){this._optional=Jt(e)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=Jt(e)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(e){this._customError=Jt(e)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,i){this._stepper=e,this.interacted=!1,this.interactedStream=new Ct,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}}return n.\u0275fac=function(e){return new(e||n)(v(Xn(()=>Bb)),v(nW,8))},n.\u0275cmp=It({type:n,selectors:[["cdk-step"]],contentQueries:function(e,i,r){if(1&e&&ii(r,tW,5),2&e){let o;Vt(o=Bt())&&(i.stepLabel=o.first)}},viewQuery:function(e,i){if(1&e&&An(ki,7),2&e){let r;Vt(r=Bt())&&(i.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[Di],ngContentSelectors:yTe,decls:1,vars:0,template:function(e,i){1&e&&(_r(),he(0,_Te,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),n})(),Bb=(()=>{class n{get linear(){return this._linear}set linear(e){this._linear=Jt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=Qa(e);this.steps&&this._steps?(this._isValidIndex(i),this.selected?._markAsInteracted(),this._selectedIndex!==i&&!this._anyControlsInvalidOrPending(i)&&(i>=this._selectedIndex||this.steps.toArray()[i].editable)&&this._updateSelectedItemIndex(i)):this._selectedIndex=i}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===e)}constructor(e,i,r){this._dir=e,this._changeDetectorRef=i,this._elementRef=r,this._destroyed=new Z,this.steps=new Cc,this._sortedHeaders=new Cc,this._linear=!1,this._selectedIndex=0,this.selectionChange=new Ct,this._orientation="horizontal",this._groupId=vTe++}ngAfterContentInit(){this._steps.changes.pipe(Tr(this._steps),bn(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Tr(this._stepHeader),bn(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((i,r)=>i._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new QU(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:ne()).pipe(Tr(this._layoutDirection()),bn(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){const i=e-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(e,i="number"){const r=this.steps.toArray()[e],o=this._isCurrentStep(e);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,o):this._getGuidelineLogic(r,o,i)}_getDefaultIndicatorLogic(e,i){return e._showError()&&e.hasError&&!i?"error":!e.completed||i?"number":e.editable?"edit":"done"}_getGuidelineLogic(e,i,r="number"){return e._showError()&&e.hasError&&!i?"error":e.completed&&!i?"done":e.completed&&i?r:e.editable&&i?"edit":r}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:i[e],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this._stateChanged()}_onKeydown(e){const i=Nl(e),r=e.keyCode,o=this._keyManager;null==o.activeItemIndex||i||32!==r&&13!==r?o.setFocusOrigin("keyboard").onKeydown(e):(this.selectedIndex=o.activeItemIndex,e.preventDefault())}_anyControlsInvalidOrPending(e){return!!(this._linear&&e>=0)&&this.steps.toArray().slice(0,e).some(i=>{const r=i.stepControl;return(r?r.invalid||r.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const e=this._elementRef.nativeElement,i=aC();return e===i||e.contains(i)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}}return n.\u0275fac=function(e){return new(e||n)(v(so,8),v(qi),v(Dt))},n.\u0275dir=Se({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,i,r){if(1&e&&(ii(r,kO,5),ii(r,eW,5)),2&e){let o;Vt(o=Bt())&&(i._steps=o),Vt(o=Bt())&&(i._stepHeader=o)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),n})(),bTe=(()=>{class n{constructor(e){this._stepper=e,this.type="submit"}}return n.\u0275fac=function(e){return new(e||n)(v(Bb))},n.\u0275dir=Se({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,i){1&e&&Te("click",function(){return i._stepper.next()}),2&e&&Qs("type",i.type)},inputs:{type:"type"}}),n})(),wTe=(()=>{class n{constructor(e){this._stepper=e,this.type="button"}}return n.\u0275fac=function(e){return new(e||n)(v(Bb))},n.\u0275dir=Se({type:n,selectors:[["button","cdkStepperPrevious",""]],hostVars:1,hostBindings:function(e,i){1&e&&Te("click",function(){return i._stepper.previous()}),2&e&&Qs("type",i.type)},inputs:{type:"type"}}),n})(),xTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[hh]}),n})();function CTe(n,t){if(1&n&&Jr(0,8),2&n){const e=se();L("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function ETe(n,t){if(1&n&&(b(0,"span",13),O(1),x()),2&n){const e=se(2);k(1),ln(e._getDefaultTextForState(e.state))}}function DTe(n,t){if(1&n&&(b(0,"span",14),O(1),x()),2&n){const e=se(2);k(1),ln(e._intl.completedLabel)}}function ITe(n,t){if(1&n&&(b(0,"span",14),O(1),x()),2&n){const e=se(2);k(1),ln(e._intl.editableLabel)}}function STe(n,t){if(1&n&&(b(0,"mat-icon",13),O(1),x()),2&n){const e=se(2);k(1),ln(e._getDefaultTextForState(e.state))}}function TTe(n,t){if(1&n&&(bi(0,9),he(1,ETe,2,1,"span",10),he(2,DTe,2,1,"span",11),he(3,ITe,2,1,"span",11),he(4,STe,2,1,"mat-icon",12),wi()),2&n){const e=se();L("ngSwitch",e.state),k(1),L("ngSwitchCase","number"),k(1),L("ngIf","done"===e.state),k(1),L("ngIf","edit"===e.state)}}function ATe(n,t){if(1&n&&(b(0,"div",15),Jr(1,16),x()),2&n){const e=se();k(1),L("ngTemplateOutlet",e._templateLabel().template)}}function kTe(n,t){if(1&n&&(b(0,"div",15),O(1),x()),2&n){const e=se();k(1),ln(e.label)}}function MTe(n,t){if(1&n&&(b(0,"div",17),O(1),x()),2&n){const e=se();k(1),ln(e._intl.optionalLabel)}}function RTe(n,t){if(1&n&&(b(0,"div",18),O(1),x()),2&n){const e=se();k(1),ln(e.errorMessage)}}function PTe(n,t){}function OTe(n,t){if(1&n&&(Dn(0),he(1,PTe,0,0,"ng-template",0)),2&n){const e=se();k(1),L("cdkPortalOutlet",e._portal)}}const FTe=["*"];function NTe(n,t){1&n&&vt(0,"div",11)}const iW=function(n,t){return{step:n,i:t}};function LTe(n,t){if(1&n&&(bi(0),Jr(1,9),he(2,NTe,1,0,"div",10),wi()),2&n){const e=t.$implicit,i=t.index,r=t.last;se(2);const o=tr(4);k(1),L("ngTemplateOutlet",o)("ngTemplateOutletContext",Gp(3,iW,e,i)),k(1),L("ngIf",!r)}}const rW=function(n){return{animationDuration:n}},oW=function(n,t){return{value:n,params:t}};function VTe(n,t){if(1&n){const e=Yt();b(0,"div",12),Te("@horizontalStepTransition.done",function(r){return Xe(e),Ye(se(2)._animationDone.next(r))}),Jr(1,13),x()}if(2&n){const e=t.$implicit,i=t.index,r=se(2);hn("mat-horizontal-stepper-content-inactive",r.selectedIndex!==i),L("@horizontalStepTransition",Gp(8,oW,r._getAnimationDirection(i),kd(6,rW,r._getAnimationDuration())))("id",r._getStepContentId(i)),Bn("aria-labelledby",r._getStepLabelId(i)),k(1),L("ngTemplateOutlet",e.content)}}function BTe(n,t){if(1&n&&(b(0,"div",4)(1,"div",5),he(2,LTe,3,6,"ng-container",6),x(),b(3,"div",7),he(4,VTe,2,11,"div",8),x()()),2&n){const e=se();k(2),L("ngForOf",e.steps),k(2),L("ngForOf",e.steps)}}function UTe(n,t){if(1&n){const e=Yt();b(0,"div",15),Jr(1,9),b(2,"div",16)(3,"div",17),Te("@verticalStepTransition.done",function(r){return Xe(e),Ye(se(2)._animationDone.next(r))}),b(4,"div",18),Jr(5,13),x()()()()}if(2&n){const e=t.$implicit,i=t.index,r=t.last,o=se(2),s=tr(4);k(1),L("ngTemplateOutlet",s)("ngTemplateOutletContext",Gp(10,iW,e,i)),k(1),hn("mat-stepper-vertical-line",!r),k(1),hn("mat-vertical-stepper-content-inactive",o.selectedIndex!==i),L("@verticalStepTransition",Gp(15,oW,o._getAnimationDirection(i),kd(13,rW,o._getAnimationDuration())))("id",o._getStepContentId(i)),Bn("aria-labelledby",o._getStepLabelId(i)),k(2),L("ngTemplateOutlet",e.content)}}function zTe(n,t){if(1&n&&(bi(0),he(1,UTe,6,18,"div",14),wi()),2&n){const e=se();k(1),L("ngForOf",e.steps)}}function jTe(n,t){if(1&n){const e=Yt();b(0,"mat-step-header",19),Te("click",function(){return Ye(Xe(e).step.select())})("keydown",function(r){return Xe(e),Ye(se()._onKeydown(r))}),x()}if(2&n){const e=t.step,i=t.i,r=se();hn("mat-horizontal-stepper-header","horizontal"===r.orientation)("mat-vertical-stepper-header","vertical"===r.orientation),L("tabIndex",r._getFocusIndex()===i?0:-1)("id",r._getStepLabelId(i))("index",i)("state",r._getIndicatorType(i,e.state))("label",e.stepLabel||e.label)("selected",r.selectedIndex===i)("active",r._stepIsNavigable(i,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",r._iconOverrides)("disableRipple",r.disableRipple||!r._stepIsNavigable(i,e))("color",e.color||r.color),Bn("aria-posinset",i+1)("aria-setsize",r.steps.length)("aria-controls",r._getStepContentId(i))("aria-selected",r.selectedIndex==i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",!r._stepIsNavigable(i,e)||null)}}let MO=(()=>{class n extends tW{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["","matStepLabel",""]],features:[it]}),n})(),eI=(()=>{class n{constructor(){this.changes=new Z,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GTe={provide:eI,deps:[[new $a,new Qu,eI]],useFactory:function HTe(n){return n||new eI}},$Te=Wy(class extends eW{constructor(t){super(t)}},"primary");let sW=(()=>{class n extends $Te{constructor(e,i,r,o){super(r),this._intl=e,this._focusMonitor=i,this._intlSubscription=e.changes.subscribe(()=>o.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._elementRef,e,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof MO?null:this.label}_templateLabel(){return this.label instanceof MO?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return"number"==e?`${this.index+1}`:"edit"==e?"create":"error"==e?"warning":e}}return n.\u0275fac=function(e){return new(e||n)(v(eI),v(kc),v(Dt),v(qi))},n.\u0275cmp=It({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[it],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(e,i){1&e&&(vt(0,"div",0),b(1,"div")(2,"div",1),he(3,CTe,1,2,"ng-container",2),he(4,TTe,5,4,"ng-container",3),x()(),b(5,"div",4),he(6,ATe,2,1,"div",5),he(7,kTe,2,1,"div",5),he(8,MTe,2,1,"div",6),he(9,RTe,2,1,"div",7),x()),2&e&&(L("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disableRipple),k(1),kx("mat-step-icon-state-",i.state," mat-step-icon"),hn("mat-step-icon-selected",i.selected),k(1),L("ngSwitch",!(!i.iconOverrides||!i.iconOverrides[i.state])),k(1),L("ngSwitchCase",!0),k(2),hn("mat-step-label-active",i.active)("mat-step-label-selected",i.selected)("mat-step-label-error","error"==i.state),k(1),L("ngIf",i._templateLabel()),k(1),L("ngIf",i._stringLabel()),k(1),L("ngIf",i.optional&&"error"!=i.state),k(1),L("ngIf","error"==i.state))},dependencies:[xi,uh,dh,My,_1,Ao,Xa],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0}),n})();const cW={horizontalStepTransition:Ho("horizontalStepTransition",[Si("previous",In({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),Si("current",In({transform:"none",visibility:"inherit"})),Si("next",In({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),Wi("* => *",vr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),{params:{animationDuration:"500ms"}})]),verticalStepTransition:Ho("verticalStepTransition",[Si("previous",In({height:"0px",visibility:"hidden"})),Si("next",In({height:"0px",visibility:"hidden"})),Si("current",In({height:"*",visibility:"inherit"})),Wi("* <=> current",vr("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),{params:{animationDuration:"225ms"}})])};let qTe=(()=>{class n{constructor(e){this.templateRef=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),n})(),dW=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(v(ki))},n.\u0275dir=Se({type:n,selectors:[["ng-template","matStepContent",""]]}),n})(),uW=(()=>{class n extends kO{constructor(e,i,r,o){super(e,o),this._errorStateMatcher=i,this._viewContainerRef=r,this._isSelected=K.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(St(()=>this._stepper.selectionChange.pipe(We(e=>e.selectedStep===this),Tr(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new rg(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,i){return this._errorStateMatcher.isErrorState(e,i)||!!(e&&e.invalid&&this.interacted)}}return n.\u0275fac=function(e){return new(e||n)(v(Xn(()=>hW)),v(Zy,4),v(yr),v(nW,8))},n.\u0275cmp=It({type:n,selectors:[["mat-step"]],contentQueries:function(e,i,r){if(1&e&&(ii(r,MO,5),ii(r,dW,5)),2&e){let o;Vt(o=Bt())&&(i.stepLabel=o.first),Vt(o=Bt())&&(i._lazyContent=o.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[Wt([{provide:Zy,useExisting:n},{provide:kO,useExisting:n}]),it],ngContentSelectors:FTe,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(_r(),he(0,OTe,2,1,"ng-template"))},dependencies:[og],encapsulation:2,changeDetection:0}),n})(),hW=(()=>{class n extends Bb{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,i,r){super(e,i,r),this.steps=new Cc,this.animationDone=new Ct,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new Z,this._animationDuration="";const o=r.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===o?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:i})=>this._iconOverrides[e]=i),this.steps.changes.pipe(bn(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(dn((e,i)=>e.fromState===i.fromState&&e.toState===i.toState),bn(this._destroyed)).subscribe(e=>{"current"===e.toState&&this.animationDone.emit()})}_stepIsNavigable(e,i){return i.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}}return n.\u0275fac=function(e){return new(e||n)(v(so,8),v(qi),v(Dt))},n.\u0275cmp=It({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,i,r){if(1&e&&(ii(r,uW,5),ii(r,qTe,5)),2&e){let o;Vt(o=Bt())&&(i._steps=o),Vt(o=Bt())&&(i._icons=o)}},viewQuery:function(e,i){if(1&e&&An(sW,5),2&e){let r;Vt(r=Bt())&&(i._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,i){2&e&&(Bn("aria-orientation",i.orientation),hn("mat-stepper-horizontal","horizontal"===i.orientation)("mat-stepper-vertical","vertical"===i.orientation)("mat-stepper-label-position-end","horizontal"===i.orientation&&"end"==i.labelPosition)("mat-stepper-label-position-bottom","horizontal"===i.orientation&&"bottom"==i.labelPosition)("mat-stepper-header-position-bottom","bottom"===i.headerPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[Wt([{provide:Bb,useExisting:n}]),it],decls:5,vars:3,consts:[[3,"ngSwitch"],["class","mat-horizontal-stepper-wrapper",4,"ngSwitchCase"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id","mat-horizontal-stepper-content-inactive",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(e,i){1&e&&(bi(0,0),he(1,BTe,5,2,"div",1),he(2,zTe,2,1,"ng-container",2),wi(),he(3,jTe,1,23,"ng-template",null,3,Ml)),2&e&&(L("ngSwitch",i.orientation),k(1),L("ngSwitchCase","horizontal"),k(1),L("ngSwitchCase","vertical"))},dependencies:[jo,xi,uh,dh,My,sW],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[cW.horizontalStepTransition,cW.verticalStepTransition]},changeDetection:0}),n})(),WTe=(()=>{class n extends bTe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,i){2&e&&Qs("type",i.type)},inputs:{type:"type"},features:[it]}),n})(),KTe=(()=>{class n extends wTe{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Mt(n)))(i||n)}}(),n.\u0275dir=Se({type:n,selectors:[["button","matStepperPrevious",""]],hostAttrs:[1,"mat-stepper-previous"],hostVars:1,hostBindings:function(e,i){2&e&&Qs("type",i.type)},inputs:{type:"type"},features:[it]}),n})(),ZTe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[GTe,Zy],imports:[On,ea,sg,xTe,N$,em,On]}),n})();function YTe(n,t){if(1&n){const e=Yt();b(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),O(3),x()(),b(4,"mat-card-content")(5,"mat-form-field")(6,"textarea",10),Te("ngModelChange",function(r){return Ye(Xe(e).$implicit.text=r)}),x()(),b(7,"div",11)(8,"mat-form-field")(9,"mat-label"),O(10,"From:"),x(),b(11,"input",12),Te("ngModelChange",function(r){return Ye(Xe(e).$implicit.start_time=r)}),x()(),b(12,"mat-form-field")(13,"mat-label"),O(14,"To:"),x(),b(15,"input",12),Te("ngModelChange",function(r){return Ye(Xe(e).$implicit.end_time=r)}),x()()()()()}if(2&n){const e=t.$implicit,i=t.index;k(3),_n("Subtitle ",i+1,""),k(3),L("value",e.text)("ngModel",e.text),k(5),L("value",e.start_time)("ngModel",e.start_time),k(4),L("value",e.end_time)("ngModel",e.end_time)}}function QTe(n,t){if(1&n&&(b(0,"div",13)(1,"mat-form-field")(2,"textarea",14),O(3,"                        "),x()()()),2&n){const e=se();k(2),L("value",e.SSMLContent)}}let XTe=(()=>{class n{constructor(e){this.ttsService=e,this.SSMLContent=""}ngOnInit(){this.textContentSSML=this.ttsService.get_initContentSSML()}generateSSML(){let e="<speak>\n";this.textContentSSML.forEach((i,r)=>{e+=`   <prosody duration="${i.totalDuration}">${i.text}</prosody>\n`,r<this.textContentSSML.length-1&&(e+='   <break time="100ms"/>\n')}),e+="</speak>",this.SSMLContent=e}static#e=this.\u0275fac=function(i){return new(i||n)(v(a9))};static#t=this.\u0275cmp=It({type:n,selectors:[["generate-tts"]],decls:13,vars:3,consts:[[3,"linear"],["label","Review your Subtitles",3,"editable","selectionchange"],["fxLayoutAlign","center center","fxLayout","column"],[4,"ngFor","ngForOf"],["mat-button","","matStepperNext","",3,"click"],["label","Generate SSML"],["matStepContent",""],["mat-button","","matStepperNext",""],["label","Generate Speech"],["mat-button","","matStepperPrevious",""],["matInput","","type","text",3,"value","ngModel","ngModelChange"],["fxLayout","column","fxLayoutGap","10px","fxFlex","30"],["matInput","","matTooltip","hh:mm:ss:ms","type","time","step","0.1",3,"value","ngModel","ngModelChange"],["fxLayoutAlign","center center","fxLayout","column",1,"textarea-ssml"],["rows","20","matInput","",3,"value"]],template:function(i,r){1&i&&(b(0,"mat-stepper",0)(1,"mat-step",1),Te("selectionchange",function(){return r.generateSSML()}),b(2,"div",2),he(3,YTe,16,7,"mat-card",3),x(),b(4,"button",4),Te("click",function(){return r.generateSSML()}),O(5,"Next"),x()(),b(6,"mat-step",5),he(7,QTe,4,1,"ng-template",6),b(8,"button",7),O(9,"Next"),x()(),vt(10,"mat-step",8),b(11,"button",9),O(12,"Back"),x()()),2&i&&(L("linear",!0),k(1),L("editable",!1),k(2),L("ngForOf",r.textContentSSML))},dependencies:[jo,ka,Aa,Pa,ds,$o,br,Vl,Yo,hO,fO,T9,pO,Wh,bb,fg,du,uW,hW,WTe,KTe,dW],styles:[".mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:15px;justify-content:center;width:450px}.mat-horizontal-stepper-content[_ngcontent-%COMP%]{display:flex}.mat-mdc-form-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:100%!important}  .mat-mdc-form-field-infix{height:100%}  .mat-mdc-form-field-flex{height:100%}.mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{padding-right:5px;flex-grow:1}.textarea-ssml[_ngcontent-%COMP%]   .mat-mdc-form-field-type-mat-input[_ngcontent-%COMP%]{width:1000px}"]})}return n})(),JTe=(()=>{class n{constructor(e,i,r,o,s){this.route=e,this.router=i,this.storageService=r,this.communityService=o,this.dialog=s,this.loading$=new P(null),this.isFormDirty=!1,this.storage=Tt(bg)}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.currentLanguage=this.route.snapshot.paramMap.get("languageCode"),this.requestId=this.route.snapshot.paramMap.get("requestId"),this.storageService.getCommunityRequestDetails(this.requestId).subscribe(e=>{this.requestDetails=e})}setFormDirtyStatus(e){this.isFormDirty=e}uploadToFirestorage(e){this.isFormDirty=!1,this.storageService.createFirestorageRefCommunity(this.storage,e,this.requestId,this.requestDetails)}navigateTTS(){this.router.navigate(["generate-tts",this.videoId,this.currentLanguage])}navigateToDashboard(){this.isFormDirty?this.dialog.open(Wq,{width:"500px"}).afterClosed().subscribe(e=>{e&&this.router.navigate(["dashboard"])}):this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(v(zl),v(Ar),v(Qh),v(Zl),v(sa))};static#t=this.\u0275cmp=It({type:n,selectors:[["community-subtitling-container"]],features:[Wt([Qh,Zl])],decls:8,vars:4,consts:[[1,"container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Details",1,"back-button",3,"click"],[1,"wrapper"],[3,"videoId"],[3,"isoCode","videoId","initSubtitles","subtitleUploadEmitter","navigateTTS","formStatusChange"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"button",2),Te("click",function(){return r.navigateToDashboard()}),b(3,"mat-icon"),O(4,"arrow_back"),x()()(),b(5,"div",3),vt(6,"video-player",4),b(7,"dialog-component",5),Te("subtitleUploadEmitter",function(s){return r.uploadToFirestorage(s)})("navigateTTS",function(){return r.navigateTTS()})("formStatusChange",function(s){return r.setFormDirtyStatus(s)}),x()()()),2&i&&(k(6),L("videoId",r.videoId),k(1),L("isoCode",r.currentLanguage)("videoId",r.videoId)("initSubtitles",!1))},dependencies:[hb,Ao,Yo,Kq,j9],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;width:100%;flex-wrap:wrap;gap:40px;justify-content:space-around;padding-top:20px}.back-button[_ngcontent-%COMP%]{top:5%;left:3%}.dashboard-navigation[_ngcontent-%COMP%]{padding-top:15px}video-player[_ngcontent-%COMP%]{flex-grow:.8}"]})}return n})();const eAe=new Ue("MAT_SORT_DEFAULT_OPTIONS"),tAe=ble(qy(class{}));let nAe=(()=>{class n extends tAe{get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=Jt(e)}constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new Z,this.start="asc",this._direction="",this.sortChange=new Ct}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){if(!e)return"";let r=function iAe(n,t){let e=["asc","desc"];return"desc"==n&&e.reverse(),t||e.push(""),e}(e.start||this.start,e?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),o=r.indexOf(this.direction)+1;return o>=r.length&&(o=0),r[o]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(v(eAe,8))},n.\u0275dir=Se({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[it,Di]}),n})(),RO=(()=>{class n{constructor(){this.changes=new Z}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oAe={provide:RO,deps:[[new $a,new Qu,RO]],useFactory:function rAe(n){return n||new RO}};let sAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[oAe],imports:[ea,On]}),n})();function aAe(n,t){if(1&n&&(b(0,"span"),O(1),x()),2&n){const e=se().ngIf;k(1),_n(" \u275d ",e.bio," \u275e ")}}function lAe(n,t){1&n&&(b(0,"mat-icon"),O(1,"star"),x())}function cAe(n,t){if(1&n&&(b(0,"div",47),he(1,lAe,2,0,"mat-icon",2),x()),2&n){const e=t.$implicit;k(1),L("ngIf",1==e)}}function dAe(n,t){1&n&&(b(0,"mat-icon"),O(1,"star_half"),x())}function uAe(n,t){if(1&n&&(b(0,"div",48),he(1,dAe,2,0,"mat-icon",2),x()),2&n){const e=t.$implicit;k(1),L("ngIf",2==e)}}function hAe(n,t){1&n&&(b(0,"span",51),O(1,"star"),x())}function fAe(n,t){if(1&n&&(b(0,"div",49),he(1,hAe,2,0,"span",50),x()),2&n){const e=t.$implicit;k(1),L("ngIf",3==e)}}function pAe(n,t){1&n&&(b(0,"mat-error"),O(1,"Please fill out display name correctly"),x())}function mAe(n,t){if(1&n&&(b(0,"mat-option",52),O(1),x()),2&n){const e=t.$implicit;qa("value",e.code),k(1),ln(e.name)}}function gAe(n,t){if(1&n&&(b(0,"mat-option",52),O(1),x()),2&n){const e=t.$implicit;qa("value",e.name),k(1),ln(e.name)}}function _Ae(n,t){if(1&n){const e=Yt();b(0,"button",53),Te("click",function(){return Xe(e),Ye(se(2).onClickToAddLang())}),b(1,"div",54)(2,"mat-icon",55),O(3,"add"),x(),b(4,"span"),O(5,"Add"),x()()()}}function yAe(n,t){1&n&&(b(0,"th",68),O(1,"Language"),x())}function vAe(n,t){if(1&n&&(b(0,"td",69),O(1),x()),2&n){const e=t.$implicit;k(1),ln(e.language)}}function bAe(n,t){1&n&&(b(0,"th",68),O(1,"Level"),x())}function wAe(n,t){if(1&n&&(b(0,"td",69),O(1),x()),2&n){const e=t.$implicit;k(1),ln(e.level)}}function xAe(n,t){1&n&&(b(0,"th",68),O(1,"Options"),x())}function CAe(n,t){if(1&n){const e=Yt();b(0,"td",69)(1,"div",70)(2,"mat-icon",71),Te("click",function(){const o=Xe(e).index;return Ye(se(3).onClickToEditLang(o))}),O(3,"edit"),x(),b(4,"mat-icon",72),Te("click",function(){const o=Xe(e).index;return Ye(se(3).onClickToDeleteLang(o))}),O(5,"delete_forever"),x()()()}}function EAe(n,t){1&n&&vt(0,"tr",73)}function DAe(n,t){1&n&&vt(0,"tr",74)}function IAe(n,t){1&n&&(b(0,"tr",75)(1,"td",76)(2,"span"),O(3,"No languages have been added!"),x()()())}function SAe(n,t){if(1&n&&(b(0,"div",56)(1,"div",57)(2,"table",58,59),bi(4,60),he(5,yAe,2,0,"th",61),he(6,vAe,2,1,"td",62),wi(),bi(7,63),he(8,bAe,2,0,"th",61),he(9,wAe,2,1,"td",62),wi(),bi(10,64),he(11,xAe,2,0,"th",61),he(12,CAe,6,0,"td",62),wi(),he(13,EAe,1,0,"tr",65),he(14,DAe,1,0,"tr",66),he(15,IAe,4,0,"tr",67),x()()()),2&n){const e=se(2);k(2),L("dataSource",e.langSkillDataSource),k(11),L("matHeaderRowDef",e.displayedColumns),k(1),L("matRowDefColumns",e.displayedColumns)}}function TAe(n,t){if(1&n&&(b(0,"mat-option",52),O(1),x()),2&n){const e=t.$implicit;qa("value",e.name),k(1),ln(e.name)}}function AAe(n,t){1&n&&(b(0,"mat-error"),O(1,"You must select a language"),x())}function kAe(n,t){if(1&n&&(b(0,"mat-option",52),O(1),x()),2&n){const e=t.$implicit;qa("value",e.level),k(1),ln(e.description)}}function MAe(n,t){1&n&&(b(0,"mat-error"),O(1,"You must select a skill level"),x())}function RAe(n,t){if(1&n){const e=Yt();b(0,"div",77)(1,"div",78)(2,"mat-card-header")(3,"mat-card-title"),O(4,"Language"),x()(),b(5,"mat-form-field",79)(6,"mat-select",80),Te("selectionChange",function(){return Xe(e),Ye(se(2).isEdited())}),b(7,"mat-option",28),O(8,"Select your language"),x(),he(9,TAe,2,2,"mat-option",29),un(10,"async"),x(),he(11,AAe,2,0,"mat-error",2),x()(),b(12,"div",81)(13,"mat-card-header")(14,"mat-card-title"),O(15,"Skill Level"),x()(),b(16,"mat-form-field")(17,"mat-select",82),Te("selectionChange",function(){return Xe(e),Ye(se(2).isEdited())}),b(18,"mat-option",28),O(19,"Select skill"),x(),he(20,kAe,2,2,"mat-option",29),x(),he(21,MAe,2,0,"mat-error",2),x(),b(22,"div",83)(23,"div",84)(24,"button",44),Te("click",function(){return Xe(e),Ye(se(2).onClickToSaveNewLanguage())}),O(25," Save "),x()(),b(26,"div",85)(27,"button",86),Te("click",function(){return Xe(e),Ye(se(2).cancelAddEdit())}),O(28,"Cancel"),x()()()()()}if(2&n){const e=se(2);let i,r,o,s;L("formGroup",e.langSkillsForm),k(9),L("ngForOf",null==(i=Mn(10,6,e.availableLanguages$))||null==i.data?null:i.data.languages),k(2),L("ngIf",null==(r=e.langSkillsForm.get("lang"))?null:r.hasError("required")),k(9),L("ngForOf",e.skillLevels),k(1),L("ngIf",null==(o=e.langSkillsForm.get("skill"))?null:o.hasError("required")),k(3),L("disabled",(null==(s=e.langSkillsForm.get("lang"))?null:s.hasError("required"))||(null==(s=e.langSkillsForm.get("skill"))?null:s.hasError("required"))||0==(null==(s=e.langSkillsForm.get("lang"))?null:s.value)||0==(null==(s=e.langSkillsForm.get("skill"))?null:s.value))}}function PAe(n,t){if(1&n){const e=Yt();b(0,"div",3)(1,"div",4)(2,"div",5)(3,"h3"),O(4,"Profile Overview"),x()(),b(5,"div",6),vt(6,"img",7),x(),b(7,"div",8)(8,"p"),O(9),x()(),b(10,"div",9)(11,"p"),O(12),x()(),b(13,"div",10)(14,"p"),he(15,aAe,2,1,"span",2),x()(),b(16,"div",11),he(17,cAe,2,1,"div",12),he(18,uAe,2,1,"div",13),he(19,fAe,2,1,"div",14),x()(),b(20,"div",15)(21,"div",16)(22,"h3"),O(23,"Edit your Profile"),x()(),b(24,"div",17)(25,"div",18)(26,"form",19)(27,"div",20)(28,"h3"),O(29,"Profile details:"),x()(),b(30,"div",21)(31,"mat-card-header")(32,"mat-card-title"),O(33,"Display Name"),x()(),b(34,"mat-form-field")(35,"input",22),Te("keydown",function(){return Xe(e),Ye(se().isEdited())}),x(),he(36,pAe,2,0,"mat-error",2),x()(),b(37,"div",23)(38,"mat-card-header")(39,"mat-card-title"),O(40,"G-Mail"),x()(),b(41,"mat-form-field",24)(42,"input",25),Te("keydown",function(){return Xe(e),Ye(se().isEdited())}),x()()(),b(43,"div",26)(44,"mat-card-header")(45,"mat-card-title"),O(46,"Country"),x()(),b(47,"mat-form-field")(48,"mat-select",27),Te("selectionChange",function(){return Xe(e),Ye(se().isEdited())}),b(49,"mat-option",28),O(50,"Select your country"),x(),he(51,mAe,2,2,"mat-option",29),x()()(),b(52,"div",30)(53,"mat-card-header")(54,"mat-card-title"),O(55,"Biography"),x()(),b(56,"mat-form-field")(57,"textarea",31),Te("keydown",function(){return Xe(e),Ye(se().isEdited())}),x()()()()(),b(58,"div",32)(59,"div",33)(60,"h3"),O(61,"Language Skills:"),x()(),b(62,"div",34)(63,"form",19)(64,"div",35)(65,"mat-card-header")(66,"mat-card-title"),O(67,"Mother Language"),x()(),b(68,"mat-form-field")(69,"mat-select",36),Te("selectionChange",function(){return Xe(e),Ye(se().isEdited())}),b(70,"mat-option",28),O(71,"Select your language"),x(),he(72,gAe,2,2,"mat-option",29),un(73,"async"),x()()()(),b(74,"div",37)(75,"mat-card-header")(76,"mat-card-title"),O(77),x(),b(78,"div",38),he(79,_Ae,6,0,"button",39),x()(),he(80,SAe,16,3,"div",40),he(81,RAe,29,8,"div",41),x()()()(),b(82,"div",42)(83,"div",43)(84,"button",44),Te("click",function(){return Xe(e),Ye(se().saveChanges())}),O(85,"Save changes"),x()(),b(86,"div",45)(87,"button",46),Te("click",function(){return Xe(e),Ye(se().revertChanges())}),O(88,"Revert changes"),x()()()()()}if(2&n){const e=t.ngIf,i=se();let r,o;k(6),L("src",e.photoURL,Bo),k(3),ln(e.displayName),k(3),ln(e.email),k(3),L("ngIf",e.bio.length>0),k(1),qa("matTooltip",i.ratingTooltip),k(1),L("ngForOf",i.stars),k(1),L("ngForOf",i.stars),k(1),L("ngForOf",i.stars),k(7),L("formGroup",i.userInfoForm),k(10),L("ngIf",null==(r=i.userInfoForm.get("displayName"))?null:r.hasError("required")),k(15),L("ngForOf",i.countries),k(12),L("formGroup",i.motherLangForm),k(9),L("ngForOf",null==(o=Mn(73,19,i.availableLanguages$))||null==o.data?null:o.data.languages),k(5),ln(i.addLang?"Add new Foreign Language":i.editLang?"Edit Foreign Language":"Foreign Languages"),k(2),L("ngIf",!i.addLang),k(1),L("ngIf",!i.addLang&&!i.editLang),k(1),L("ngIf",i.addLang||i.editLang),k(3),L("disabled",!i.editedProfileDetails||i.addLang||i.editLang||!i.userInfoForm.valid),k(3),L("disabled",!i.editedProfileDetails||i.addLang||i.editLang)}}function OAe(n,t){1&n&&vt(0,"fullscreen-loader")}const NAe=["translateMenu"];function LAe(n,t){if(1&n&&(b(0,"div",23)(1,"a",24),vt(2,"img",25),x(),b(3,"div",26)(4,"span"),O(5),un(6,"slice"),x()(),b(7,"div",27)(8,"span",28),O(9),un(10,"number"),x(),O(11," \xb7 "),b(12,"span"),O(13),un(14,"async"),x()()()),2&n){const e=t.ngIf,i=se();k(1),L("href","//youtube.com/watch?v="+(null==e[0]?null:e[0].id),Bo),k(1),L("src",null==e[0]||null==e[0].snippet.thumbnails||null==e[0].snippet.thumbnails.medium?null:e[0].snippet.thumbnails.medium.url,Bo),k(3),_n(" ",(null==e[0]||null==e[0].snippet||null==e[0].snippet.title?null:e[0].snippet.title.length)>50?Md(6,5,null==e[0]||null==e[0].snippet?null:e[0].snippet.title,0,50)+"...":null==e[0]||null==e[0].snippet?null:e[0].snippet.title," "),k(4),_n("",Mn(10,9,null==e[0]||null==e[0].statistics?null:e[0].statistics.viewCount)," views"),k(4),_n("",Mn(14,11,i.publishDate)," ago")}}function VAe(n,t){if(1&n&&(b(0,"span",29),O(1),un(2,"uppercase"),x()),2&n){const e=t.$implicit,i=se();k(1),zp(" ",i.regionNamesInEnglish.of(e.snippet.language)," - ",Mn(2,2,e.snippet.trackKind)," ")}}function BAe(n,t){1&n&&(b(0,"th",30),O(1," Name "),x())}function UAe(n,t){if(1&n&&(b(0,"td",31),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.fileName," ")}}function zAe(n,t){1&n&&(b(0,"th",30),O(1," Format "),x())}function jAe(n,t){if(1&n&&(b(0,"td",32),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.format," ")}}function HAe(n,t){1&n&&(b(0,"th",30),O(1," Language "),x())}function GAe(n,t){if(1&n&&(b(0,"td",32),O(1),x()),2&n){const e=t.$implicit;k(1),_n(" ",e.language," ")}}function $Ae(n,t){1&n&&(b(0,"th",30),O(1," Last Updated "),x())}function qAe(n,t){if(1&n&&(b(0,"td",32),O(1),un(2,"date"),x()),2&n){const e=t.$implicit;k(1),_n(" ",Ey(2,1,e.lastUpdated,"medium")," ")}}function WAe(n,t){1&n&&(b(0,"th",30),O(1," Owner "),x())}function KAe(n,t){if(1&n){const e=Yt();b(0,"td",32)(1,"img",33),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().openProfilePreviewDialog(o.usersRights))}),x()()}if(2&n){const e=t.$implicit;k(1),qa("matTooltip",e.ownerName),L("src",e.ownerPhoto,Bo)}}function ZAe(n,t){1&n&&(b(0,"th",30),O(1," Options "),x())}function YAe(n,t){if(1&n){const e=Yt();b(0,"td",32)(1,"button",34),Te("click",function(){const o=Xe(e).$implicit;return Ye(se().editSubtitle(o.iso,o.fullFilename,o.usersRights,o.id,o.language))}),b(2,"mat-icon"),O(3,"edit"),x()(),b(4,"button",35),Te("click",function(){const o=Xe(e).$implicit,s=se();return Ye(s.shareSubtitle(o.language,o.iso,o.fileName,o.format,o.usersRights,null==s.videoDetails$||null==s.videoDetails$.value[0]||null==s.videoDetails$.value[0].snippet?null:s.videoDetails$.value[0].snippet.title,o.id))}),b(5,"mat-icon"),O(6,"share"),x()()()}}function QAe(n,t){1&n&&vt(0,"tr",36)}function XAe(n,t){if(1&n){const e=Yt();b(0,"tr",37),Te("dblclick",function(){const o=Xe(e).$implicit;return Ye(se().editSubtitle(o.iso,o.fullFilename,o.usersRights,o.id,o.language))}),x()}}function JAe(n,t){1&n&&vt(0,"fullscreen-loader")}const ed=()=>{return n=[""],on(nO,We(t=>t||n));var n},t1e=[{path:"",component:Qxe},{path:"dashboard",component:$xe,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"messages",component:Yxe,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"profile",component:(()=>{class n{constructor(e,i,r,o,s){this.auth=e,this.proService=i,this.googleLangService=r,this.snackbar=o,this.dialog=s,this.row=-1,this.loading$=new P(null),this.availableLanguages$=new P(null),this.stars=[],this.averageRate=0,this.ratingTooltip="",this.foreignLanguages=[],this.deletedLang=[],this.langSkillDataSource=new YSe([]),this.displayedColumns=["language","skill","options"],this.userInfoForm=new Ms({displayName:new Nr("",[Go.required,Go.pattern(/^[A-Za-z\u0391-\u03a9\u03b1-\u03c9\u0386-\u038f\u03ac-\u03ce0-9\s]*$/)]),email:new Nr({value:"",disabled:!0},[Go.required,Go.email]),ethnicity:new Nr(""),bio:new Nr("")}),this.motherLangForm=new Ms({motherLang:new Nr("")}),this.langSkillsForm=new Ms({lang:new Nr("",[Go.required]),skill:new Nr("",[Go.required])}),this.editedProfileDetails=!1,this.addLang=!1,this.editLang=!1,this.user$=this.auth.user}ngOnInit(){this.user$.subscribe({next:e=>{this.loadUserDetails(e),this.uid=e.uid,this.photoUrl=e.photoURL,this.email=e.email,this.loadUserRatings(e.uid),this.proService.getAllLanguages(e.uid).subscribe({next:i=>{this.loadForeignLanguages(i)}})}}),this.proService.getCountries().subscribe({next:e=>{this.loadCountries(e)}}),this.proService.getSkillLevels().subscribe({next:e=>{this.loadSkillLevels(e)}}),this.getAvailableLanguages()}isEdited(){this.editedProfileDetails=!0}loadUserDetails(e){this.userInfoForm.controls.displayName.setValue(e.displayName),this.userInfoForm.controls.email.setValue(e.email),this.userInfoForm.controls.bio.setValue(e.bio),this.userInfoForm.controls.ethnicity.setValue(null==e.ethnicity||""==e.ethnicity?"0":e.ethnicity),this.motherLangForm.controls.motherLang.setValue(null==e.mother_language||""==e.mother_language?"0":e.mother_language)}loadUserRatings(e){this.proService.getUserRatings(e).subscribe({next:i=>{this.loadRatings(i)}})}loadRatings(e){let i=0,r=0,o=5;this.stars=[];for(let s=0;s<e.length;s++)i++,r+=e[s].rating;if(i>0){this.averageRate=r/i,this.averageRate>5&&(this.averageRate=5);let s=this.averageRate;for(this.ratingTooltip=`Your rating is: ${this.averageRate}`;o>0;)this.stars.push(s>=1?1:s>=.5?2:3),s--,o--}else{this.ratingTooltip="You don't have been rated yet";for(let s=0;s<5;s++)this.stars.push(3)}}loadCountries(e){this.countries=e}loadSkillLevels(e){this.skillLevels=e}loadForeignLanguages(e){this.foreignLanguages=e,this.updateForeignLangData()}getAvailableLanguages(){this.googleLangService.getSupportedLanguages().pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{this.availableLanguages$.next(e),this.loading$.next(!1)})}onClickToAddLang(){this.addLang=!0,this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0")}onClickToEditLang(e){this.row=e,this.editLang=!0,this.langSkillsForm.controls.lang.setValue(this.foreignLanguages[e].language),this.langSkillsForm.controls.skill.setValue(this.foreignLanguages[e].level)}onClickToDeleteLang(e){this.editedProfileDetails=!0,this.deletedLang.push({language:this.foreignLanguages[e].language,level:this.foreignLanguages[e].level}),this.foreignLanguages.splice(e,1),this.updateForeignLangData()}onClickToSaveNewLanguage(){this.editedProfileDetails=!0;const e={language:this.langSkillsForm.value.lang,level:this.langSkillsForm.value.skill};this.editLang&&this.foreignLanguages.splice(this.row,1),this.foreignLanguages.push(e),this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0"),this.editLang=!1,this.addLang=!1,this.updateForeignLangData()}cancelAddEdit(){this.langSkillsForm.controls.lang.setValue("0"),this.langSkillsForm.controls.skill.setValue("0"),this.addLang=!1,this.editLang=!1}updateForeignLangData(){this.langSkillDataSource.data=[...this.foreignLanguages]}saveChanges(){const e={uid:this.uid,displayName:this.userInfoForm.value.displayName,ethnicity:0==this.userInfoForm.controls.ethnicity.value?"":this.userInfoForm.controls.ethnicity.value,bio:null==this.userInfoForm.value.bio?"":this.userInfoForm.value.bio,photoURL:this.photoUrl,email:this.email,mother_language:0==this.motherLangForm.controls.motherLang.value?"":this.motherLangForm.value.motherLang};this.saveNewLangData()&&(this.deletedLang=[],this.proService.updateProfile(e).then(i=>{this.snackbar.open("Profile has been updated successfully!","OK",{duration:5e3})}).catch(i=>{this.snackbar.open("Problem with saving your profile settings!","OK",{duration:5e3}),console.log(i.message)}))}saveNewLangData(){if(this.proService.addForeignLanguages(this.uid,this.foreignLanguages)){this.editedProfileDetails=!1;for(let e of this.deletedLang)this.proService.deleteForeignLang(this.uid,e.language).catch(i=>(this.snackbar.open("Problem with saving your foreign language settings!","OK",{duration:5e3}),console.log(i.message),!1));return!0}return this.snackbar.open("Problem with saving your foreign language settings!","OK",{duration:5e3}),!1}revertChanges(){this.ngOnInit(),this.editedProfileDetails=!1}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps),v(q9),v(la),v(Ls),v(sa))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-profile"]],features:[Wt([la])],decls:6,vars:6,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"],["class","profile-wrapper",4,"ngIf"],[4,"ngIf"],[1,"profile-wrapper"],[1,"profile-details-card"],[1,"prof-overview-header"],[1,"profile-img"],["alt","profile-user-img","referrerpolicy","no-referrer",3,"src"],[1,"profile-display-name"],[1,"prof-user-email"],[1,"prof-bio-display"],[1,"user-rating-display",3,"matTooltip"],["class","full-star",4,"ngFor","ngForOf"],["class","half-star",4,"ngFor","ngForOf"],["class","empty-star",4,"ngFor","ngForOf"],[1,"profile-edit"],[1,"profile-edit-head"],[1,"controls-container"],[1,"profile-edit-control"],[3,"formGroup"],[1,"profile-details-header"],[1,"profile-edit-display-name"],["matInput","","formControlName","displayName","placeholder","Your Name to Display",3,"keydown"],[1,"profile-edit-gmail"],["matTooltip","To change your Gmail, go to your Google account settings","matTooltipPosition","above"],["matInput","","formControlName","email","placeholder","Your google email",3,"keydown"],[1,"profile-edit-ethnicity"],["formControlName","ethnicity",3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"profile-edit-bio"],["formControlName","bio","matInput","","placeholder","Tell something about yourself",3,"keydown"],[1,"profile-lang-control"],[1,"lang-details-header"],[1,"edit-prof-lang-details"],[1,"mother-lang-edit"],["formControlName","motherLang",3,"selectionChange"],[1,"lang-skill-sector"],[1,"add-new-lang"],["mat-raised-button","","color","primary","matTooltip","Click to add new foreign language","matTooltipPosition","above",3,"click",4,"ngIf"],["class","lang-skill-table",4,"ngIf"],["class","add-lang-skill",3,"formGroup",4,"ngIf"],[1,"save-cancel-prof-btn"],[1,"save-profile-changes"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"revert-profile-changes"],["mat-raised-button","","color","warn",3,"disabled","click"],[1,"full-star"],[1,"half-star"],[1,"empty-star"],["class","material-symbols-outlined",4,"ngIf"],[1,"material-symbols-outlined"],[3,"value"],["mat-raised-button","","color","primary","matTooltip","Click to add new foreign language","matTooltipPosition","above",3,"click"],[1,"add-lang-btn"],[1,"add-icon"],[1,"lang-skill-table"],[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8","table",3,"dataSource"],["table",""],["matColumnDef","language"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","skill"],["matColumnDef","options"],["mat-header-row","","class","header",4,"matHeaderRowDef"],["mat-row","","class","header-row",4,"matRowDef","matRowDefColumns"],["class","mat-row no-data-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],[1,"leave-options"],["matTooltip","Edit","color","primary",1,"icon","material-symbols-outlined","edit-lang-icon",3,"click"],["matTooltip","Delete!","color","primary",1,"icon","bin","del-lang-icon",3,"click"],["mat-header-row","",1,"header"],["mat-row","",1,"header-row"],[1,"mat-row","no-data-row"],["colspan","3",1,"mat-cell","empty-table"],[1,"add-lang-skill",3,"formGroup"],[1,"foreign-lang-select"],["appearance","fill"],["formControlName","lang",3,"selectionChange"],[1,"skill-level-select"],["formControlName","skill",3,"selectionChange"],[1,"lang-skills-btns"],[1,"save-lang-btn"],[1,"cancel-lang-btn"],["mat-raised-button","","color","warn",3,"click"]],template:function(i,r){1&i&&(vt(0,"link",0),b(1,"main"),he(2,PAe,89,21,"div",1),un(3,"async"),he(4,OAe,1,0,"fullscreen-loader",2),un(5,"async"),x()),2&i&&(k(2),L("ngIf",Mn(3,2,r.auth.user)),k(2),L("ngIf",Mn(5,4,r.loading$)))},dependencies:[jo,xi,ka,Xy,Pa,sk,ds,$o,Bd,Ra,Mc,br,Ao,Yo,fg,du,ZD,Fb,YD,Nb,Ob,QD,Lb,Vb,XD,JD,AO,xb,tm,nAe,Zh,Js],styles:["main[_ngcontent-%COMP%]{height:85vh}.profile-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;margin-top:40px}.profile-details-card[_ngcontent-%COMP%], .profile-edit[_ngcontent-%COMP%]{padding:20px;border-radius:15px;box-shadow:0 0 4px #7e7e7e80;background-color:#f6f6f6}.profile-details-card[_ngcontent-%COMP%]{text-align:center;width:20%;height:-moz-fit-content;height:fit-content}.profile-edit-control[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-lang-control[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:25vw}.profile-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;height:100px}.profile-display-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:15px;font-size:1.55em}.prof-user-email[_ngcontent-%COMP%]{margin-top:10px}.prof-user-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em;color:gray}.prof-bio-display[_ngcontent-%COMP%]{font-size:1.2em;font-style:italic;color:#333}.profile-edit-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .prof-overview-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.9em;margin-bottom:40px}mat-card-title[_ngcontent-%COMP%]{font-size:1.1em}.save-cancel-prof-btn[_ngcontent-%COMP%]{margin-top:50px;display:flex;justify-content:flex-end}.save-profile-changes[_ngcontent-%COMP%]{margin-right:25px}.profile-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .lang-details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.controls-container[_ngcontent-%COMP%]{display:flex;flex-flow:wrap}.profile-lang-control[_ngcontent-%COMP%]{margin-left:20px;padding-left:20px;border-left:1px #b4b4b4 solid}.profile-edit-bio[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:40px}.profile-edit-gmail[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .profile-edit-gmail[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{cursor:not-allowed}.table-container[_ngcontent-%COMP%]{text-align:center}.empty-table[_ngcontent-%COMP%]{font-style:italic;font-size:12px;color:#323e48}.lang-skill-sector[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-bottom:10px}.add-new-lang[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:25px}.add-lang-btn[_ngcontent-%COMP%]{display:flex}.add-lang-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-top:3px;padding-left:2px}.lang-skills-btns[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.save-lang-btn[_ngcontent-%COMP%]{margin-right:10px}.table-container[_ngcontent-%COMP%]   mat-table[_ngcontent-%COMP%]{margin-top:10px}.table[_ngcontent-%COMP%]{width:100%}.mat-column-language[_ngcontent-%COMP%], .mat-column-skill[_ngcontent-%COMP%]{width:40%;text-align:center}.mat-column-options[_ngcontent-%COMP%]{width:20%;text-align:right}.leave-options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{scale:107%;opacity:90%;transition:scale .14s ease}.leave-options[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{cursor:pointer;scale:118%;transform:rotate(3deg)}.leave-options[_ngcontent-%COMP%]   .edit-lang-icon[_ngcontent-%COMP%]:hover{color:#436c21}.leave-options[_ngcontent-%COMP%]   .del-lang-icon[_ngcontent-%COMP%]:hover{color:#6b0b0b}.user-rating-display[_ngcontent-%COMP%]{margin:auto;display:flex;justify-content:center}.user-rating-display[_ngcontent-%COMP%]:hover{cursor:pointer}.user-rating-display[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-rating-display[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ce950c}"]})}return n})(),canActivate:[Jl],data:{authGuardPipe:ed}},{path:"details/:id",component:gTe,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"edit/:id/:languageCode/:name/:language/:subtitleId",component:H9,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"community/edit/:id/:languageCode/:requestId",component:JTe,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"generate-tts/:id/:languageCode",component:XTe,canActivate:[Jl],data:{authGuardPipe:ed}},{path:"shared/:id",component:(()=>{class n{constructor(e,i,r,o,s,a,l,c,d,f,g){this.route=e,this.router=i,this.youtubeService=r,this.dialog=o,this.snackbar=s,this.authService=a,this.translateService=l,this.detailsViewService=c,this.shareService=d,this.communityService=f,this.userService=g,this.videoDetails$=new P(null),this.videoCaptionDetails$=new P(null),this.supportedLanguages$=new P(null),this.loading$=new P(null),this.user$=new P(null),this.publishDate=new P(""),this.dataSource=[],this.regionNamesInEnglish=new Intl.DisplayNames(["en"],{type:"language"}),this.displayedColumns=["Name","Format","Language","Last Updated","Owner","Subtitles"],this.console=console}ngOnInit(){this.videoId=this.route.snapshot.paramMap.get("id"),this.authService.user.pipe(sn(1),St(e=>e?(this.user$.next(e),this.shareService.getSharedSubtitleLanguages(this.user$.value.email,this.videoId)):ne(null))).subscribe({next:e=>{this.loadDataSourceOwnerDetails(e)},error:e=>{this.snackbar.open("Could not load data due to an unexpected error: "+e.message,"OK",{duration:5e3})}}),this.getVideoDetails(),this.getCaptionDetails(),this.getSupportedLanguages()}loadDataSourceOwnerDetails(e){this.dataSource=e;for(let i=0;i<e.length;i++)this.userService.getUserDetails(e[i].usersRights.find(r=>"Owner"===r.right).userUid).pipe(sn(1)).subscribe({next:r=>{this.dataSource[i].ownerName=r.data().displayName,this.dataSource[i].ownerPhoto=r.data().photoURL}})}getVideoDetails(){this.youtubeService.getAllVideoDetails(this.videoId).pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoDetails$.next(e),this.loading$.next(!1),this.publishDate.next(jP(new Date(this.videoDetails$.value[0]?.snippet?.publishedAt))))})}getCaptionDetails(){this.youtubeService.getCaptionDetails(this.videoId).pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{e&&(this.videoCaptionDetails$.next(e),this.loading$.next(!1))})}getSupportedLanguages(){this.translateService.getSupportedLanguages().pipe(ei(()=>{this.loading$.next(!0)})).subscribe(e=>{this.supportedLanguages$.next(e),this.loading$.next(!1)})}editSubtitle(e,i,r,o,s){const a=r.find(d=>"Owner"===d.right).userUid,l=r.find(d=>d.userEmail===this.user$.value.email);let c;c="Viewer"===l.right?"Viewer":"Commenter"===l.right?"Commenter":"Editor"===l.right?"Editor":"",this.shareService.getSubtitleIsUsed(this.videoId,e,s,i,o).then(d=>{null!=d&&d.isUsed&&d.isUsedBy!=this.user$.value.uid?this.communityService.getEmailFromUserID(d.isUsedBy).subscribe(f=>{this.dialog.open(K9,{width:"400px",data:{displayName:f}}).afterClosed().pipe(sn(1)).subscribe(g=>{null==g||null==g?this.dialog.closeAll():g&&this.router.navigate(["edit/shared",this.videoId,this.user$.value.uid,e,i,s,"Viewer",o])})}):this.router.navigate(["edit/shared",this.videoId,a,e,i,s,c,o])})}openProfilePreviewDialog(e){this.dialog.open(W9,{width:"400px",data:e}).afterClosed().pipe(sn(1)).subscribe(r=>{})}shareSubtitle(e,i,r,o,s,a,l){let c="";void 0===l&&(l=""),this.detailsViewService.getUsersRightsFromSharedSub(this.user$.value.uid,this.videoId,i,r,l,e).then(d=>{s=d,this.shareService.getRequestOwnerEmail(this.videoId,i,e,r,l).then(f=>{f&&(c=f),this.dialog.open($9,{width:"600px",id:"shared-dialog",data:{filename:r,usersRights:s,videoId:this.videoId,ISOcode:i,language:e,owner_text:c,format:o,videoTitle:a,subtitleId:l,userEmail:this.user$.value.email}}).afterClosed().pipe(sn(1)).subscribe(g=>{null==g?this.dialog.closeAll():g&&(g.email&&g.right?this.detailsViewService.shareSubtitle(this.videoId,i,e,this.user$.value.uid,r,o,g.email,g.right,l,g.sendNotification):""==g.email&&g.right||g.email&&null==g.right?this.snackbar.open("Both email and right have to be filled","DISMISS",{duration:3e3}):this.detailsViewService.updateSharedSubtitleRights(this.videoId,i,e,this.user$.value.uid,r,o,s,l))})})})}navigateToDashboard(){this.router.navigate(["dashboard"])}static#e=this.\u0275fac=function(i){return new(i||n)(v(zl),v(Ar),v(Kh),v(sa),v(Ls),v(ps),v(la),v(Fa),v(PD),v(Zl),v(yO))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-share-subtitling-container"]],viewQuery:function(i,r){if(1&i&&An(NAe,5),2&i){let o;Vt(o=Bt())&&(r.translateMenu=o.first)}},features:[Wt([la,Fa])],decls:41,vars:12,consts:[[1,"wrapper"],[1,"left-container"],[1,"dashboard-navigation"],["mat-mini-fab","","color","primary","matTooltip","Back to Dashboard",1,"back-button",3,"click"],[1,"video-wrapper"],["class","video-details",4,"ngIf"],[1,"captions-details"],["class","captions",4,"ngFor","ngForOf"],[1,"main-content"],[1,"subtitles-header"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell-name-data","mat-cell","",4,"matCellDef"],["matColumnDef","Format"],["mat-cell","",4,"matCellDef"],["matColumnDef","Language"],["matColumnDef","Last Updated"],["matColumnDef","Owner"],["matColumnDef","Subtitles"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row-data","mat-row","",3,"dblclick",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],[1,"video-details"],["target","_blank",3,"href"],["alt","Video",3,"src"],[1,"title"],[1,"views"],["id","views"],[1,"captions"],["mat-header-cell",""],["mat-cell","",1,"mat-cell-name-data"],["mat-cell",""],["alt","profile-user-img","referrerpolicy","no-referrer",1,"profile-img-element",3,"src","matTooltip","click"],["matTooltip","Edit subtitles","mat-icon-button","","color","primary",3,"click"],["matTooltip","Share subtitles with someone","mat-icon-button","","color","primary",2,"margin-left","10px",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row-data",3,"dblclick"]],template:function(i,r){1&i&&(b(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Te("click",function(){return r.navigateToDashboard()}),b(4,"mat-icon"),O(5,"arrow_back"),x()()(),b(6,"div",4),he(7,LAe,15,13,"div",5),un(8,"async"),b(9,"div",6)(10,"span"),O(11,"Existing Captions in YouTube:"),x(),he(12,VAe,3,4,"span",7),un(13,"async"),x()()(),b(14,"div",8)(15,"div",9)(16,"span"),O(17,"Shared Subtitles"),x()(),b(18,"table",10),bi(19,11),he(20,BAe,2,0,"th",12),he(21,UAe,2,1,"td",13),wi(),bi(22,14),he(23,zAe,2,0,"th",12),he(24,jAe,2,1,"td",15),wi(),bi(25,16),he(26,HAe,2,0,"th",12),he(27,GAe,2,1,"td",15),wi(),bi(28,17),he(29,$Ae,2,0,"th",12),he(30,qAe,3,4,"td",15),wi(),bi(31,18),he(32,WAe,2,0,"th",12),he(33,KAe,2,2,"td",15),wi(),bi(34,19),he(35,ZAe,2,0,"th",12),he(36,YAe,7,0,"td",15),wi(),he(37,QAe,1,0,"tr",20),he(38,XAe,1,0,"tr",21),x()()(),he(39,JAe,1,0,"fullscreen-loader",22),un(40,"async")),2&i&&(k(7),L("ngIf",Mn(8,6,r.videoDetails$)),k(5),L("ngForOf",Mn(13,8,r.videoCaptionDetails$)),k(6),L("dataSource",r.dataSource),k(19),L("matHeaderRowDef",r.displayedColumns),k(1),L("matRowDefColumns",r.displayedColumns),k(1),L("ngIf",Mn(40,10,r.loading$)))},dependencies:[jo,xi,Hh,hb,Ao,Yo,ZD,Fb,YD,Nb,Ob,QD,Lb,Vb,XD,JD,Zh,Js,y1,Yp,Zp,Ry],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;gap:50px;margin-top:20px}.main-content[_ngcontent-%COMP%]{padding-top:10px;margin-right:50px;display:flex;flex-direction:column;flex-grow:1}.left-container[_ngcontent-%COMP%]{max-width:20vw;display:flex;flex-grow:1;flex-direction:column;padding-left:20px}.dashboard-navigation[_ngcontent-%COMP%]{margin-top:5px;display:flex;align-items:center;justify-content:flex-start}.video-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.video-details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.video-details[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#000;font-weight:700;text-decoration:none}.subtitles-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;font-size:32px;gap:30px}.mat-mdc-table[_ngcontent-%COMP%]{background:none;box-shadow:none}  .mat-mdc-menu-content{max-height:700px}.captions-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.views[_ngcontent-%COMP%]{flex:6;font-size:16px;color:gray}.video-wrapper[_ngcontent-%COMP%]{margin-top:20px;box-shadow:#717172 0 10px 35px -10px;border-radius:5px}.title[_ngcontent-%COMP%], .views[_ngcontent-%COMP%], .captions-details[_ngcontent-%COMP%]{padding-left:10px;padding-bottom:5px}.mat-cell-name-data[_ngcontent-%COMP%]{font-weight:700}.mat-column-Format[_ngcontent-%COMP%], .mat-column-Language[_ngcontent-%COMP%], .mat-column-Last-Updated[_ngcontent-%COMP%], .mat-column-Subtitles[_ngcontent-%COMP%], .mat-column-Owner[_ngcontent-%COMP%]{text-align:center}.mat-row-data[_ngcontent-%COMP%]:hover{background-color:#efefef!important}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{scale:100%;transition:scale .2s ease}.mat-row-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:108%;transform:rotate(4deg)}.profile-img-element[_ngcontent-%COMP%]{border-radius:50%;width:35px;height:35px}.profile-img-element[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return n})(),canActivate:[Jl],data:{authGuardPipe:ed}},{path:"edit/shared/:id/:ownerId/:languageCode/:name/:language/:right/:subtitleId",component:H9,canActivate:[Jl],data:{authGuardPipe:ed}}];let n1e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({imports:[Ij.forRoot(t1e),Ij]})}return n})();const i1e=["*",[["mat-toolbar-row"]]],r1e=["*","mat-toolbar-row"],o1e=Wy(class{constructor(n){this._elementRef=n}});let s1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=Se({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),a1e=(()=>{class n extends o1e{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(v(Dt),v(nr),v(fn))},n.\u0275cmp=It({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&ii(r,s1e,5),2&e){let o;Vt(o=Bt())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&hn("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[it],ngContentSelectors:r1e,decls:2,vars:0,template:function(e,i){1&e&&(_r(i1e),Dn(0),Dn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),l1e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[On,On]}),n})();function c1e(n,t){if(1&n){const e=Yt();b(0,"div")(1,"button",3),Te("click",function(){return Xe(e),Ye(se().auth.signOut())}),b(2,"div",4)(3,"span",5),O(4,"logout"),x(),b(5,"span",6),O(6,"Logout"),x()()()()}}function d1e(n,t){if(1&n){const e=Yt();b(0,"div")(1,"button",7),Te("click",function(){return Xe(e),Ye(se().auth.googleSignIn())}),b(2,"div",8)(3,"span",9),O(4,"login"),x(),b(5,"span"),O(6,"Sign Up / Sign in"),x()()()()}}let fW=(()=>{class n{constructor(e){this.auth=e}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps))};static#t=this.\u0275cmp=It({type:n,selectors:[["login-button"]],decls:5,vars:4,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"],[4,"ngIf","ngIfElse"],["login",""],["mat-raised-button","","color","warn",1,"logout-btn",3,"click"],[1,"logout-btn-content"],[1,"material-symbols-outlined"],[2,"margin-top","3px"],["mat-raised-button","","color","primary",1,"login-btn",3,"click"],[1,"login-btn-content"],[1,"material-symbols-outlined",2,"margin-top","3px"]],template:function(i,r){if(1&i&&(vt(0,"link",0),he(1,c1e,7,0,"div",1),un(2,"async"),he(3,d1e,7,0,"ng-template",null,2,Ml)),2&i){const o=tr(4);k(1),L("ngIf",Mn(2,2,r.auth.user))("ngIfElse",o)}},dependencies:[xi,br,Js],styles:[".profile-drop-down[_ngcontent-%COMP%]{position:absolute;top:100%;right:10%;width:320px;overflow:hidden;display:none}.logout-btn-content[_ngcontent-%COMP%], .login-btn-content[_ngcontent-%COMP%]{display:flex}.material-symbols-outlined[_ngcontent-%COMP%]{margin-right:5px}"]})}return n})();const u1e=function(){return{"background-color":"ed"}};function h1e(n,t){if(1&n&&(bi(0),b(1,"span",7),O(2),x(),wi()),2&n){const e=se();k(1),L("ngStyle",xy(2,u1e)),k(1),ln(e.notifications)}}function f1e(n,t){if(1&n&&(b(0,"div",8),vt(1,"img",9),x()),2&n){const e=t.ngIf;k(1),L("src",e.photoURL,Bo)}}function p1e(n,t){1&n&&(b(0,"div"),vt(1,"login-button"),x())}let m1e=(()=>{class n{constructor(e,i,r){this.auth=e,this.router=i,this.messageService=r,this.notifications=0}ngOnInit(){this.auth.user.subscribe(e=>{this.subscription=this.messageService.getMessagesCount(e.uid).subscribe(i=>{this.notifications=i})})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps),v(Ar),v(tO))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-menu"]],decls:17,vars:15,consts:[[3,"routerLink"],[1,"logo"],[1,"menu-items"],[3,"routerLink","matTooltip","matTooltipDisabled"],[4,"ngIf"],[1,"spacer"],["class","user-wrapper","id","user-photo",4,"ngIf"],[1,"notification-badge",3,"ngStyle"],["id","user-photo",1,"user-wrapper"],["alt","user-img","referrerpolicy","no-referrer",1,"user-icon",3,"src"]],template:function(i,r){1&i&&(b(0,"mat-toolbar")(1,"span",0)(2,"div",1),O(3,"S & D"),x()(),b(4,"div",2)(5,"span",0),O(6,"Home"),x(),b(7,"span",3),O(8,"Dashboard"),x(),b(9,"span",3),O(10,"Messages"),he(11,h1e,3,3,"ng-container",4),x()(),vt(12,"span",5),he(13,f1e,2,1,"div",6),un(14,"async"),he(15,p1e,2,0,"div",4),un(16,"async"),x()),2&i&&(k(1),L("routerLink",""),k(4),L("routerLink",""),k(2),L("routerLink","dashboard")("matTooltip","Login to view your Dashboard")("matTooltipDisabled",r.auth.isLoggedIn),k(2),L("routerLink","messages")("matTooltip","Login to view your Messages")("matTooltipDisabled",r.auth.isLoggedIn),k(2),L("ngIf",r.notifications>0),k(2),L("ngIf",Mn(14,11,r.auth.user)),k(2),L("ngIf",!Mn(16,13,r.auth.user)))},dependencies:[xi,nC,wv,Yo,O9,a1e,fW,Js],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.user-wrapper[_ngcontent-%COMP%]{display:flex;gap:10px}.user-name[_ngcontent-%COMP%]{margin:0 10px 0 0}.user-icon[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;cursor:pointer;transition:width .1s,height .1s}.user-icon[_ngcontent-%COMP%]:hover{box-shadow:0 0 7px #00000080;width:47px;height:47px}.user-icon[_ngcontent-%COMP%]:active{box-shadow:0 0 7px #00000080;width:45px;height:45px}.mat-toolbar-single-row[_ngcontent-%COMP%]{background:white;border-bottom:1px solid black;height:80px}.logo[_ngcontent-%COMP%]{border-radius:20px;padding:10px;width:150px;background:black;color:#fff;display:flex;justify-content:center;align-items:center;font-size:32px;font-weight:700;font-family:MartianMono;cursor:pointer}.menu-items[_ngcontent-%COMP%]{padding-left:40px;display:flex;flex-direction:row;justify-content:center;align-items:center;gap:40px;font-family:MartianMono;cursor:pointer}.notification-badge[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;border-radius:50%;background-color:red;color:#fff;text-align:center;font-size:12px;line-height:20px;vertical-align:middle;margin-left:5px}"]})}return n})();function g1e(n,t){if(1&n&&(b(0,"div",5)(1,"h2",6),O(2),x()()),2&n){const e=t.ngIf;k(2),_n(" Hello, ",e.displayName,"! ")}}function _1e(n,t){1&n&&(b(0,"div",7),vt(1,"login-button"),x())}let y1e=(()=>{class n{constructor(e,i){this.auth=e,this.router=i}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps),v(Ar))};static#t=this.\u0275cmp=It({type:n,selectors:[["profile-dropdown"]],decls:11,vars:7,consts:[[1,"no-hide-dd"],["class","hello-txt no-hide-dd",4,"ngIf"],[1,"border","no-hide-dd"],[1,"go-to-settings",3,"routerLink"],["class","logout-btn",4,"ngIf"],[1,"hello-txt","no-hide-dd"],[1,"user-name","no-hide-dd"],[1,"logout-btn"]],template:function(i,r){1&i&&(b(0,"nav",0),he(1,g1e,3,1,"div",1),un(2,"async"),vt(3,"div",2),b(4,"div",3)(5,"mat-icon"),O(6,"settings"),x(),b(7,"p"),O(8,"Profile settings"),x()(),he(9,_1e,2,0,"div",4),un(10,"async"),x()),2&i&&(k(1),L("ngIf",Mn(2,3,r.auth.user)),k(3),L("routerLink","profile"),k(5),L("ngIf",Mn(10,5,r.auth.user)))},dependencies:[xi,wv,Ao,fW,Js],styles:["nav[_ngcontent-%COMP%]{border:0 solid;border-radius:20px;padding:30px;background-color:#fafafa;box-shadow:0 0 7px #00000080}.logout-btn[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.border[_ngcontent-%COMP%]{height:1px;background-image:linear-gradient(to right,transparent,black,transparent);background-position:left bottom,right bottom;background-repeat:no-repeat}.go-to-settings[_ngcontent-%COMP%]{margin-top:20px;border-radius:15px;padding:4px;display:flex;cursor:pointer;transition:background-color .1s,height .1s}.go-to-settings[_ngcontent-%COMP%]:hover{background-color:#c7c7c7;border-radius:15px}.go-to-settings[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:3px;padding-left:10px;padding-top:10px}.go-to-settings[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-top:10px}.user-name[_ngcontent-%COMP%]{text-align:center}.hello-txt[_ngcontent-%COMP%]{max-width:220px}"]})}return n})();function v1e(n,t){1&n&&(b(0,"div",2),vt(1,"profile-dropdown"),x()),2&n&&hn("dd-activated",se().showMenuDD)}let b1e=(()=>{class n{constructor(e){this.auth=e,this.showMenuDD=!1}toggleDropDown(e){this.showMenuDD=!(null==e.target.classList||(this.showMenuDD?e.target.classList.contains("user-icon")?this.showMenuDD:!e.target.classList.contains("no-hide-dd"):!e.target.classList.contains("user-icon")||this.showMenuDD))}static#e=this.\u0275fac=function(i){return new(i||n)(v(ps))};static#t=this.\u0275cmp=It({type:n,selectors:[["app-root"]],decls:4,vars:1,consts:[[3,"click"],["class","profile-drop-down",3,"dd-activated",4,"ngIf"],[1,"profile-drop-down"]],template:function(i,r){1&i&&(b(0,"div",0),Te("click",function(s){return r.toggleDropDown(s)}),he(1,v1e,2,2,"div",1),vt(2,"app-menu")(3,"router-outlet"),x()),2&i&&(k(1),L("ngIf",r.showMenuDD))},dependencies:[xi,Pk,m1e,y1e],styles:[".main-view-login[_ngcontent-%COMP%]{padding-top:10px;display:flex;justify-content:center;flex-direction:column;align-items:center}.call-to-action_login[_ngcontent-%COMP%]{padding-top:15px;text-align:center}.call-to-action_login[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600}.mdc-card[_ngcontent-%COMP%]{flex-direction:row}.cards-container[_ngcontent-%COMP%]{display:flex;margin-top:60px;gap:100px;flex-wrap:wrap;justify-content:center}.profile-drop-down[_ngcontent-%COMP%]{font-family:MartianMono;position:absolute;z-index:20;top:100px;right:20px;opacity:1;animation-name:_ngcontent-%COMP%_show-dd;animation-duration:.3s}@keyframes _ngcontent-%COMP%_show-dd{0%{opacity:0}to{opacity:1}}"]})}return n})();function pW(n){return new X(3e3,!1)}function hu(n){switch(n.length){case 0:return new By;case 1:return n[0];default:return new LU(n)}}function mW(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),d=c==s,f=d&&a||new Map;l.forEach((g,y)=>{let C=y,R=g;if("offset"!==y)switch(C=n.normalizePropertyName(C,r),R){case"!":R=e.get(y);break;case Ac:R=i.get(y);break;default:R=n.normalizeStyleValue(y,C,R,r)}f.set(C,R)}),d||o.push(f),a=f,s=c}),r.length)throw function H1e(n){return new X(3502,!1)}();return o}function PO(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&OO(e,"start",n)));break;case"done":n.onDone(()=>i(e&&OO(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&OO(e,"destroy",n)))}}function OO(n,t,e){const o=FO(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function FO(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ca(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function gW(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const tke=(()=>typeof document>"u"?null:document.documentElement)();function NO(n){const t=n.parentNode||n.host||null;return t===tke?null:t}let ef=null,_W=!1;function yW(n,t){for(;t;){if(t===n)return!0;t=NO(t)}return!1}function vW(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let bW=(()=>{class n{validateStyleProperty(e){return function ike(n){ef||(ef=function rke(){return typeof document<"u"?document.body:null}()||{},_W=!!ef.style&&"WebkitAppearance"in ef.style);let t=!0;return ef.style&&!function nke(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ef.style,!t&&_W&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ef.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return yW(e,i)}getParentElement(e){return NO(e)}query(e,i,r){return vW(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new By(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})(),LO=(()=>{class n{static#e=this.NOOP=new bW}return n})();const oke=1e3,VO="ng-enter",tI="ng-leave",nI="ng-trigger",iI=".ng-trigger",xW="ng-animating",BO=".ng-animating";function td(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:UO(parseFloat(t[1]),t[2])}function UO(n,t){return"s"===t?n*oke:n}function rI(n,t,e){return n.hasOwnProperty("duration")?n:function ake(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(pW()),{duration:0,delay:0,easing:""};r=UO(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=UO(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function w1e(){return new X(3100,!1)}()),a=!0),o<0&&(t.push(function x1e(){return new X(3101,!1)}()),a=!0),a&&t.splice(l,0,pW())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Ub(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function CW(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function fu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function ec(n,t,e){t.forEach((i,r)=>{const o=jO(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function tf(n,t){t.forEach((e,i)=>{const r=jO(i);n.style[r]=""})}function zb(n){return Array.isArray(n)?1==n.length?n[0]:NU(n):n}const zO=new RegExp("{{\\s*(.+?)\\s*}}","g");function DW(n){let t=[];if("string"==typeof n){let e;for(;e=zO.exec(n);)t.push(e[1]);zO.lastIndex=0}return t}function jb(n,t,e){const i=n.toString(),r=i.replace(zO,(o,s)=>{let a=t[s];return null==a&&(e.push(function E1e(n){return new X(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function oI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const dke=/-+([a-z0-9])/g;function jO(n){return n.replace(dke,(...t)=>t[1].toUpperCase())}function da(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function D1e(n){return new X(3004,!1)}()}}function IW(n,t){return window.getComputedStyle(n)[t]}const sI="*";function fke(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function pke(n,t,e){if(":"==n[0]){const l=function mke(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function B1e(n){return new X(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function V1e(n){return new X(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(SW(r,s));"<"==o[0]&&!(r==sI&&s==sI)&&t.push(SW(s,r))}(i,e,t)):e.push(n),e}const aI=new Set(["true","1"]),lI=new Set(["false","0"]);function SW(n,t){const e=aI.has(n)||lI.has(n),i=aI.has(t)||lI.has(t);return(r,o)=>{let s=n==sI||n==r,a=t==sI||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?aI.has(n):lI.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?aI.has(t):lI.has(t)),s&&a}}const gke=new RegExp("s*:selfs*,?","g");function HO(n,t,e,i){return new _ke(n).build(t,e,i)}class _ke{constructor(t){this._driver=t}build(t,e,i){const r=new bke(e);return this._resetContextStyleTimingState(r),da(this,zb(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function S1e(){return new X(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function T1e(){return new X(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{DW(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(oI(o.values()),e.errors.push(function A1e(n,t){return new X(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=da(this,zb(t.animation),e);return{type:1,matchers:fke(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:nf(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>da(this,i,e)),options:nf(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=da(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:nf(t.options)}}visitAnimate(t,e){const i=function xke(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GO(rI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=GO(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=rI(e,t);return GO(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:In({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=In(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Ac?i.push(a):e.errors.push(new X(3002,!1)):i.push(CW(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l);let f=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function M1e(n,t,e,i,r){return new X(3010,!1)}()),f=!1),o=d.startTime),f&&c.set(l,{startTime:o,endTime:r}),e.options&&function cke(n,t,e){const i=t.params||{},r=DW(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function C1e(n){return new X(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function R1e(){return new X(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const d=t.steps.map(te=>{const ie=this._makeStyleAst(te,e);let ye=null!=ie.offset?ie.offset:function wke(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ie.styles),Ve=0;return null!=ye&&(o++,Ve=ie.offset=ye),l=l||Ve<0||Ve>1,a=a||Ve<c,c=Ve,s.push(Ve),ie});l&&e.errors.push(function P1e(){return new X(3012,!1)}()),a&&e.errors.push(function O1e(){return new X(3200,!1)}());const f=t.steps.length;let g=0;o>0&&o<f?e.errors.push(function F1e(){return new X(3202,!1)}()):0==o&&(g=1/(f-1));const y=f-1,C=e.currentTime,R=e.currentAnimateTimings,F=R.duration;return d.forEach((te,ie)=>{const ye=g>0?ie==y?1:g*ie:s[ie],Ve=ye*F;e.currentTime=C+R.delay+Ve,R.duration=Ve,this._validateStyleAst(te,e),te.offset=ye,i.styles.push(te)}),i}visitReference(t,e){return{type:8,animation:da(this,zb(t.animation),e),options:nf(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nf(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nf(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function yke(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(gke,"")),n=n.replace(/@\*/g,iI).replace(/@\w+/g,e=>iI+"-"+e.slice(1)).replace(/:animating/g,BO),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ca(e.collectedStyles,e.currentQuerySelector,new Map);const a=da(this,zb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:nf(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function N1e(){return new X(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rI(t.timings,e.errors,!0);return{type:12,animation:da(this,zb(t.animation),e),timings:i,options:null}}}class bke{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nf(n){return n?(n=Ub(n)).params&&(n.params=function vke(n){return n?Ub(n):null}(n.params)):n={},n}function GO(n,t,e){return{duration:n,delay:t,easing:e}}function $O(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class cI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Dke=new RegExp(":enter","g"),Ske=new RegExp(":leave","g");function qO(n,t,e,i,r,o=new Map,s=new Map,a,l,c=[]){return(new Tke).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class Tke{buildKeyframes(t,e,i,r,o,s,a,l,c,d=[]){c=c||new cI;const f=new WO(t,e,c,r,o,d,[]);f.options=l;const g=l.delay?td(l.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([s],null,f.errors,l),da(this,i,f);const y=f.timelines.filter(C=>C.containsAnimation());if(y.length&&a.size){let C;for(let R=y.length-1;R>=0;R--){const F=y[R];if(F.element===e){C=F;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,f.errors,l)}return y.length?y.map(C=>C.buildKeyframes()):[$O(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:td(jb(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?td(i.duration):null,a=null!=i.delay?td(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),da(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dI);const s=td(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>da(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?td(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),da(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return rI(e.params?jb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?td(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dI);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),da(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const f=d.currentTime;da(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const dI={};class WO{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new uI(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=td(i.duration)),null!=i.delay&&(r.delay=td(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=jb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new WO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=dI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Ake(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Dke,"."+this._enterClassName)).replace(Ske,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function L1e(n){return new X(3014,!1)}()),a}}class uI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ac),this._currentKeyframe.set(e,Ac);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function kke(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ac)}else fu(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of s){const c=jb(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ac),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=fu(a,new Map,this._backFill);c.forEach((d,f)=>{"!"===d?t.add(f):d===Ac&&e.add(f)}),i||c.set("offset",l/this.duration),r.push(c)});const o=t.size?oI(t.values()):[],s=e.size?oI(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return $O(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Ake extends uI{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=fu(t[0]);l.set("offset",0),o.push(l);const c=fu(t[0]);c.set("offset",kW(a)),o.push(c);const d=t.length-1;for(let f=1;f<=d;f++){let g=fu(t[f]);const y=g.get("offset");g.set("offset",kW((e+y*i)/s)),o.push(g)}i=s,e=0,r="",t=o}return $O(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function kW(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class KO{}const Mke=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rke extends KO{normalizePropertyName(t,e){return jO(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(Mke.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function I1e(n,t){return new X(3005,!1)}())}return s+o}}function MW(n,t,e,i,r,o,s,a,l,c,d,f,g){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:f,errors:g}}const ZO={};class RW{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Pke(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,l,c,d){const f=[],g=this.ast.options&&this.ast.options.params||ZO,C=this.buildStyles(i,a&&a.params||ZO,f),R=l&&l.params||ZO,F=this.buildStyles(r,R,f),te=new Set,ie=new Map,ye=new Map,Ve="void"===r,_t={params:Oke(R,g),delay:this.ast.options?.delay},At=d?[]:qO(t,e,this.ast.animation,o,s,C,F,_t,c,f);let ue=0;if(At.forEach(de=>{ue=Math.max(de.duration+de.delay,ue)}),f.length)return MW(e,this._triggerName,i,r,Ve,C,F,[],[],ie,ye,ue,f);At.forEach(de=>{const Ie=de.element,ke=ca(ie,Ie,new Set);de.preStyleProps.forEach(me=>ke.add(me));const Le=ca(ye,Ie,new Set);de.postStyleProps.forEach(me=>Le.add(me)),Ie!==e&&te.add(Ie)});const J=oI(te.values());return MW(e,this._triggerName,i,r,Ve,C,F,At,J,ie,ye,ue)}}function Oke(n,t){const e=Ub(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Fke{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Ub(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=jb(s,r,e));const l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),i.set(a,s)})}),i}}class Lke{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Fke(r.style,r.options&&r.options.params||{},i))}),PW(this.states,"true","1"),PW(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new RW(t,r,this.states))}),this.fallbackTransition=function Vke(n,t,e){return new RW(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function PW(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Bke=new cI;class Uke{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=HO(this._driver,e,i,[]);if(i.length)throw function G1e(n){return new X(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=mW(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=qO(this._driver,e,o,VO,tI,new Map,new Map,i,Bke,r),s.forEach(d=>{const f=ca(a,d.element,new Map);d.postStyleProps.forEach(g=>f.set(g,null))})):(r.push(function $1e(){return new X(3300,!1)}()),s=[]),r.length)throw function q1e(n){return new X(3504,!1)}();a.forEach((d,f)=>{d.forEach((g,y)=>{d.set(y,this._driver.computeStyle(f,y,Ac))})});const c=hu(s.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function W1e(n){return new X(3301,!1)}();return e}listen(t,e,i,r){const o=FO(e,"","","");return PO(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const OW="ng-animate-queued",YO="ng-animate-disabled",$ke=[],FW={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qke={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},sl="__ng_removed";class QO{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Yke(n){return n??null}(i?t.value:t),i){const o=Ub(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Hb="void",XO=new QO(Hb);class Wke{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Na(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function K1e(n,t){return new X(3302,!1)}();if(null==i||0==i.length)throw function Z1e(n){return new X(3303,!1)}();if(!function Qke(n){return"start"==n||"done"==n}(i))throw function Y1e(n,t){return new X(3400,!1)}();const o=ca(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ca(this._engine.statesByElement,t,new Map);return a.has(e)||(Na(t,nI),Na(t,nI+"-"+e),a.set(e,XO)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Q1e(n){return new X(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new JO(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Na(t,nI),Na(t,nI+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new QO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=XO),c.value!==Hb&&l.value===c.value){if(!function eMe(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const R=[],F=o.matchStyles(l.value,l.params,R),te=o.matchStyles(c.value,c.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{tf(t,F),ec(t,te)})}return}const g=ca(this._engine.playersByElement,t,[]);g.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let y=o.matchTransition(l.value,c.value,t,c.params),C=!1;if(!y){if(!r)return;y=o.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:y,fromState:l,toState:c,player:s,isFallbackTransition:C}),C||(Na(t,OW),s.onStart(()=>{Ig(t,OW)})),s.onDone(()=>{let R=this.players.indexOf(s);R>=0&&this.players.splice(R,1);const F=this._engine.playersByElement.get(t);if(F){let te=F.indexOf(s);te>=0&&F.splice(te,1)}}),this.players.push(s),g.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,iI,!0);i.forEach(r=>{if(r[sl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const d=this.trigger(t,c,Hb,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&hu(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||XO,d=new QO(Hb),f=new JO(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[sl];(!o||o===FW)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Na(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=FO(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,PO(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Kke{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Wke(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(hI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!hI(e))return;const o=e[sl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Na(t,YO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ig(t,YO))}removeNode(t,e,i){if(hI(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[sl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return hI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,iI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,BO,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hu(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[sl];if(e&&e.setForRemoval){if(t[sl]=FW,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(YO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Na(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hu(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function X1e(n){return new X(3402,!1)}()}_flushAnimations(t,e){const i=new cI,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(Kt=>{d.add(Kt);const tn=this.driver.query(Kt,".ng-animate-queued",!0);for(let cn=0;cn<tn.length;cn++)d.add(tn[cn])});const f=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=VW(g,this.collectedEnterElements),C=new Map;let R=0;y.forEach((Kt,tn)=>{const cn=VO+R++;C.set(tn,cn),Kt.forEach($n=>Na($n,cn))});const F=[],te=new Set,ie=new Set;for(let Kt=0;Kt<this.collectedLeaveElements.length;Kt++){const tn=this.collectedLeaveElements[Kt],cn=tn[sl];cn&&cn.setForRemoval&&(F.push(tn),te.add(tn),cn.hasAnimation?this.driver.query(tn,".ng-star-inserted",!0).forEach($n=>te.add($n)):ie.add(tn))}const ye=new Map,Ve=VW(g,Array.from(te));Ve.forEach((Kt,tn)=>{const cn=tI+R++;ye.set(tn,cn),Kt.forEach($n=>Na($n,cn))}),t.push(()=>{y.forEach((Kt,tn)=>{const cn=C.get(tn);Kt.forEach($n=>Ig($n,cn))}),Ve.forEach((Kt,tn)=>{const cn=ye.get(tn);Kt.forEach($n=>Ig($n,cn))}),F.forEach(Kt=>{this.processLeaveNode(Kt)})});const _t=[],At=[];for(let Kt=this._namespaceList.length-1;Kt>=0;Kt--)this._namespaceList[Kt].drainQueuedTransitions(e).forEach(cn=>{const $n=cn.player,Er=cn.element;if(_t.push($n),this.collectedEnterElements.length){const Rr=Er[sl];if(Rr&&Rr.setForMove){if(Rr.previousTriggersValues&&Rr.previousTriggersValues.has(cn.triggerName)){const rd=Rr.previousTriggersValues.get(cn.triggerName),Hs=this.statesByElement.get(cn.element);if(Hs&&Hs.has(cn.triggerName)){const od=Hs.get(cn.triggerName);od.value=rd,Hs.set(cn.triggerName,od)}}return void $n.destroy()}}const js=!f||!this.driver.containsElement(f,Er),cr=ye.get(Er),Pi=C.get(Er),Xi=this._buildInstruction(cn,i,Pi,cr,js);if(Xi.errors&&Xi.errors.length)return void At.push(Xi);if(js)return $n.onStart(()=>tf(Er,Xi.fromStyles)),$n.onDestroy(()=>ec(Er,Xi.toStyles)),void r.push($n);if(cn.isFallbackTransition)return $n.onStart(()=>tf(Er,Xi.fromStyles)),$n.onDestroy(()=>ec(Er,Xi.toStyles)),void r.push($n);const Du=[];Xi.timelines.forEach(Rr=>{Rr.stretchStartingKeyframe=!0,this.disabledNodes.has(Rr.element)||Du.push(Rr)}),Xi.timelines=Du,i.append(Er,Xi.timelines),s.push({instruction:Xi,player:$n,element:Er}),Xi.queriedElements.forEach(Rr=>ca(a,Rr,[]).push($n)),Xi.preStyleProps.forEach((Rr,rd)=>{if(Rr.size){let Hs=l.get(rd);Hs||l.set(rd,Hs=new Set),Rr.forEach((od,Iu)=>Hs.add(Iu))}}),Xi.postStyleProps.forEach((Rr,rd)=>{let Hs=c.get(rd);Hs||c.set(rd,Hs=new Set),Rr.forEach((od,Iu)=>Hs.add(Iu))})});if(At.length){const Kt=[];At.forEach(tn=>{Kt.push(function J1e(n,t){return new X(3505,!1)}())}),_t.forEach(tn=>tn.destroy()),this.reportError(Kt)}const ue=new Map,J=new Map;s.forEach(Kt=>{const tn=Kt.element;i.has(tn)&&(J.set(tn,tn),this._beforeAnimationBuild(Kt.player.namespaceId,Kt.instruction,ue))}),r.forEach(Kt=>{const tn=Kt.element;this._getPreviousPlayers(tn,!1,Kt.namespaceId,Kt.triggerName,null).forEach($n=>{ca(ue,tn,[]).push($n),$n.destroy()})});const de=F.filter(Kt=>UW(Kt,l,c)),Ie=new Map;LW(Ie,this.driver,ie,c,Ac).forEach(Kt=>{UW(Kt,l,c)&&de.push(Kt)});const Le=new Map;y.forEach((Kt,tn)=>{LW(Le,this.driver,new Set(Kt),l,"!")}),de.forEach(Kt=>{const tn=Ie.get(Kt),cn=Le.get(Kt);Ie.set(Kt,new Map([...tn?.entries()??[],...cn?.entries()??[]]))});const me=[],zs=[],oc={};s.forEach(Kt=>{const{element:tn,player:cn,instruction:$n}=Kt;if(i.has(tn)){if(d.has(tn))return cn.onDestroy(()=>ec(tn,$n.toStyles)),cn.disabled=!0,cn.overrideTotalTime($n.totalTime),void r.push(cn);let Er=oc;if(J.size>1){let cr=tn;const Pi=[];for(;cr=cr.parentNode;){const Xi=J.get(cr);if(Xi){Er=Xi;break}Pi.push(cr)}Pi.forEach(Xi=>J.set(Xi,Er))}const js=this._buildAnimation(cn.namespaceId,$n,ue,o,Le,Ie);if(cn.setRealPlayer(js),Er===oc)me.push(cn);else{const cr=this.playersByElement.get(Er);cr&&cr.length&&(cn.parentPlayer=hu(cr)),r.push(cn)}}else tf(tn,$n.fromStyles),cn.onDestroy(()=>ec(tn,$n.toStyles)),zs.push(cn),d.has(tn)&&r.push(cn)}),zs.forEach(Kt=>{const tn=o.get(Kt.element);if(tn&&tn.length){const cn=hu(tn);Kt.setRealPlayer(cn)}}),r.forEach(Kt=>{Kt.parentPlayer?Kt.syncPlayerEvents(Kt.parentPlayer):Kt.destroy()});for(let Kt=0;Kt<F.length;Kt++){const tn=F[Kt],cn=tn[sl];if(Ig(tn,tI),cn&&cn.hasAnimation)continue;let $n=[];if(a.size){let js=a.get(tn);js&&js.length&&$n.push(...js);let cr=this.driver.query(tn,BO,!0);for(let Pi=0;Pi<cr.length;Pi++){let Xi=a.get(cr[Pi]);Xi&&Xi.length&&$n.push(...Xi)}}const Er=$n.filter(js=>!js.destroyed);Er.length?Xke(this,tn,Er):this.processLeaveNode(tn)}return F.length=0,me.forEach(Kt=>{this.players.push(Kt),Kt.onDone(()=>{Kt.destroy();const tn=this.players.indexOf(Kt);this.players.splice(tn,1)}),Kt.play()}),me}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Hb;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==o,f=ca(i,c,[]);this._getPreviousPlayers(c,d,s,a,e.toState).forEach(y=>{const C=y.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),y.destroy(),f.push(y)})}tf(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],d=new Set,f=new Set,g=e.timelines.map(C=>{const R=C.element;d.add(R);const F=R[sl];if(F&&F.removedBeforeQueried)return new By(C.duration,C.delay);const te=R!==l,ie=function Jke(n){const t=[];return BW(n,t),t}((i.get(R)||$ke).map(ue=>ue.getRealPlayer())).filter(ue=>!!ue.element&&ue.element===R),ye=o.get(R),Ve=s.get(R),_t=mW(this._normalizer,C.keyframes,ye,Ve),At=this._buildPlayer(C,_t,ie);if(C.subTimeline&&r&&f.add(R),te){const ue=new JO(t,a,R);ue.setRealPlayer(At),c.push(ue)}return At});c.forEach(C=>{ca(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>function Zke(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,C.element,C))}),d.forEach(C=>Na(C,xW));const y=hu(g);return y.onDestroy(()=>{d.forEach(C=>Ig(C,xW)),ec(l,e.toStyles)}),f.forEach(C=>{ca(r,C,[]).push(y)}),y}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new By(t.duration,t.delay)}}class JO{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new By,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>PO(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ca(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hI(n){return n&&1===n.nodeType}function NW(n,t){const e=n.style.display;return n.style.display=t??"none",e}function LW(n,t,e,i,r){const o=[];e.forEach(l=>o.push(NW(l)));const s=[];i.forEach((l,c)=>{const d=new Map;l.forEach(f=>{const g=t.computeStyle(c,f,r);d.set(f,g),(!g||0==g.length)&&(c[sl]=qke,s.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>NW(l,o[a++])),s}function VW(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Na(n,t){n.classList?.add(t)}function Ig(n,t){n.classList?.remove(t)}function Xke(n,t,e){hu(e).onDone(()=>n.processLeaveNode(t))}function BW(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof LU?BW(i.players,t):t.push(i)}}function UW(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class fI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Kke(t,e,i),this._timelineEngine=new Uke(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],d=HO(this._driver,o,l,[]);if(l.length)throw function j1e(n,t){return new X(3404,!1)}();a=function Nke(n,t,e){return new Lke(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=gW(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=gW(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let nMe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ec(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ec(this._element,this._initialStyles),this._endStyles&&(ec(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(tf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tf(this._element,this._endStyles),this._endStyles=null),ec(this._element,this._initialStyles),this._state=3)}}return n})();function eF(n){let t=null;return n.forEach((e,i)=>{(function iMe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class zW{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:IW(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class rMe{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return yW(t,e)}getParentElement(t){return NO(t)}query(t,e,i){return vW(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,d=s.filter(y=>y instanceof zW);(function uke(n,t){return 0===n||0===t})(i,r)&&d.forEach(y=>{y.currentSnapshot.forEach((C,R)=>c.set(R,C))});let f=function lke(n){return n.length?n[0]instanceof Map?n:n.map(t=>CW(t)):[]}(e).map(y=>fu(y));f=function hke(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,IW(n,a)))}}return t}(t,f,c);const g=function tMe(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=eF(t[0]),t.length>1&&(i=eF(t[t.length-1]))):t instanceof Map&&(e=eF(t)),e||i?new nMe(n,e,i):null}(t,f);return new zW(t,f,l,g)}}let oMe=(()=>{class n extends OU{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Dr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?NU(e):e;return jW(this._renderer,null,i,"register",[r]),new sMe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oy),Y(fn))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();class sMe extends uae{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new aMe(this._id,t,e||{},this._renderer)}}class aMe{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jW(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jW(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const HW="@.disabled";let lMe=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new GW("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(l),new cMe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(oy),Y(fI),Y(Lt))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})();class GW{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==HW?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class cMe extends GW{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==HW?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function dMe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function uMe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const $W=[{provide:OU,useClass:oMe},{provide:KO,useFactory:function fMe(){return new Rke}},{provide:fI,useClass:(()=>{class n extends fI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(Y(fn),Y(LO),Y(KO),Y(Ec))};static#t=this.\u0275prov=Ge({token:n,factory:n.\u0275fac})}return n})()},{provide:oy,useFactory:function pMe(n,t,e){return new lMe(n,t,e)},deps:[T1,fI,Lt]}],tF=[{provide:LO,useFactory:()=>new rMe},{provide:Uo,useValue:"BrowserAnimations"},...$W],qW=[{provide:LO,useClass:bW},{provide:Uo,useValue:"NoopAnimations"},...$W];let mMe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?qW:tF}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n});static#n=this.\u0275inj=qt({providers:tF,imports:[EU]})}return n})(),e7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[aO]}),n})(),LRe=(()=>{class n{constructor(e,i){Ol(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:ol,useValue:{...lO,...e}},{provide:cO,useValue:i,multi:!0},{provide:wg,useValue:!0}]:[{provide:ol,useValue:{...lO,...e}},{provide:cO,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(Y(wg),Y(gr))},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[A9,N9,e7,A9,N9,e7]}),n})(),URe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[ea,On]}),n})();const t7="@firebase/database";let nF="";function iF(n){nF=n}class zRe{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,W.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,W.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class jRe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,W.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const i7=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new zRe(t)}}catch{}return new jRe},rf=i7("localStorage"),rF=i7("sessionStorage"),Sg=new na.Yd("@firebase/database"),r7=function(){let n=1;return function(){return n++}}(),o7=function(n){const t=(0,W.dS)(n),e=new W.gQ;e.update(t);const i=e.digest();return W.US.encodeByteArray(i)},Gb=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Gb.apply(null,i):t+="object"==typeof i?(0,W.Wl)(i):i,t+=" "}return t};let sf=null,s7=!0;const a7=function(n,t){(0,W.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Sg.logLevel=na.in.VERBOSE,sf=Sg.log.bind(Sg),t&&rF.set("logging_enabled",!0)):"function"==typeof n?sf=n:(sf=null,rF.remove("logging_enabled"))},fo=function(...n){if(!0===s7&&(s7=!1,null===sf&&!0===rF.get("logging_enabled")&&a7(!0)),sf){const t=Gb.apply(null,n);sf(t)}},$b=function(n){return function(...t){fo(n,...t)}},oF=function(...n){const t="FIREBASE INTERNAL ERROR: "+Gb(...n);Sg.error(t)},tc=function(...n){const t=`FIREBASE FATAL ERROR: ${Gb(...n)}`;throw Sg.error(t),new Error(t)},Xo=function(...n){const t="FIREBASE WARNING: "+Gb(...n);Sg.warn(t)},mI=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pu="[MIN_NAME]",nd="[MAX_NAME]",af=function(n,t){if(n===t)return 0;if(n===pu||t===nd)return-1;if(t===pu||n===nd)return 1;{const e=d7(n),i=d7(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},$Re=function(n,t){return n===t?0:n<t?-1:1},qb=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,W.Wl)(t))},sF=function(n){if("object"!=typeof n||null===n)return(0,W.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,W.Wl)(t[i]),e+=":",e+=sF(n[t[i]]);return e+="}",e},l7=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function po(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const c7=function(n){(0,W.hu)(!mI(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const d=c.join("");let f="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);1===g.length&&(g="0"+g),f+=g}return f.toLowerCase()},ZRe=new RegExp("^-?(0*)\\d{1,10}$"),d7=function(n){if(ZRe.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Tg=function(n){try{n()}catch(t){setTimeout(()=>{throw Xo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Wb=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class JRe{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Xo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ePe{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(fo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xo(t)}}let Kb=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const m7=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,y7="websocket",v7="long_polling";class lF{constructor(t,e,i,r,o=!1,s="",a=!1,l=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rf.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&rf.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function b7(n,t,e){let i;if((0,W.hu)("string"==typeof t,"typeof type must == string"),(0,W.hu)("object"==typeof e,"typeof params must == object"),t===y7)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==v7)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function tPe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return po(e,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class nPe{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,W.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,W.p$)(this.counters_)}}const cF={},dF={};function uF(n){const t=n.toString();return cF[t]||(cF[t]=new nPe),cF[t]}class rPe{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Tg(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class mu{constructor(t,e,i,r,o,s,a){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$b(t),this.stats_=uF(e),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),b7(e,v7,l))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new rPe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,W.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hF((...o)=>{const[s,a,l,c,d]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&m7.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){mu.forceAllow_=!0}static forceDisallow(){mu.forceDisallow_=!0}static isAvailable(){return!((0,W.Yr)()||!mu.forceAllow_&&(mu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,W.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,W.h$)(e),r=l7(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,W.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,W.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class hF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,W.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=r7(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=hF.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){fo("frame writing exception"),a.stack&&fo(a.stack),fo(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,W.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{fo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let _I=null;typeof MozWebSocket<"u"?_I=MozWebSocket:typeof WebSocket<"u"&&(_I=WebSocket);let Ag=(()=>{class n{constructor(e,i,r,o,s,a,l){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$b(this.connId),this.stats_=uF(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,s){const a={v:"5"};return!(0,W.Yr)()&&typeof location<"u"&&location.hostname&&m7.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),b7(e,y7,a)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rf.set("previous_websocket_failure",!0);try{let r;if((0,W.Yr)()){r={headers:{"User-Agent":`Firebase/5/${nF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const s=process.env,a=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new _I(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==_I&&!n.forceDisallow_}static previouslyFailed(){return rf.isInMemoryStorage||!0===rf.get("previous_websocket_failure")}markConnectionHealthy(){rf.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,W.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,W.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,W.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=l7(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),S7=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[mu,Ag]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ag&&Ag.isAvailable();let r=i&&!Ag.previouslyFailed();if(e.webSocketOnly&&(i||Xo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ag];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class O7{constructor(t,e,i,r,o,s,a,l,c,d){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$b("c:"+this.id+":"),this.transportManager_=new S7(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Wb(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=qb("t",t),i=qb("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=qb("t",t),i=qb("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=qb("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?oF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):oF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Xo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Wb(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wb(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rf.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class F7{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class N7{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,W.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,W.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class yI extends N7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,W.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yI}getInitialEvent(t){return(0,W.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class _i{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function li(){return new _i("")}function Hn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function gu(n){return n.pieces_.length-n.pieceNum_}function Ri(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new _i(n.pieces_,t)}function pF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Zb(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function B7(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new _i(t,0)}function lr(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof _i)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new _i(e,0)}function Gn(n){return n.pieceNum_>=n.pieces_.length}function vs(n,t){const e=Hn(n),i=Hn(t);if(null===e)return t;if(e===i)return vs(Ri(n),Ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function IPe(n,t){const e=Zb(n,0),i=Zb(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=af(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function mF(n,t){if(gu(n)!==gu(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function La(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(gu(n)>gu(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class SPe{constructor(t,e){this.errorPrefix_=e,this.parts_=Zb(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,W.ug)(this.parts_[i]);U7(this)}}function U7(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+lf(n))}function lf(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class gF extends N7{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new gF}getInitialEvent(t){return(0,W.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Yb=1e3;let bI,cf=(()=>{class n extends F7{constructor(e,i,r,o,s,a,l,c){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=$b("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,W.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&yI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,s={r:o,a:e,b:i};this.log_((0,W.Wl)(s)),(0,W.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new W.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,W.hu)(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};e.tag&&(s.q=i._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,d=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",l),"ok"!==d&&this.removeListen_(r,o),e.onComplete&&e.onComplete(d,c))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,W.r3)(e,"w")){const r=(0,W.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Xo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,W.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,W.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===e&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,W.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const s={p:e};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,W.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):oF("Unrecognized action received from server: "+(0,W.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,W.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yb,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Yb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,$e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),s=e.id+":"+n.nextConnectionId_++,a=e.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,o())};e.realtime_={close:d,sendRequest:function(y){(0,W.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(y)}};const g=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[y,C]=yield Promise.all([e.authTokenProvider_.getToken(g),e.appCheckTokenProvider_.getToken(g)]);l?fo("getToken() completed but was canceled"):(fo("getToken() completed. Creating connection."),e.authToken_=y&&y.accessToken,e.appCheckToken_=C&&C.token,c=new O7(s,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,R=>{Xo(R+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},a))}catch(y){e.log_("Failed to get token: "+y),l||(e.repoInfo_.nodeAdmin&&Xo(y),d())}}})()}interrupt(e){fo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,W.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Yb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(s=>sF(s)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new _i(e).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){fo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){fo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,W.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+nF.replace(/\./g,"-")]=1,(0,W.uI)()?e["framework.cordova"]=1:(0,W.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=yI.getInstance().currentlyOnline();return(0,W.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Zn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Zn(t,e)}}class vI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Zn(pu,t),r=new Zn(pu,e);return 0!==this.compare(i,r)}minPost(){return Zn.MIN}}class H7 extends vI{static get __EMPTY_NODE(){return bI}static set __EMPTY_NODE(t){bI=t}compare(t,e){return af(t.name,e.name)}isDefinedOn(t){throw(0,W.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Zn.MIN}maxPost(){return new Zn(nd,bI)}makePost(t,e){return(0,W.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Zn(t,bI)}toString(){return".key"}}const nc=new H7;class wI{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,r&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let yF,al=(()=>{class n{constructor(e,i,r,o,s){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Bs.EMPTY_NODE,this.right=s??Bs.EMPTY_NODE}copy(e,i,r,o,s){return new n(e??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Bs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Bs.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Bs{constructor(t,e=Bs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Bs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,al.BLACK,null,null))}remove(t){return new Bs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,al.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new wI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new wI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new wI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new wI(this.root_,null,this.comparator_,!0,t)}}function FPe(n,t){return af(n.name,t.name)}function _F(n,t){return af(n,t)}Bs.EMPTY_NODE=new class OPe{copy(t,e,i,r,o){return this}insert(t,e,i){return new al(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const G7=function(n){return"number"==typeof n?"number:"+c7(n):"string:"+n},$7=function(n){if(n.isLeafNode()){const t=n.val();(0,W.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,W.r3)(t,".sv"),"Priority must be a string or number.")}else(0,W.hu)(n===yF||n.isEmpty(),"priority of unexpected type.");(0,W.hu)(n===yF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let q7,W7,K7,kg=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,W.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$7(this.priorityNode_)}static set __childrenNodeConstructor(e){q7=e}static get __childrenNodeConstructor(){return q7}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Gn(e)?this:".priority"===Hn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=Hn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,W.hu)(".priority"!==r||1===gu(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ri(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+G7(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?c7(this.value_):this.value_,this.lazyHash_=o7(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,W.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return(0,W.hu)(o>=0,"Unknown leaf type: "+i),(0,W.hu)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Hi=new class BPe extends vI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?af(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Zn.MIN}maxPost(){return new Zn(nd,new kg("[PRIORITY-POST]",K7))}makePost(t,e){const i=W7(t);return new Zn(e,new kg("[PRIORITY-POST]",i))}toString(){return".priority"}},UPe=Math.log(2);class zPe{constructor(t){this.count=parseInt(Math.log(t+1)/UPe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xI=function(n,t,e,i){n.sort(t);const r=function(l,c){const d=c-l;let f,g;if(0===d)return null;if(1===d)return f=n[l],g=e?e(f):f,new al(g,f.node,al.BLACK,null,null);{const y=parseInt(d/2,10)+l,C=r(l,y),R=r(y+1,c);return f=n[y],g=e?e(f):f,new al(g,f.node,al.BLACK,C,R)}},a=function(l){let c=null,d=null,f=n.length;const g=function(C,R){const F=f-C,te=f;f-=C;const ie=r(F+1,te),ye=n[F],Ve=e?e(ye):ye;y(new al(Ve,ye.node,R,null,ie))},y=function(C){c?(c.left=C,c=C):(d=C,c=C)};for(let C=0;C<l.count;++C){const R=l.nextBitIsOne(),F=Math.pow(2,l.count-(C+1));R?g(F,al.BLACK):(g(F,al.BLACK),g(F,al.RED))}return d}(new zPe(n.length));return new Bs(i||t,a)};let vF;const Mg={};class id{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,W.hu)(Mg&&Hi,"ChildrenNode.ts has not been loaded"),vF=vF||new id({".priority":Mg},{".priority":Hi}),vF}get(t){const e=(0,W.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Bs?e:null}hasIndex(t){return(0,W.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,W.hu)(t!==nc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(Zn.Wrap);let a,s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?xI(i,t.getCompare()):Mg;const l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;const d=Object.assign({},this.indexes_);return d[l]=a,new id(d,c)}addToIndexes(t,e){const i=(0,W.UI)(this.indexes_,(r,o)=>{const s=(0,W.DV)(this.indexSet_,o);if((0,W.hu)(s,"Missing index implementation for "+o),r===Mg){if(s.isDefinedOn(t.node)){const a=[],l=e.getIterator(Zn.Wrap);let c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),xI(a,s.getCompare())}return Mg}{const a=e.get(t.name);let l=r;return a&&(l=l.remove(new Zn(t.name,a))),l.insert(t,t.node)}});return new id(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,W.UI)(this.indexes_,r=>{if(r===Mg)return r;{const o=e.get(t.name);return o?r.remove(new Zn(t.name,o)):r}});return new id(i,this.indexSet_)}}let Qb,Rn=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$7(this.priorityNode_),this.children_.isEmpty()&&(0,W.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Qb||(Qb=new n(new Bs(_F),null,id.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qb}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Qb:i}}getChild(e){const i=Hn(e);return null===i?this:this.getImmediateChild(i).getChild(Ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,W.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new Zn(e,i);let o,s;i.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?Qb:this.priorityNode_;return new n(o,a,s)}}updateChild(e,i){const r=Hn(e);if(null===r)return i;{(0,W.hu)(".priority"!==Hn(e)||1===gu(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ri(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(Hi,(a,l)=>{i[a]=l.val(e),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!e&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+G7(this.getPriority().val())+":"),this.forEachChild(Hi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":o7(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new Zn(e,i));return s?s.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Zn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Zn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Zn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Zn.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,e)>0;)o.getNext(),s=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xb?-1:0}withIndex(e){if(e===nc||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===nc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Hi),o=i.getIterator(Hi);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(e){return e===nc?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Xb=new class jPe extends Rn{constructor(){super(new Bs(_F),Rn.EMPTY_NODE,id.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Rn.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Zn,{MIN:{value:new Zn(pu,Rn.EMPTY_NODE)},MAX:{value:new Zn(nd,Xb)}}),H7.__EMPTY_NODE=Rn.EMPTY_NODE,kg.__childrenNodeConstructor=Rn,function NPe(n){yF=n}(Xb),function VPe(n){K7=n}(Xb);const HPe=!0;function Cr(n,t=null){if(null===n)return Rn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,W.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new kg(n,Cr(t));if(n instanceof Array||!HPe){let e=Rn.EMPTY_NODE;return po(n,(i,r)=>{if((0,W.r3)(n,i)&&"."!==i.substring(0,1)){const o=Cr(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Cr(t))}{const e=[];let i=!1;if(po(n,(s,a)=>{if("."!==s.substring(0,1)){const l=Cr(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),e.push(new Zn(s,l)))}}),0===e.length)return Rn.EMPTY_NODE;const o=xI(e,FPe,s=>s.name,_F);if(i){const s=xI(e,Hi.getCompare());return new Rn(o,Cr(t),new id({".priority":s},{".priority":Hi}))}return new Rn(o,Cr(t),id.Default)}}!function LPe(n){W7=n}(Cr);class bF extends vI{constructor(t){super(),this.indexPath_=t,(0,W.hu)(!Gn(t)&&".priority"!==Hn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?af(t.name,e.name):o}makePost(t,e){const i=Cr(t),r=Rn.EMPTY_NODE.updateChild(this.indexPath_,i);return new Zn(e,r)}maxPost(){const t=Rn.EMPTY_NODE.updateChild(this.indexPath_,Xb);return new Zn(nd,t)}toString(){return Zb(this.indexPath_,0).join("/")}}const wF=new class GPe extends vI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?af(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Zn.MIN}maxPost(){return Zn.MAX}makePost(t,e){const i=Cr(t);return new Zn(e,i)}toString(){return".value"}};function Z7(n){return{type:"value",snapshotNode:n}}function Rg(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Jb(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function e0(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class xF{constructor(t){this.index_=t}updateChild(t,e,i,r,o,s){(0,W.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(e);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?t.hasChild(e)?s.trackChildChange(Jb(e,a)):(0,W.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Rg(e,i)):s.trackChildChange(e0(e,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(Hi,(r,o)=>{e.hasChild(r)||i.trackChildChange(Jb(r,o))}),e.isLeafNode()||e.forEachChild(Hi,(r,o)=>{if(t.hasChild(r)){const s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(e0(r,o,s))}else i.trackChildChange(Rg(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Rn.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class t0{constructor(t){this.indexedFilter_=new xF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=t0.getStartPost_(t),this.endPost_=t0.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,s){return this.matches(new Zn(e,i))||(i=Rn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,s)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Rn.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Rn.EMPTY_NODE);const o=this;return e.forEachChild(Hi,(s,a)=>{o.matches(new Zn(s,a))||(r=r.updateImmediateChild(s,Rn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class qPe{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new t0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,s){return this.rangedFilter_.matches(new Zn(e,i))||(i=Rn.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,s):this.fullLimitUpdateChild_(t,e,i,o,s)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Rn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=Rn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(Rn.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,Rn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(g,y)=>f(y,g)}else s=this.index_.getCompare();const a=t;(0,W.hu)(a.numChildren()===this.limit_,"");const l=new Zn(e,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(e)){const f=a.getImmediateChild(e);let g=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=g&&(g.name===e||a.hasChild(g.name));)g=r.getChildAfterChild(this.index_,g,this.reverse_);const y=null==g?1:s(g,l);if(d&&!i.isEmpty()&&y>=0)return o?.trackChildChange(e0(e,i,f)),a.updateImmediateChild(e,i);{o?.trackChildChange(Jb(e,f));const R=a.updateImmediateChild(e,Rn.EMPTY_NODE);return null!=g&&this.rangedFilter_.matches(g)?(o?.trackChildChange(Rg(g.name,g.node)),R.updateImmediateChild(g.name,g.node)):R}}return i.isEmpty()?t:d&&s(c,l)>=0?(null!=o&&(o.trackChildChange(Jb(c.name,c.node)),o.trackChildChange(Rg(e,i))),a.updateImmediateChild(e,i).updateImmediateChild(c.name,Rn.EMPTY_NODE)):t}}class CI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hi}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,W.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,W.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nd}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,W.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hi}copy(){const t=new CI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function CF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function EF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function EI(n,t){const e=n.copy();return e.index_=t,e}function Y7(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Hi?e="$priority":n.index_===wF?e="$value":n.index_===nc?e="$key":((0,W.hu)(n.index_ instanceof bF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,W.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,W.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,W.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,W.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,W.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Q7(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==Hi&&(t.i=n.index_.toString()),t}class DI extends F7{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$b("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,W.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=DI.getListenId_(t,i),a={};this.listens_[s]=a;const l=Y7(t._queryParams);this.restRequest_(o+".json",l,(c,d)=>{let f=d;if(404===c&&(f=null,c=null),null===c&&this.onDataUpdate_(o,f,!1,i),(0,W.DV)(this.listens_,s)===a){let g;g=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(g,null)}})}unlisten(t,e){const i=DI.getListenId_(t,e);delete this.listens_[i]}get(t){const e=Y7(t._queryParams),i=t._path.toString(),r=new W.BH;return this.restRequest_(i+".json",e,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,W.xO)(e);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=(0,W.cI)(a.responseText)}catch{Xo("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Xo("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class XPe{constructor(){this.rootNode_=Rn.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function II(){return{value:null,children:new Map}}function Pg(n,t,e){if(Gn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Hn(t);n.children.has(i)||n.children.set(i,II()),Pg(n.children.get(i),t=Ri(t),e)}}function DF(n,t){if(Gn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(Hi,(i,r)=>{Pg(n,new _i(i),r)}),DF(n,t)}}if(n.children.size>0){const e=Hn(t);return t=Ri(t),n.children.has(e)&&DF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function IF(n,t,e){null!==n.value?e(t,n.value):function JPe(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{IF(r,new _i(t.toString()+"/"+i),e)})}class eOe{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&po(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class iOe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new eOe(t);const i=1e4+2e4*Math.random();Wb(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;po(t,(r,o)=>{o>0&&(0,W.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Wb(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ic=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ic||{});function AF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class SI{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ic.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Gn(this.path)){if(null!=this.affectedTree.value)return(0,W.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new _i(t));return new SI(li(),e,this.revert)}}return(0,W.hu)(Hn(this.path)===t,"operationForChild called for unrelated child."),new SI(Ri(this.path),this.affectedTree,this.revert)}}class n0{constructor(t,e){this.source=t,this.path=e,this.type=ic.LISTEN_COMPLETE}operationForChild(t){return Gn(this.path)?new n0(this.source,li()):new n0(this.source,Ri(this.path))}}class df{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ic.OVERWRITE}operationForChild(t){return Gn(this.path)?new df(this.source,li(),this.snap.getImmediateChild(t)):new df(this.source,Ri(this.path),this.snap)}}class Og{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ic.MERGE}operationForChild(t){if(Gn(this.path)){const e=this.children.subtree(new _i(t));return e.isEmpty()?null:e.value?new df(this.source,li(),e.value):new Og(this.source,li(),e)}return(0,W.hu)(Hn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Og(this.source,Ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class _u{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Gn(t))return this.isFullyInitialized()&&!this.filtered_;const e=Hn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class rOe{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function r0(n,t,e,i,r,o){const s=i.filter(a=>a.type===e);s.sort((a,l)=>function aOe(n,t,e){if(null==t.childName||null==e.childName)throw(0,W.g5)("Should only compare child_ events.");const i=new Zn(t.childName,t.snapshotNode),r=new Zn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function sOe(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,n.query_))})})}function TI(n,t){return{eventCache:n,serverCache:t}}function o0(n,t,e,i){return TI(new _u(t,e,i),n.serverCache)}function J7(n,t,e,i){return TI(n.eventCache,new _u(t,e,i))}function AI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function uf(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let kF;class Gi{constructor(t,e=(()=>(kF||(kF=new Bs($Re)),kF))()){this.value=t,this.children=e}static fromObject(t){let e=new Gi(null);return po(t,(i,r)=>{e=e.set(new _i(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:li(),value:this.value};if(Gn(t))return null;{const i=Hn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Ri(t),e);return null!=o?{path:lr(new _i(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Gn(t))return this;{const e=Hn(t),i=this.children.get(e);return null!==i?i.subtree(Ri(t)):new Gi(null)}}set(t,e){if(Gn(t))return new Gi(e,this.children);{const i=Hn(t),o=(this.children.get(i)||new Gi(null)).set(Ri(t),e),s=this.children.insert(i,o);return new Gi(this.value,s)}}remove(t){if(Gn(t))return this.children.isEmpty()?new Gi(null):new Gi(null,this.children);{const e=Hn(t),i=this.children.get(e);if(i){const r=i.remove(Ri(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new Gi(null):new Gi(this.value,o)}return this}}get(t){if(Gn(t))return this.value;{const e=Hn(t),i=this.children.get(e);return i?i.get(Ri(t)):null}}setTree(t,e){if(Gn(t))return e;{const i=Hn(t),o=(this.children.get(i)||new Gi(null)).setTree(Ri(t),e);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new Gi(this.value,s)}}fold(t){return this.fold_(li(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(lr(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,li(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(Gn(t))return null;{const o=Hn(t),s=this.children.get(o);return s?s.findOnPath_(Ri(t),lr(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,li(),e)}foreachOnPath_(t,e,i){if(Gn(t))return this;{this.value&&i(e,this.value);const r=Hn(t),o=this.children.get(r);return o?o.foreachOnPath_(Ri(t),lr(e,r),i):new Gi(null)}}foreach(t){this.foreach_(li(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(lr(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ll{constructor(t){this.writeTree_=t}static empty(){return new ll(new Gi(null))}}function s0(n,t,e){if(Gn(t))return new ll(new Gi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const s=vs(r,t);return o=o.updateChild(s,e),new ll(n.writeTree_.set(r,o))}{const r=new Gi(e),o=n.writeTree_.setTree(t,r);return new ll(o)}}}function MF(n,t,e){let i=n;return po(e,(r,o)=>{i=s0(i,lr(t,r),o)}),i}function eK(n,t){if(Gn(t))return ll.empty();{const e=n.writeTree_.setTree(t,new Gi(null));return new ll(e)}}function RF(n,t){return null!=hf(n,t)}function hf(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(vs(e.path,t)):null}function tK(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Hi,(i,r)=>{t.push(new Zn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new Zn(i,r.value))}),t}function yu(n,t){if(Gn(t))return n;{const e=hf(n,t);return new ll(null!=e?new Gi(e):n.writeTree_.subtree(t))}}function PF(n){return n.writeTree_.isEmpty()}function Fg(n,t){return nK(li(),n.writeTree_,t)}function nK(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,W.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=nK(lr(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(lr(n,".priority"),i)),e}}function kI(n,t){return aK(t,n)}function fOe(n,t){if(n.snap)return La(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&La(lr(n.path,e),t))return!0;return!1}function mOe(n){return n.visible}function iK(n,t,e){let i=ll.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const s=o.path;let a;if(o.snap)La(e,s)?(a=vs(e,s),i=s0(i,a,o.snap)):La(s,e)&&(a=vs(s,e),i=s0(i,li(),o.snap.getChild(a)));else{if(!o.children)throw(0,W.g5)("WriteRecord should have .snap or .children");if(La(e,s))a=vs(e,s),i=MF(i,a,o.children);else if(La(s,e))if(a=vs(s,e),Gn(a))i=MF(i,li(),o.children);else{const l=(0,W.DV)(o.children,Hn(a));if(l){const c=l.getChild(Ri(a));i=s0(i,li(),c)}}}}}return i}function rK(n,t,e,i,r){if(i||r){const o=yu(n.visibleWrites,t);return!r&&PF(o)?e:r||null!=e||RF(o,li())?Fg(iK(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(La(c.path,t)||La(t,c.path))},t),e||Rn.EMPTY_NODE):null}{const o=hf(n.visibleWrites,t);if(null!=o)return o;{const s=yu(n.visibleWrites,t);return PF(s)?e:null!=e||RF(s,li())?Fg(s,e||Rn.EMPTY_NODE):null}}}function MI(n,t,e,i){return rK(n.writeTree,n.treePath,t,e,i)}function OF(n,t){return function gOe(n,t,e){let i=Rn.EMPTY_NODE;const r=hf(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Hi,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(e){const o=yu(n.visibleWrites,t);return e.forEachChild(Hi,(s,a)=>{const l=Fg(yu(o,new _i(s)),a);i=i.updateImmediateChild(s,l)}),tK(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return tK(yu(n.visibleWrites,t)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,t)}function oK(n,t,e,i){return function _Oe(n,t,e,i,r){(0,W.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=lr(t,e);if(RF(n.visibleWrites,o))return null;{const s=yu(n.visibleWrites,o);return PF(s)?r.getChild(e):Fg(s,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function RI(n,t){return function vOe(n,t){return hf(n.visibleWrites,t)}(n.writeTree,lr(n.treePath,t))}function FF(n,t,e){return function yOe(n,t,e,i){const r=lr(t,e),o=hf(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Fg(yu(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function sK(n,t){return aK(lr(n.treePath,t),n.writeTree)}function aK(n,t){return{treePath:n,writeTree:t}}class COe{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,W.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,W.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,e0(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Jb(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Rg(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,W.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,e0(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const lK=new class EOe{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class NF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new _u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:uf(this.viewCache_),o=function xOe(n,t,e,i,r,o){return function bOe(n,t,e,i,r,o,s){let a;const l=yu(n.visibleWrites,t),c=hf(l,li());if(null!=c)a=c;else{if(null==e)return[];a=Fg(l,e)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const d=[],f=s.getCompare(),g=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let y=g.getNext();for(;y&&d.length<r;)0!==f(y,i)&&d.push(y),y=g.getNext();return d}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function cK(n,t,e,i,r,o){const s=t.eventCache;if(null!=RI(i,e))return t;{let a,l;if(Gn(e))if((0,W.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const c=uf(t),f=OF(i,c instanceof Rn?c:Rn.EMPTY_NODE);a=n.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{const c=MI(i,uf(t));a=n.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{const c=Hn(e);if(".priority"===c){(0,W.hu)(1===gu(e),"Can't have a priority with additional path components");const d=s.getNode();l=t.serverCache.getNode();const f=oK(i,e,d,l);a=null!=f?n.filter.updatePriority(d,f):s.getNode()}else{const d=Ri(e);let f;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const g=oK(i,e,s.getNode(),l);f=null!=g?s.getNode().getImmediateChild(c).updateChild(d,g):s.getNode().getImmediateChild(c)}else f=FF(i,c,t.serverCache);a=null!=f?n.filter.updateChild(s.getNode(),c,f,d,r,o):s.getNode()}}return o0(t,a,s.isFullyInitialized()||Gn(e),n.filter.filtersNodes())}}function PI(n,t,e,i,r,o,s,a){const l=t.serverCache;let c;const d=s?n.filter:n.filter.getIndexedFilter();if(Gn(e))c=d.updateFullNode(l.getNode(),i,null);else if(d.filtersNodes()&&!l.isFiltered()){const y=l.getNode().updateChild(e,i);c=d.updateFullNode(l.getNode(),y,null)}else{const y=Hn(e);if(!l.isCompleteForPath(e)&&gu(e)>1)return t;const C=Ri(e),F=l.getNode().getImmediateChild(y).updateChild(C,i);c=".priority"===y?d.updatePriority(l.getNode(),F):d.updateChild(l.getNode(),y,F,C,lK,null)}const f=J7(t,c,l.isFullyInitialized()||Gn(e),d.filtersNodes());return cK(n,f,e,r,new NF(r,f,o),a)}function LF(n,t,e,i,r,o,s){const a=t.eventCache;let l,c;const d=new NF(r,t,o);if(Gn(e))c=n.filter.updateFullNode(t.eventCache.getNode(),i,s),l=o0(t,c,!0,n.filter.filtersNodes());else{const f=Hn(e);if(".priority"===f)c=n.filter.updatePriority(t.eventCache.getNode(),i),l=o0(t,c,a.isFullyInitialized(),a.isFiltered());else{const g=Ri(e),y=a.getNode().getImmediateChild(f);let C;if(Gn(g))C=i;else{const R=d.getCompleteChild(f);C=null!=R?".priority"===pF(g)&&R.getChild(B7(g)).isEmpty()?R:R.updateChild(g,i):Rn.EMPTY_NODE}l=y.equals(C)?t:o0(t,n.filter.updateChild(a.getNode(),f,C,g,d,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function dK(n,t){return n.eventCache.isCompleteForChild(t)}function uK(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function VF(n,t,e,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=Gn(e)?i:new Gi(null).setTree(e,i);const d=t.serverCache.getNode();return c.children.inorderTraversal((f,g)=>{if(d.hasChild(f)){const C=uK(0,t.serverCache.getNode().getImmediateChild(f),g);l=PI(n,l,new _i(f),C,r,o,s,a)}}),c.children.inorderTraversal((f,g)=>{const y=!t.serverCache.isCompleteForChild(f)&&null===g.value;if(!d.hasChild(f)&&!y){const R=uK(0,t.serverCache.getNode().getImmediateChild(f),g);l=PI(n,l,new _i(f),R,r,o,s,a)}}),l}class POe{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new xF(i.getIndex()),o=function WPe(n){return n.loadsAllData()?new xF(n.getIndex()):n.hasLimit()?new qPe(n):new t0(n)}(i);this.processor_=function DOe(n){return{filter:n}}(o);const s=e.serverCache,a=e.eventCache,l=r.updateFullNode(Rn.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(Rn.EMPTY_NODE,a.getNode(),null),d=new _u(l,s.isFullyInitialized(),r.filtersNodes()),f=new _u(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=TI(f,d),this.eventGenerator_=new rOe(this.query_)}get query(){return this.query_}}function NOe(n,t){const e=uf(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Gn(t)&&!e.getImmediateChild(Hn(t)).isEmpty())?e.getChild(t):null}function hK(n){return 0===n.eventRegistrations_.length}function fK(n,t,e){const i=[];if(e){(0,W.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(e,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function pK(n,t,e,i){t.type===ic.MERGE&&null!==t.source.queryId&&((0,W.hu)(uf(n.viewCache_),"We should always have a full cache before handling merges"),(0,W.hu)(AI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function SOe(n,t,e,i,r){const o=new COe;let s,a;if(e.type===ic.OVERWRITE){const c=e;c.source.fromUser?s=LF(n,t,c.path,c.snap,i,r,o):((0,W.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Gn(c.path),s=PI(n,t,c.path,c.snap,i,r,a,o))}else if(e.type===ic.MERGE){const c=e;c.source.fromUser?s=function AOe(n,t,e,i,r,o,s){let a=t;return i.foreach((l,c)=>{const d=lr(e,l);dK(t,Hn(d))&&(a=LF(n,a,d,c,r,o,s))}),i.foreach((l,c)=>{const d=lr(e,l);dK(t,Hn(d))||(a=LF(n,a,d,c,r,o,s))}),a}(n,t,c.path,c.children,i,r,o):((0,W.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=VF(n,t,c.path,c.children,i,r,a,o))}else if(e.type===ic.ACK_USER_WRITE){const c=e;s=c.revert?function ROe(n,t,e,i,r,o){let s;if(null!=RI(i,e))return t;{const a=new NF(i,t,r),l=t.eventCache.getNode();let c;if(Gn(e)||".priority"===Hn(e)){let d;if(t.serverCache.isFullyInitialized())d=MI(i,uf(t));else{const f=t.serverCache.getNode();(0,W.hu)(f instanceof Rn,"serverChildren would be complete if leaf node"),d=OF(i,f)}c=n.filter.updateFullNode(l,d,o)}else{const d=Hn(e);let f=FF(i,d,t.serverCache);null==f&&t.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),c=null!=f?n.filter.updateChild(l,d,f,Ri(e),a,o):t.eventCache.getNode().hasChild(d)?n.filter.updateChild(l,d,Rn.EMPTY_NODE,Ri(e),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=MI(i,uf(t)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=RI(i,li()),o0(t,c,s,n.filter.filtersNodes())}}(n,t,c.path,i,r,o):function kOe(n,t,e,i,r,o,s){if(null!=RI(r,e))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(Gn(e)&&l.isFullyInitialized()||l.isCompleteForPath(e))return PI(n,t,e,l.getNode().getChild(e),r,o,a,s);if(Gn(e)){let c=new Gi(null);return l.getNode().forEachChild(nc,(d,f)=>{c=c.set(new _i(d),f)}),VF(n,t,e,c,r,o,a,s)}return t}{let c=new Gi(null);return i.foreach((d,f)=>{const g=lr(e,d);l.isCompleteForPath(g)&&(c=c.set(d,l.getNode().getChild(g)))}),VF(n,t,e,c,r,o,a,s)}}(n,t,c.path,c.affectedTree,i,r,o)}else{if(e.type!==ic.LISTEN_COMPLETE)throw(0,W.g5)("Unknown operation type: "+e.type);s=function MOe(n,t,e,i,r){const o=t.serverCache;return cK(n,J7(t,o.getNode(),o.isFullyInitialized()||Gn(e),o.isFiltered()),e,i,lK,r)}(n,t,e.path,i,o)}const l=o.getChanges();return function TOe(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=AI(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Z7(AI(t)))}}(t,s,l),{viewCache:s,changes:l}}(n.processor_,r,t,e,i);return function IOe(n,t){(0,W.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,W.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,W.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,mK(n,o.changes,o.viewCache.eventCache.getNode(),null)}function mK(n,t,e,i){return function oOe(n,t,e,i){const r=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function $Pe(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(s.childName,s.snapshotNode))}),r0(n,r,"child_removed",t,i,e),r0(n,r,"child_added",t,i,e),r0(n,r,"child_moved",o,i,e),r0(n,r,"child_changed",t,i,e),r0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let OI,NI;class gK{constructor(){this.views=new Map}}function BF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,W.hu)(null!=o,"SyncTree gave us an op for an invalid query."),pK(o,t,e,i)}{let o=[];for(const s of n.views.values())o=o.concat(pK(s,t,e,i));return o}}function _K(n,t,e,i,r){const s=n.views.get(t._queryIdentifier);if(!s){let a=MI(e,r?i:null),l=!1;a?l=!0:i instanceof Rn?(a=OF(e,i),l=!1):(a=Rn.EMPTY_NODE,l=!1);const c=TI(new _u(a,l,!1),new _u(i,r,!1));return new POe(t,c)}return s}function yK(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function vu(n,t){let e=null;for(const i of n.views.values())e=e||NOe(i,t);return e}function vK(n,t){return t._queryParams.loadsAllData()?FI(n):n.views.get(t._queryIdentifier)}function bK(n,t){return null!=vK(n,t)}function bu(n){return null!=FI(n)}function FI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qOe=1;class wK{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Gi(null),this.pendingWriteTree_=function wOe(){return{visibleWrites:ll.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function UF(n,t,e,i,r){return function cOe(n,t,e,i,r){(0,W.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=s0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Ng(n,new df({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function wu(n,t,e=!1){const i=function uOe(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function hOe(n,t){const e=n.allWrites.findIndex(a=>a.writeId===t);(0,W.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=e&&fOe(a,i.path)?r=!1:La(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function pOe(n){n.visibleWrites=iK(n.allWrites,mOe,li()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=eK(n.visibleWrites,i.path):po(i.children,l=>{n.visibleWrites=eK(n.visibleWrites,lr(i.path,l))}),!0))}(n.pendingWriteTree_,t)){let o=new Gi(null);return null!=i.snap?o=o.set(li(),!0):po(i.children,s=>{o=o.set(new _i(s),!0)}),Ng(n,new SI(i.path,o,e))}return[]}function a0(n,t,e){return Ng(n,new df({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function LI(n,t,e,i,r=!1){const o=t._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||bK(s,t))){const l=function HOe(n,t,e,i){const r=t._queryIdentifier,o=[];let s=[];const a=bu(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(fK(c,e,i)),hK(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(fK(l,e,i)),hK(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!bu(n)&&o.push(new(function UOe(){return(0,W.hu)(OI,"Reference.ts has not been loaded"),OI}())(t._repo,t._path)),{removed:o,events:s}}(s,t,e,i);(function zOe(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const d=-1!==c.findIndex(g=>g._queryParams.loadsAllData()),f=n.syncPointTree_.findOnPath(o,(g,y)=>bu(y));if(d&&!f){const g=n.syncPointTree_.subtree(o);if(!g.isEmpty()){const y=function JOe(n){return n.fold((t,e,i)=>{if(e&&bu(e))return[FI(e)];{let r=[];return e&&(r=yK(e)),po(i,(o,s)=>{r=r.concat(s)}),r}})}(g);for(let C=0;C<y.length;++C){const R=y[C],F=R.query,te=DK(n,R);n.listenProvider_.startListening(c0(F),l0(n,F),te.hashFn,te.onComplete)}}}!f&&c.length>0&&!i&&(d?n.listenProvider_.stopListening(c0(t),null):c.forEach(g=>{const y=n.queryToTagMap.get(BI(g));n.listenProvider_.stopListening(c0(g),y)}))}!function eFe(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=BI(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function xK(n,t,e,i){const r=jF(n,i);if(null!=r){const o=HF(r),s=o.path,a=o.queryId,l=vs(s,t);return GF(n,s,new df(AF(a),l,e))}return[]}function zF(n,t,e,i=!1){const r=t._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(g,y)=>{const C=vs(g,r);o=o||vu(y,C),s=s||bu(y)});let l,a=n.syncPointTree_.get(r);a?(s=s||bu(a),o=o||vu(a,li())):(a=new gK,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=Rn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((y,C)=>{const R=vu(C,li());R&&(o=o.updateImmediateChild(y,R))}));const c=bK(a,t);if(!c&&!t._queryParams.loadsAllData()){const g=BI(t);(0,W.hu)(!n.queryToTagMap.has(g),"View does not exist, but we have a tag");const y=function tFe(){return qOe++}();n.queryToTagMap.set(g,y),n.tagToQueryMap.set(y,g)}let f=function jOe(n,t,e,i,r,o){const s=_K(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,s),function LOe(n,t){n.eventRegistrations_.push(t)}(s,e),function VOe(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Hi,(o,s)=>{i.push(Rg(o,s))}),e.isFullyInitialized()&&i.push(Z7(e.getNode())),mK(n,i,e.getNode(),t)}(s,e)}(a,t,e,kI(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const g=vK(a,t);f=f.concat(function nFe(n,t,e){const i=t._path,r=l0(n,t),o=DK(n,e),s=n.listenProvider_.startListening(c0(t),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)(0,W.hu)(!bu(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,d,f)=>{if(!Gn(c)&&d&&bu(d))return[FI(d).query];{let g=[];return d&&(g=g.concat(yK(d).map(y=>y.query))),po(f,(y,C)=>{g=g.concat(C)}),g}});for(let c=0;c<l.length;++c){const d=l[c];n.listenProvider_.stopListening(c0(d),l0(n,d))}}return s}(n,t,g))}return f}function VI(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(s,a)=>{const c=vu(a,vs(s,t));if(c)return c});return rK(r,t,o,e,!0)}function Ng(n,t){return CK(t,n.syncPointTree_,null,kI(n.pendingWriteTree_,li()))}function CK(n,t,e,i){if(Gn(n.path))return EK(n,t,e,i);{const r=t.get(li());null==e&&null!=r&&(e=vu(r,li()));let o=[];const s=Hn(n.path),a=n.operationForChild(s),l=t.children.get(s);if(l&&a){const c=e?e.getImmediateChild(s):null,d=sK(i,s);o=o.concat(CK(a,l,c,d))}return r&&(o=o.concat(BF(r,n,i,e))),o}}function EK(n,t,e,i){const r=t.get(li());null==e&&null!=r&&(e=vu(r,li()));let o=[];return t.children.inorderTraversal((s,a)=>{const l=e?e.getImmediateChild(s):null,c=sK(i,s),d=n.operationForChild(s);d&&(o=o.concat(EK(d,a,l,c)))}),r&&(o=o.concat(BF(r,n,i,e))),o}function DK(n,t){const e=t.query,i=l0(n,e);return{hashFn:()=>(function OOe(n){return n.viewCache_.serverCache.getNode()}(t)||Rn.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function YOe(n,t,e){const i=jF(n,e);if(i){const r=HF(i),o=r.path,s=r.queryId,a=vs(o,t);return GF(n,o,new n0(AF(s),a))}return[]}(n,e._path,i):function ZOe(n,t){return Ng(n,new n0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function KRe(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return LI(n,e,null,o)}}}}function l0(n,t){const e=BI(t);return n.queryToTagMap.get(e)}function BI(n){return n._path.toString()+"$"+n._queryIdentifier}function jF(n,t){return n.tagToQueryMap.get(t)}function HF(n){const t=n.indexOf("$");return(0,W.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new _i(n.substr(0,t))}}function GF(n,t,e){const i=n.syncPointTree_.get(t);return(0,W.hu)(i,"Missing sync point for query tag that we're tracking"),BF(i,e,kI(n.pendingWriteTree_,t),null)}function c0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function $Oe(){return(0,W.hu)(NI,"Reference.ts has not been loaded"),NI}())(n._repo,n._path):n}class $F{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new $F(e)}node(){return this.node_}}class qF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=lr(this.path_,t);return new qF(this.syncTree_,e)}node(){return VI(this.syncTree_,this.path_)}}const iFe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},IK=function(n,t,e){return n&&"object"==typeof n?((0,W.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?rFe(n[".sv"],t,e):"object"==typeof n[".sv"]?oFe(n[".sv"],t):void(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},rFe=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,W.hu)(!1,"Unexpected server value: "+n)},oFe=function(n,t,e){n.hasOwnProperty("increment")||(0,W.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,W.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,W.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},SK=function(n,t,e,i){return KF(t,new qF(e,n),i)},WF=function(n,t,e){return KF(n,new $F(t),e)};function KF(n,t,e){const i=n.getPriority().val(),r=IK(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const s=n,a=IK(s.getValue(),t,e);return a!==s.getValue()||r!==s.getPriority().val()?new kg(a,Cr(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new kg(r))),s.forEachChild(Hi,(a,l)=>{const c=KF(l,t.getImmediateChild(a),e);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class ZF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function UI(n,t){let e=t instanceof _i?t:new _i(t),i=n,r=Hn(e);for(;null!==r;){const o=(0,W.DV)(i.node.children,r)||{children:{},childCount:0};i=new ZF(r,i,o),e=Ri(e),r=Hn(e)}return i}function ff(n){return n.node.value}function YF(n,t){n.node.value=t,QF(n)}function TK(n){return n.node.childCount>0}function zI(n,t){po(n.node.children,(e,i)=>{t(new ZF(e,n,i))})}function AK(n,t,e,i){e&&!i&&t(n),zI(n,r=>{AK(r,t,!0,i)}),e&&i&&t(n)}function d0(n){return new _i(null===n.parent?n.name:d0(n.parent)+"/"+n.name)}function QF(n){null!==n.parent&&function lFe(n,t,e){const i=function sFe(n){return void 0===ff(n)&&!TK(n)}(e),r=(0,W.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,QF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,QF(n))}(n.parent,n.name,n)}const cFe=/[\[\].#$\/\u0000-\u001F\u007F]/,dFe=/[\[\].#$\u0000-\u001F\u007F]/,XF=10485760,jI=function(n){return"string"==typeof n&&0!==n.length&&!cFe.test(n)},kK=function(n){return"string"==typeof n&&0!==n.length&&!dFe.test(n)},u0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!mI(n)||n&&"object"==typeof n&&(0,W.r3)(n,".sv")},rc=function(n,t,e,i){i&&void 0===t||h0((0,W.gK)(n,"value"),t,e)},h0=function(n,t,e){const i=e instanceof _i?new SPe(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+lf(i));if("function"==typeof t)throw new Error(n+"contains a function "+lf(i)+" with contents = "+t.toString());if(mI(t))throw new Error(n+"contains "+t.toString()+" "+lf(i));if("string"==typeof t&&t.length>XF/3&&(0,W.ug)(t)>XF)throw new Error(n+"contains a string greater than "+XF+" utf8 bytes "+lf(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(po(t,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!jI(s)))throw new Error(n+" contains an invalid key ("+s+") "+lf(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TPe(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,W.ug)(t),U7(n)})(i,s),h0(n,a,i),function APe(n){const t=n.parts_.pop();n.byteLength_-=(0,W.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+lf(i)+" in addition to actual children.")}},MK=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,W.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];po(t,(s,a)=>{const l=new _i(s);if(h0(r,a,lr(e,l)),".priority"===pF(l)&&!u0(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Zb(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!jI(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(IPe);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&La(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},JF=function(n,t,e){if(!e||void 0!==t){if(mI(t))throw new Error((0,W.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!u0(t))throw new Error((0,W.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},f0=function(n,t,e,i){if(!(i&&void 0===e||jI(e)))throw new Error((0,W.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},p0=function(n,t,e,i){if(!(i&&void 0===e||kK(e)))throw new Error((0,W.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fFe=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),p0(n,t,e,i)},Va=function(n,t){if(".info"===Hn(t))throw new Error(n+" failed = Can't modify data under /.info/")},RK=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!jI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),kK(n)}(e))throw new Error((0,W.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class pFe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HI(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!mF(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function PK(n,t,e){HI(n,e),OK(n,i=>mF(i,t))}function ua(n,t,e){HI(n,e),OK(n,i=>La(i,t)||La(t,i))}function OK(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(mFe(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function mFe(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();sf&&fo("event: "+e.toString()),Tg(i)}}}const FK="repo_interrupt",gFe=25;class _Fe{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pFe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=II(),this.transactionQueueTree_=new ZF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function NK(n){const e=n.infoData_.getNode(new _i(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function m0(n){return iFe({timestamp:NK(n)})}function LK(n,t,e,i,r){n.dataUpdateCount++;const o=new _i(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let s=[];if(r)if(i){const l=(0,W.UI)(e,c=>Cr(c));s=function QOe(n,t,e,i){const r=jF(n,i);if(r){const o=HF(r),s=o.path,a=o.queryId,l=vs(s,t),c=Gi.fromObject(e);return GF(n,s,new Og(AF(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=Cr(e);s=xK(n.serverSyncTree_,o,l,r)}else if(i){const l=(0,W.UI)(e,c=>Cr(c));s=function KOe(n,t,e){const i=Gi.fromObject(e);return Ng(n,new Og({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,l)}else{const l=Cr(e);s=a0(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Vg(n,o)),ua(n.eventQueue_,a,s)}function VK(n,t){e2(n,"connected",t),!1===t&&function xFe(n){Lg(n,"onDisconnectEvents");const t=m0(n),e=II();IF(n.onDisconnect_,li(),(r,o)=>{const s=SK(r,o,n.serverSyncTree_,t);Pg(e,r,s)});let i=[];IF(e,li(),(r,o)=>{i=i.concat(a0(n.serverSyncTree_,r,o));const s=o2(n,r);Vg(n,s)}),n.onDisconnect_=II(),ua(n.eventQueue_,li(),i)}(n)}function e2(n,t,e){const i=new _i("/.info/"+t),r=Cr(e);n.infoData_.updateSnapshot(i,r);const o=a0(n.infoSyncTree_,i,r);ua(n.eventQueue_,i,o)}function GI(n){return n.nextWriteId_++}function t2(n,t,e,i,r){Lg(n,"set",{path:t.toString(),value:e,priority:i});const o=m0(n),s=Cr(e,i),a=VI(n.serverSyncTree_,t),l=WF(s,a,o),c=GI(n),d=UF(n.serverSyncTree_,t,l,c,!0);HI(n.eventQueue_,d),n.server_.put(t.toString(),s.val(!0),(g,y)=>{const C="ok"===g;C||Xo("set at "+t+" failed: "+g);const R=wu(n.serverSyncTree_,c,!C);ua(n.eventQueue_,t,R),xu(0,r,g,y)});const f=o2(n,t);Vg(n,f),ua(n.eventQueue_,f,[])}function CFe(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&DF(n.onDisconnect_,t),xu(0,e,i,r)})}function BK(n,t,e,i){const r=Cr(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{"ok"===o&&Pg(n.onDisconnect_,t,r),xu(0,i,o,s)})}function n2(n,t,e){let i;i=".info"===Hn(t._path)?LI(n.infoSyncTree_,t,e):LI(n.serverSyncTree_,t,e),PK(n.eventQueue_,t._path,i)}function UK(n){n.persistentConnection_&&n.persistentConnection_.interrupt(FK)}function Lg(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),fo(e,...t)}function xu(n,t,e,i){t&&Tg(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,t(s)}})}function r2(n,t,e){return VI(n.serverSyncTree_,t,e)||Rn.EMPTY_NODE}function $I(n,t=n.transactionQueueTree_){if(t||qI(n,t),ff(t)){const e=jK(n,t);(0,W.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function AFe(n,t,e){const i=e.map(c=>c.currentWriteId),r=r2(n,t,i);let o=r;const s=r.hash();for(let c=0;c<e.length;c++){const d=e[c];(0,W.hu)(0===d.status,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=vs(t,d.path);o=o.updateChild(f,d.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;n.server_.put(l.toString(),a,c=>{Lg(n,"transaction put response",{path:l.toString(),status:c});let d=[];if("ok"===c){const f=[];for(let g=0;g<e.length;g++)e[g].status=2,d=d.concat(wu(n.serverSyncTree_,e[g].currentWriteId)),e[g].onComplete&&f.push(()=>e[g].onComplete(null,!0,e[g].currentOutputSnapshotResolved)),e[g].unwatcher();qI(n,UI(n.transactionQueueTree_,t)),$I(n,n.transactionQueueTree_),ua(n.eventQueue_,t,d);for(let g=0;g<f.length;g++)Tg(f[g])}else{if("datastale"===c)for(let f=0;f<e.length;f++)e[f].status=3===e[f].status?4:0;else{Xo("transaction at "+l.toString()+" failed: "+c);for(let f=0;f<e.length;f++)e[f].status=4,e[f].abortReason=c}Vg(n,t)}},s)}(n,d0(t),e)}else TK(t)&&zI(t,e=>{$I(n,e)})}function Vg(n,t){const e=zK(n,t),i=d0(e);return function kFe(n,t,e){if(0===t.length)return;const i=[];let r=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],c=vs(e,l.path);let f,d=!1;if((0,W.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,f=l.abortReason,r=r.concat(wu(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=gFe)d=!0,f="maxretry",r=r.concat(wu(n.serverSyncTree_,l.currentWriteId,!0));else{const g=r2(n,l.path,s);l.currentInputSnapshot=g;const y=t[a].update(g.val());if(void 0!==y){h0("transaction failed: Data returned ",y,l.path);let C=Cr(y);"object"==typeof y&&null!=y&&(0,W.r3)(y,".priority")||(C=C.updatePriority(g.getPriority()));const F=l.currentWriteId,te=m0(n),ie=WF(C,g,te);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=ie,l.currentWriteId=GI(n),s.splice(s.indexOf(F),1),r=r.concat(UF(n.serverSyncTree_,l.path,ie,l.currentWriteId,l.applyLocally)),r=r.concat(wu(n.serverSyncTree_,F,!0))}else d=!0,f="nodata",r=r.concat(wu(n.serverSyncTree_,l.currentWriteId,!0))}ua(n.eventQueue_,e,r),r=[],d&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&i.push("nodata"===f?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(f),!1,null)))}qI(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)Tg(i[a]);$I(n,n.transactionQueueTree_)}(n,jK(n,e),i),i}function zK(n,t){let e,i=n.transactionQueueTree_;for(e=Hn(t);null!==e&&void 0===ff(i);)i=UI(i,e),e=Hn(t=Ri(t));return i}function jK(n,t){const e=[];return HK(n,t,e),e.sort((i,r)=>i.order-r.order),e}function HK(n,t,e){const i=ff(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);zI(t,r=>{HK(n,r,e)})}function qI(n,t){const e=ff(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,YF(t,e.length>0?e:void 0)}zI(t,i=>{qI(n,i)})}function o2(n,t){const e=d0(zK(n,t)),i=UI(n.transactionQueueTree_,t);return function aFe(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{s2(n,r)}),s2(n,i),AK(i,r=>{s2(n,r)}),e}function s2(n,t){const e=ff(t);if(e){const i=[];let r=[],o=-1;for(let s=0;s<e.length;s++)3===e[s].status||(1===e[s].status?((0,W.hu)(o===s-1,"All SENT items should be at beginning of queue."),o=s,e[s].status=3,e[s].abortReason="set"):((0,W.hu)(0===e[s].status,"Unexpected transaction status in abort"),e[s].unwatcher(),r=r.concat(wu(n.serverSyncTree_,e[s].currentWriteId,!0)),e[s].onComplete&&i.push(e[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?YF(t,void 0):e.length=o+1,ua(n.eventQueue_,d0(t),r);for(let s=0;s<i.length;s++)Tg(i[s])}}const a2=function(n,t){const e=PFe(n),i=e.namespace;return"firebase.com"===e.domain&&tc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&tc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Xo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lF(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new _i(e.pathString)}},PFe=function(n){let t="",e="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let d=n.indexOf("/");-1===d&&(d=n.length);let f=n.indexOf("?");-1===f&&(f=n.length),t=n.substring(0,Math.min(d,f)),d<f&&(r=function MFe(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(d,f)));const g=function RFe(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Xo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,f)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const y=t.slice(0,c);if("localhost"===y.toLowerCase())e="localhost";else if(y.split(".").length<=2)e=y;else{const C=t.indexOf(".");i=t.substring(0,C).toLowerCase(),e=t.substring(C+1),o=i}"ns"in g&&(o=g.ns)}return{host:t,port:l,domain:e,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},GK="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",OFe=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=GK.charAt(e%64),e=Math.floor(e/64);(0,W.hu)(0===e,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=GK.charAt(t[r]);return(0,W.hu)(20===s.length,"nextPushId: Length should be 20."),s}}();class $K{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,W.Wl)(this.snapshot.exportVal())}}class qK{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class l2{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,W.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class WK{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new W.BH;return CFe(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Va("OnDisconnect.remove",this._path);const t=new W.BH;return BK(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Va("OnDisconnect.set",this._path),rc("OnDisconnect.set",t,this._path,!1);const e=new W.BH;return BK(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Va("OnDisconnect.setWithPriority",this._path),rc("OnDisconnect.setWithPriority",t,this._path,!1),JF("OnDisconnect.setWithPriority",e,!1);const i=new W.BH;return function EFe(n,t,e,i,r){const o=Cr(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{"ok"===s&&Pg(n.onDisconnect_,t,o),xu(0,r,s,a)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){Va("OnDisconnect.update",this._path),MK("OnDisconnect.update",t,this._path,!1);const e=new W.BH;return function DFe(n,t,e,i){if((0,W.xb)(e))return fo("onDisconnect().update() called with empty data.  Don't do anything."),void xu(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&po(e,(s,a)=>{const l=Cr(a);Pg(n.onDisconnect_,lr(t,s),l)}),xu(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Us{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return Gn(this._path)?null:pF(this._path)}get ref(){return new Ba(this._repo,this._path)}get _queryIdentifier(){const t=Q7(this._queryParams),e=sF(t);return"{}"===e?"default":e}get _queryObject(){return Q7(this._queryParams)}isEqual(t){if(!((t=(0,W.m9)(t))instanceof Us))return!1;const e=this._repo===t._repo,i=mF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function DPe(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function WI(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Cu(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===nc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==pu)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==nd)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===Hi){if(null!=t&&!u0(t)||null!=e&&!u0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,W.hu)(n.getIndex()instanceof bF||n.getIndex()===wF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function KI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ba extends Us{constructor(t,e){super(t,e,new CI,!1)}get parent(){const t=B7(this._path);return null===t?null:new Ba(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class pf{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new _i(t),i=mf(this.ref,t);return new pf(this._node.getChild(e),i,Hi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new pf(r,mf(this.ref,i),Hi)))}hasChild(t){const e=new _i(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function KK(n,t){return(n=(0,W.m9)(n))._checkNotDeleted("ref"),void 0!==t?mf(n._root,t):n._root}function ZK(n,t){(n=(0,W.m9)(n))._checkNotDeleted("refFromURL");const e=a2(t,n._repo.repoInfo_.nodeAdmin);RK("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&tc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),KK(n,e.path.toString())}function mf(n,t){return null===Hn((n=(0,W.m9)(n))._path)?fFe("child","path",t,!1):p0("child","path",t,!1),new Ba(n._repo,lr(n._path,t))}function c2(n,t){n=(0,W.m9)(n),Va("set",n._path),rc("set",t,n._path,!1);const e=new W.BH;return t2(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function BFe(n,t){MK("update",t,n._path,!1);const e=new W.BH;return function wFe(n,t,e,i){Lg(n,"update",{path:t.toString(),value:e});let r=!0;const o=m0(n),s={};if(po(e,(a,l)=>{r=!1,s[a]=SK(lr(t,a),Cr(l),n.serverSyncTree_,o)}),r)fo("update() called with empty data.  Don't do anything."),xu(0,i,"ok",void 0);else{const a=GI(n),l=function WOe(n,t,e,i){!function dOe(n,t,e,i){(0,W.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=MF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=Gi.fromObject(e);return Ng(n,new Og({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,s,a);HI(n.eventQueue_,l),n.server_.merge(t.toString(),e,(c,d)=>{const f="ok"===c;f||Xo("update at "+t+" failed: "+c);const g=wu(n.serverSyncTree_,a,!f),y=g.length>0?Vg(n,t):t;ua(n.eventQueue_,y,g),xu(0,i,c,d)}),po(e,c=>{const d=o2(n,lr(t,c));Vg(n,d)}),ua(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function UFe(n){n=(0,W.m9)(n);const t=new l2(()=>{}),e=new g0(t);return function bFe(n,t,e){const i=function XOe(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(c,d)=>{const f=vs(c,e);i=i||vu(d,f)});let r=n.syncPointTree_.get(e);r?i=i||vu(r,li()):(r=new gK,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,s=o?new _u(i,!0,!1):null;return function FOe(n){return AI(n.viewCache_)}(_K(r,t,kI(n.pendingWriteTree_,t._path),o?s.getNode():Rn.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Cr(r).withIndex(t._queryParams.getIndex());let s;if(zF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())s=a0(n.serverSyncTree_,t._path,o);else{const a=l0(n.serverSyncTree_,t);s=xK(n.serverSyncTree_,t._path,o,a)}return ua(n.eventQueue_,t._path,s),LI(n.serverSyncTree_,t,e,null,!0),o},r=>(Lg(n,"get for query "+(0,W.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new pf(i,new Ba(n._repo,n._path),n._queryParams.getIndex()))}class g0{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new $K("value",this,new pf(t.snapshotNode,new Ba(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new qK(this,t,e):null}matches(t){return t instanceof g0&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ZI{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new qK(this,t,e):null}createEvent(t,e){(0,W.hu)(null!=t.childName,"Child events should have a childName.");const i=mf(new Ba(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new $K(t.type,this,new pf(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ZI&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function _0(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=e,c=(d,f)=>{n2(n._repo,n,a),l(d,f)};c.userCallback=e.userCallback,c.context=e.context,e=c}const s=new l2(e,o||void 0),a="value"===t?new g0(s):new ZI(t,s);return function IFe(n,t,e){let i;i=".info"===Hn(t._path)?zF(n.infoSyncTree_,t,e):zF(n.serverSyncTree_,t,e),PK(n.eventQueue_,t._path,i)}(n._repo,n,a),()=>n2(n._repo,n,a)}function d2(n,t,e,i){return _0(n,"value",t,e,i)}function YK(n,t,e,i){return _0(n,"child_added",t,e,i)}function QK(n,t,e,i){return _0(n,"child_changed",t,e,i)}function XK(n,t,e,i){return _0(n,"child_moved",t,e,i)}function JK(n,t,e,i){return _0(n,"child_removed",t,e,i)}function eZ(n,t,e){let i=null;const r=e?new l2(e):null;"value"===t?i=new g0(r):t&&(i=new ZI(t,r)),n2(n._repo,n,i)}class cl{}class tZ extends cl{constructor(t,e){super(),this._value=t,this._key=e,this.type="endAt"}_apply(t){rc("endAt",this._value,t._path,!0);const e=EF(t._queryParams,this._value,this._key);if(KI(e),Cu(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Us(t._repo,t._path,e,t._orderByCalled)}}class jFe extends cl{constructor(t,e){super(),this._value=t,this._key=e,this.type="endBefore"}_apply(t){rc("endBefore",this._value,t._path,!1);const e=function QPe(n,t,e){let i;return i=EF(n,t,n.index_===nc||e?e:pu),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(KI(e),Cu(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Us(t._repo,t._path,e,t._orderByCalled)}}class nZ extends cl{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAt"}_apply(t){rc("startAt",this._value,t._path,!0);const e=CF(t._queryParams,this._value,this._key);if(KI(e),Cu(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Us(t._repo,t._path,e,t._orderByCalled)}}class $Fe extends cl{constructor(t,e){super(),this._value=t,this._key=e,this.type="startAfter"}_apply(t){rc("startAfter",this._value,t._path,!1);const e=function YPe(n,t,e){let i;return i=CF(n,t,n.index_===nc||e?e:nd),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(KI(e),Cu(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Us(t._repo,t._path,e,t._orderByCalled)}}class WFe extends cl{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Us(t._repo,t._path,function KPe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ZFe extends cl{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Us(t._repo,t._path,function ZPe(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class QFe extends cl{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){WI(t,"orderByChild");const e=new _i(this._path);if(Gn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new bF(e),r=EI(t._queryParams,i);return Cu(r),new Us(t._repo,t._path,r,!0)}}class JFe extends cl{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){WI(t,"orderByKey");const e=EI(t._queryParams,nc);return Cu(e),new Us(t._repo,t._path,e,!0)}}class t2e extends cl{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){WI(t,"orderByPriority");const e=EI(t._queryParams,Hi);return Cu(e),new Us(t._repo,t._path,e,!0)}}class i2e extends cl{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){WI(t,"orderByValue");const e=EI(t._queryParams,wF);return Cu(e),new Us(t._repo,t._path,e,!0)}}class o2e extends cl{constructor(t,e){super(),this._value=t,this._key=e,this.type="equalTo"}_apply(t){if(rc("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tZ(this._value,this._key)._apply(new nZ(this._value,this._key)._apply(t))}}function dl(n,...t){let e=(0,W.m9)(n);for(const i of t)e=i._apply(e);return e}(function BOe(n){(0,W.hu)(!OI,"__referenceConstructor has already been defined"),OI=n})(Ba),function GOe(n){(0,W.hu)(!NI,"__referenceConstructor has already been defined"),NI=n}(Ba);const u2={};function h2(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||tc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=a2(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=a2(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const d=r&&l?new Kb(Kb.OWNER):new ePe(n.name,n.options,t);RK("Invalid Firebase Database URL",s),Gn(s.path)||tc("Database URL must point to the root of a Firebase Database (not including a child path).");const f=function d2e(n,t,e,i){let r=u2[t.name];r||(r={},u2[t.name]=r);let o=r[n.toURLString()];return o&&tc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new _Fe(n,false,e,i),r[n.toURLString()]=o,o}(a,n,d,new JRe(n.name,e));return new h2e(f,n)}class h2e{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yFe(n,t,e){if(n.stats_=uF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new DI(n.repoInfo_,(i,r,o,s)=>{LK(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>VK(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,W.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new cf(n.repoInfo_,t,(i,r,o,s)=>{LK(n,i,r,o,s)},i=>{VK(n,i)},i=>{!function vFe(n,t){po(t,(e,i)=>{e2(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function iPe(n,t){const e=n.toString();return dF[e]||(dF[e]=t()),dF[e]}(n.repoInfo_,()=>new iOe(n.stats_,n.server_)),n.infoData_=new XPe,n.infoSyncTree_=new wK({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=a0(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),e2(n,"connected",!1),n.serverSyncTree_=new wK({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);ua(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ba(this._repo,li())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function c2e(n,t){const e=u2[t];(!e||e[n.key]!==n)&&tc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),UK(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&tc("Cannot call "+t+" on a deleted database.")}}function rZ(){S7.IS_TRANSPORT_INITIALIZED&&Xo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function f2e(){rZ(),mu.forceDisallow()}function p2e(){rZ(),Ag.forceDisallow(),mu.forceAllow()}function _2e(n,t){a7(n,t)}const v2e={".sv":"timestamp"};class x2e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cf.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},cf.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function y2e(n){iF(Rs.SDK_VERSION),(0,Rs._registerComponent)(new tl.wA("database",(t,{instanceIdentifier:e})=>h2(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Rs.registerVersion)(t7,"1.0.5",n),(0,Rs.registerVersion)(t7,"1.0.5","esm2017")}();const I2e=new na.Yd("@firebase/database-compat"),sZ=function(n){I2e.warn("FIREBASE WARNING: "+n)};class A2e{constructor(t){this._delegate=t}cancel(t){(0,W.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,W.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,W.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,W.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,W.Dv)("OnDisconnect.set",1,2,arguments.length),(0,W.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,W.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,W.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,W.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,sZ("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,W.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class k2e{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,W.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Eu{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,W.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,W.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,W.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,W.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,W.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),p0("DataSnapshot.child","path",t,!1),new Eu(this._database,this._delegate.child(t))}hasChild(t){return(0,W.Dv)("DataSnapshot.hasChild",1,1,arguments.length),p0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,W.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,W.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,W.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Eu(this._database,e)))}hasChildren(){return(0,W.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,W.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,W.Dv)("DataSnapshot.ref",0,0,arguments.length),new ha(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ko{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,W.Dv)("Query.on",2,4,arguments.length),(0,W.Wj)("Query.on","callback",e,!1);const s=ko.getCancelAndContextArgs_("Query.on",i,r),a=(c,d)=>{e.call(s.context,new Eu(this.database,c),d)};a.userCallback=e,a.context=s.context;const l=null===(o=s.cancel)||void 0===o?void 0:o.bind(s.context);switch(t){case"value":return d2(this._delegate,a,l),e;case"child_added":return YK(this._delegate,a,l),e;case"child_removed":return JK(this._delegate,a,l),e;case"child_changed":return QK(this._delegate,a,l),e;case"child_moved":return XK(this._delegate,a,l),e;default:throw new Error((0,W.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,W.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,W.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,W.Wj)("Query.off","callback",e,!0),(0,W.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,eZ(this._delegate,t,r)}else eZ(this._delegate,t)}get(){return UFe(this._delegate).then(t=>new Eu(this.database,t))}once(t,e,i,r){(0,W.Dv)("Query.once",1,4,arguments.length),(0,W.Wj)("Query.once","callback",e,!0);const o=ko.getCancelAndContextArgs_("Query.once",i,r),s=new W.BH,a=(c,d)=>{const f=new Eu(this.database,c);e&&e.call(o.context,f,d),s.resolve(f)};a.userCallback=e,a.context=o.context;const l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":d2(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":YK(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":JK(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":QK(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":XK(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error((0,W.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return(0,W.Dv)("Query.limitToFirst",1,1,arguments.length),new ko(this.database,dl(this._delegate,function KFe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new WFe(n)}(t)))}limitToLast(t){return(0,W.Dv)("Query.limitToLast",1,1,arguments.length),new ko(this.database,dl(this._delegate,function YFe(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ZFe(n)}(t)))}orderByChild(t){return(0,W.Dv)("Query.orderByChild",1,1,arguments.length),new ko(this.database,dl(this._delegate,function XFe(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return p0("orderByChild","path",n,!1),new QFe(n)}(t)))}orderByKey(){return(0,W.Dv)("Query.orderByKey",0,0,arguments.length),new ko(this.database,dl(this._delegate,function e2e(){return new JFe}()))}orderByPriority(){return(0,W.Dv)("Query.orderByPriority",0,0,arguments.length),new ko(this.database,dl(this._delegate,function n2e(){return new t2e}()))}orderByValue(){return(0,W.Dv)("Query.orderByValue",0,0,arguments.length),new ko(this.database,dl(this._delegate,function r2e(){return new i2e}()))}startAt(t=null,e){return(0,W.Dv)("Query.startAt",0,2,arguments.length),new ko(this.database,dl(this._delegate,function GFe(n=null,t){return f0("startAt","key",t,!0),new nZ(n,t)}(t,e)))}startAfter(t=null,e){return(0,W.Dv)("Query.startAfter",0,2,arguments.length),new ko(this.database,dl(this._delegate,function qFe(n,t){return f0("startAfter","key",t,!0),new $Fe(n,t)}(t,e)))}endAt(t=null,e){return(0,W.Dv)("Query.endAt",0,2,arguments.length),new ko(this.database,dl(this._delegate,function zFe(n,t){return f0("endAt","key",t,!0),new tZ(n,t)}(t,e)))}endBefore(t=null,e){return(0,W.Dv)("Query.endBefore",0,2,arguments.length),new ko(this.database,dl(this._delegate,function HFe(n,t){return f0("endBefore","key",t,!0),new jFe(n,t)}(t,e)))}equalTo(t,e){return(0,W.Dv)("Query.equalTo",1,2,arguments.length),new ko(this.database,dl(this._delegate,function s2e(n,t){return f0("equalTo","key",t,!0),new o2e(n,t)}(t,e)))}toString(){return(0,W.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,W.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,W.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ko))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,W.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,W.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,W.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ha(this.database,new Ba(this._delegate._repo,this._delegate._path))}}class ha extends ko{constructor(t,e){super(t,new Us(e._repo,e._path,new CI,!1)),this.database=t,this._delegate=e}getKey(){return(0,W.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,W.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ha(this.database,mf(this._delegate,t))}getParent(){(0,W.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ha(this.database,t):null}getRoot(){return(0,W.Dv)("Reference.root",0,0,arguments.length),new ha(this.database,this._delegate.root)}set(t,e){(0,W.Dv)("Reference.set",1,2,arguments.length),(0,W.Wj)("Reference.set","onComplete",e,!0);const i=c2(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,W.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,sZ("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Va("Reference.update",this._delegate._path),(0,W.Wj)("Reference.update","onComplete",e,!0);const i=BFe(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,W.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,W.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function VFe(n,t,e){if(Va("setWithPriority",n._path),rc("setWithPriority",t,n._path,!1),JF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new W.BH;return t2(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,W.Dv)("Reference.remove",0,1,arguments.length),(0,W.Wj)("Reference.remove","onComplete",t,!0);const e=function NFe(n){return Va("remove",n._path),c2(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,W.Dv)("Reference.transaction",1,3,arguments.length),(0,W.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,W.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,W.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function C2e(n,t,e){var i;if(n=(0,W.m9)(n),Va("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new W.BH,a=d2(n,()=>{});return function TFe(n,t,e,i,r,o){Lg(n,"transaction on "+t);const s={path:t,update:e,onComplete:i,status:null,order:r7(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=r2(n,t,void 0);s.currentInputSnapshot=a;const l=s.update(a.val());if(void 0===l)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{h0("transaction failed: Data returned ",l,s.path),s.status=0;const c=UI(n.transactionQueueTree_,t),d=ff(c)||[];let f;d.push(s),YF(c,d),"object"==typeof l&&null!==l&&(0,W.r3)(l,".priority")?(f=(0,W.DV)(l,".priority"),(0,W.hu)(u0(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(VI(n.serverSyncTree_,t)||Rn.EMPTY_NODE).getPriority().val();const g=m0(n),y=Cr(l,f),C=WF(y,a,g);s.currentOutputSnapshotRaw=y,s.currentOutputSnapshotResolved=C,s.currentWriteId=GI(n);const R=UF(n.serverSyncTree_,t,C,s.currentWriteId,s.applyLocally);ua(n.eventQueue_,t,R),$I(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(l,c,d)=>{let f=null;l?o.reject(l):(f=new pf(d,new Ba(n._repo,n._path),Hi),o.resolve(new x2e(c,f)))},a,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new k2e(o.committed,new Eu(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,W.Dv)("Reference.setPriority",1,2,arguments.length),(0,W.Wj)("Reference.setPriority","onComplete",e,!0);const i=function LFe(n,t){n=(0,W.m9)(n),Va("setPriority",n._path),JF("setPriority",t,!1);const e=new W.BH;return t2(n._repo,lr(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,W.Dv)("Reference.push",0,2,arguments.length),(0,W.Wj)("Reference.push","onComplete",e,!0);const i=function FFe(n,t){n=(0,W.m9)(n),Va("push",n._path),rc("push",t,n._path,!0);const e=NK(n._repo),i=OFe(e),r=mf(n,i),o=mf(n,i);let s;return s=null!=t?c2(o,t).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}(this._delegate,t),r=i.then(s=>new ha(this.database,s));e&&r.then(()=>e(null),s=>e(s));const o=new ha(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Va("Reference.onDisconnect",this._delegate._path),new A2e(new WK(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class y0{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:f2e,forceLongPolling:p2e}}useEmulator(t,e,i={}){!function oZ(n,t,e,i={}){(n=(0,W.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&tc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&tc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Kb(Kb.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:(0,W.Sg)(i.mockUserToken,n.app.options.projectId);o=new Kb(s)}!function l2e(n,t,e,i){n.repoInfo_=new lF(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,W.Dv)("database.ref",0,1,arguments.length),t instanceof ha){const e=ZK(this._delegate,t.toString());return new ha(this,e)}{const e=KK(this._delegate,t);return new ha(this,e)}}refFromURL(t){(0,W.Dv)("database.refFromURL",1,1,arguments.length);const i=ZK(this._delegate,t);return new ha(this,i)}goOffline(){return(0,W.Dv)("database.goOffline",0,0,arguments.length),function m2e(n){(n=(0,W.m9)(n))._checkNotDeleted("goOffline"),UK(n._repo)}(this._delegate)}goOnline(){return(0,W.Dv)("database.goOnline",0,0,arguments.length),function g2e(n){(n=(0,W.m9)(n))._checkNotDeleted("goOnline"),function SFe(n){n.persistentConnection_&&n.persistentConnection_.resume(FK)}(n._repo)}(this._delegate)}}y0.ServerValue={TIMESTAMP:function b2e(){return v2e}(),increment:n=>function w2e(n){return{".sv":{increment:n}}}(n)};var R2e=Object.freeze({__proto__:null,initStandalone:function M2e({app:n,url:t,version:e,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){iF(e);const a=new tl.H0("database-standalone"),l=new tl.zt("auth-internal",a);let c;return l.setComponent(new tl.wA("auth-internal",()=>i,"PRIVATE")),r&&(c=new tl.zt("app-check-internal",a),c.setComponent(new tl.wA("app-check-internal",()=>r,"PRIVATE"))),{instance:new y0(h2(n,l,c,t,s),n),namespace:o}}});const P2e=y0.ServerValue;function v0(n,t,e="on",i=Nd){return new mt(r=>{let o=null;return o=n[e](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),"once"===e&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe(We(r=>{const{snapshot:o,prevKey:s}=r;let a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),lt())}function aZ(n){return null==n}function lZ(n){return"function"==typeof n.set}function cZ(n,t){return lZ(t)?t:n.ref(t)}function dZ(n,t){if(function F2e(n){return"string"==typeof n}(n))return t.stringCase();if(lZ(n))return t.firebaseCase();if(function N2e(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function uZ(n){return(aZ(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function hZ(n,t,e){return j(...(t=uZ(t)).map(r=>v0(n,r,"on",e)))}function fZ(n,t){return function(i,r){return dZ(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function U2e(n){return function(e){return e?dZ(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function pZ(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function H2e(n,t){const{payload:e,prevKey:i,key:r}=t,o=pZ(n,r),s=function j2e(n,t){if(aZ(t))return 0;{const e=pZ(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{const c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,n=[...n,c],!1})}return n;case"child_added":if(o>-1)(n[o-1]?.key||null)!==i&&(n=n.filter(l=>l.payload.key!==e.key)).splice(s,0,t);else{if(null==i)return[t,...n];(n=n.slice()).splice(s,0,t)}return n;case"child_removed":return n.filter(a=>a.payload.key!==e.key);case"child_changed":return n.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){const a=n.splice(o,1)[0];return(n=n.slice()).splice(s,0,a),n}return n;default:return n}}function mZ(n,t,e){return function z2e(n,t,e){return v0(n,"value","once",e).pipe(St(i=>{const r=[ne(i)];return t.forEach(o=>r.push(v0(n,o,"on",e))),j(...r).pipe(_h(H2e,[]))}),dn())}(n,t=uZ(t),e)}function gZ(n,t){return function(){return v0(n,"value","on",t)}}!function O2e(n){n.INTERNAL.registerComponent(new tl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new y0(r,i)},"PUBLIC").setServiceProps({Reference:ha,Query:ko,Database:y0,DataSnapshot:Eu,enableLogging:_2e,INTERNAL:R2e,ServerValue:P2e}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","1.0.5")}(ta.Z);const q2e=new Ue("angularfire2.realtimeDatabaseURL"),W2e=new Ue("angularfire2.database.use-emulator");let K2e=(()=>{class n{schedulers;database;constructor(e,i,r,o,s,a,l,c,d,f,g,y,C,R,F){this.schedulers=a;const te=l,ie=xv(e,s,i);c&&Kk(ie,s,d,g,y,C,f,R),this.database=sE(`${ie.name}.database.${r}`,"AngularFireDatabase",ie.name,()=>{const ye=s.runOutsideAngular(()=>ie.database(r||void 0));return te&&ye.useEmulator(...te),ye},[te])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>cZ(this.database,e));let o=r;return i&&(o=i(r)),function G2e(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:fZ(i,"update"),set:fZ(i,"set"),push:r=>i.push(r),remove:U2e(i),snapshotChanges:r=>mZ(n,r,e).pipe(Lr),stateChanges:r=>hZ(n,r,e).pipe(Lr),auditTrail:r=>function L2e(n,t,e){return function B2e(n,t,e){return function V2e(n,t){return v0(n,"value","on",t).pipe(We(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(DD(t),We(([r,o])=>{const s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),H$(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),We(r=>r.actions))}(n,hZ(n,t).pipe(_h((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(Lr),valueChanges:(r,o)=>mZ(n,r,e).pipe(We(a=>a.map(l=>o&&o.idField?{...l.payload.val(),[o.idField]:l.key}:l.payload.val())),Lr)}}(o,this)}object(e){return function $2e(n,t){return{query:n,snapshotChanges:()=>gZ(n,t.schedulers.outsideAngular)().pipe(Lr),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>gZ(n,t.schedulers.outsideAngular)().pipe(Lr,We(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>cZ(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||n)(Y(_m),Y(ym,8),Y(q2e,8),Y(gr),Y(Lt),Y(oE),Y(W2e,8),Y(vm,8),Y(jk,8),Y(Hk,8),Y(Gk,8),Y($k,8),Y(qk,8),Y(Wk,8),Y(rE,8))};static \u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Z2e=(()=>{class n{constructor(){ta.Z.registerVersion("angularfire",pm.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Zt({type:n});static \u0275inj=qt({providers:[K2e]})}return n})();function f2(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Bg(n,t){const e=t?"":"none";f2(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function _Z(n,t,e){f2(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function YI(n,t){return t&&"none"!=t?n+" "+t:n}function yZ(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function p2(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function m2(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function g2(n,t,e){const{top:i,bottom:r,left:o,right:s}=n;return e>=i&&e<=r&&t>=o&&t<=s}function b0(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function vZ(n,t,e,i){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=n,d=l*t,f=c*t;return i>r-f&&i<s+f&&e>a-d&&e<o+d}class bZ{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:m2(e)})})}handleScroll(t){const e=Ta(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,s;if(e===this._document){const c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=e.scrollTop,s=e.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&b0(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function wZ(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?EZ(n,t):("input"===i||"select"===i||"textarea"===i)&&CZ(n,t),xZ("canvas",n,t,EZ),xZ("input, textarea, select",n,t,CZ),t}function xZ(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let s=0;s<r.length;s++)i(r[s],o[s])}}let X2e=0;function CZ(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${X2e++}`)}function EZ(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const DZ=Fl({passive:!0}),QI=Fl({passive:!1}),_2=new Set(["position"]);class eNe{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Jt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Bg(i,e)))}constructor(t,e,i,r,o,s){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Z,this._pointerMoveSubscription=K.EMPTY,this._pointerUpSubscription=K.EMPTY,this._scrollSubscription=K.EMPTY,this._resizeSubscription=K.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Z,this.started=new Z,this.released=new Z,this.ended=new Z,this.entered=new Z,this.exited=new Z,this.dropped=new Z,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const y=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),C=this._dropContainer;if(!y)return void this._endDragSequence(a);(!C||!C.isDragging()&&!C.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,f=this._activeTransform;f.x=c.x-d.x+this._passiveTransform.x,f.y=c.y-d.y+this._passiveTransform.y,this._applyRootElementTransform(f.x,f.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new bZ(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Sr(i)),this._handles.forEach(i=>Bg(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Sr(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,QI),e.addEventListener("touchstart",this._pointerDown,DZ),e.addEventListener("dragstart",this._nativeDragStart,QI)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Sr(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Bg(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Bg(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){w0(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();r.insertBefore(s,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),_Z(i,!1,_2),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,a).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=w0(e),o=!r&&0!==e.button,s=this._rootElement,a=Ta(e),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=r?CC(e):xC(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||l||c)return;if(this._handles.length){const g=s.style;this._rootElementTapHighlight=g.webkitTapHighlightColor||"",g.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(g=>this._updateOnScroll(g)),this._boundaryElement&&(this._boundaryRect=m2(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const f=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:f.x,y:f.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){_Z(this._rootElement,!0,_2),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),s=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,t),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,s=t.viewContainer.createEmbeddedView(i,t.context);s.detectChanges(),r=SZ(s,this._document),this._previewRef=s,t.matchSize?TZ(r,o):r.style.transform=XI(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=wZ(this._rootElement),TZ(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return f2(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},_2),Bg(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function Q2e(n){const t=getComputedStyle(n),e=p2(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const r=e.indexOf(i),o=p2(t,"transition-duration"),s=p2(t,"transition-delay");return yZ(o[r])+yZ(s[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=s=>{(!s||Ta(s)===this._preview&&"transform"===s.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=SZ(this._placeholderRef,this._document)):i=wZ(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,s=w0(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition();return{x:o.left-t.left+(s.pageX-o.left-a.left),y:o.top-t.top+(s.pageY-o.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=w0(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const s=this._ownerSVGElement.getScreenCTM();if(s){const a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:s}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,f=a.bottom-(c-s);i=IZ(i,a.left+o,a.right-(l-o)),r=IZ(r,d,f)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(e-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Bg(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,QI),t.removeEventListener("touchstart",this._pointerDown,DZ),t.removeEventListener("dragstart",this._nativeDragStart,QI)}_applyRootElementTransform(t,e){const i=XI(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=YI(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=XI(t,e);this._preview.style.transform=YI(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),s>0&&(t-=s)):t=0,r.height>i.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:w0(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Ta(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&b0(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=O1(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Sr(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function XI(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function IZ(n,t,e){return Math.max(t,Math.min(e,n))}function w0(n){return"t"===n.type[0]}function SZ(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function TZ(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=XI(t.left,t.top)}function x0(n,t){return Math.max(0,Math.min(t,n))}class nNe{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===s&&o.length>0)return null;const a="horizontal"===this.orientation,l=o.findIndex(F=>F.drag===t),c=o[s],f=c.clientRect,g=l>s?1:-1,y=this._getItemOffsetPx(o[l].clientRect,f,g),C=this._getSiblingOffsetPx(l,o,g),R=o.slice();return function tNe(n,t,e){const i=x0(t,n.length-1),r=x0(e,n.length-1);if(i===r)return;const o=n[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)n[a]=n[a+s];n[r]=o}(o,l,s),o.forEach((F,te)=>{if(R[te]===F)return;const ie=F.drag===t,ye=ie?y:C,Ve=ie?t.getPlaceholderElement():F.drag.getRootElement();F.offset+=ye,a?(Ve.style.transform=YI(`translate3d(${Math.round(F.offset)}px, 0, 0)`,F.initialTransform),b0(F.clientRect,0,ye)):(Ve.style.transform=YI(`translate3d(0, ${Math.round(F.offset)}px, 0)`,F.initialTransform),b0(F.clientRect,ye,0))}),this._previousSwap.overlaps=g2(f,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,s=this._activeDraggables,a=s.indexOf(t),l=t.getPlaceholderElement();let c=s[o];if(c===t&&(c=s[o+1]),!c&&(null==o||-1===o||o<s.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,t)}else Sr(this._element).appendChild(l),s.push(t);l.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{b0(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:m2(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,s=e[t+-1*i];let a=o[r?"width":"height"]*i;if(s){const l=r?"left":"top",c=r?"right":"bottom";-1===i?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return r?t>=s.right:e>=s.bottom}{const s=i[0].clientRect;return r?t<=s.left:e<=s.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>a!==t&&((!r||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?r.x:r.y)!==this._previousSwap.delta)&&(o?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom))));return-1!==s&&this._sortPredicate(s,t)?s:-1}}class iNe{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Z,this.entered=new Z,this.exited=new Z,this.dropped=new Z,this.sorted=new Z,this.receivingStarted=new Z,this.receivingStopped=new Z,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=K.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Z,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Y2e(n=0,t=Nd){return n<0&&(n=0),DP(n,n,t)}(0,UG).pipe(bn(this._stopScrollTimers)).subscribe(()=>{const s=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?s.scrollBy(0,-a):2===this._verticalScrollDirection&&s.scrollBy(0,a),1===this._horizontalScrollDirection?s.scrollBy(-a,0):2===this._horizontalScrollDirection&&s.scrollBy(a,0)})},this.element=Sr(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new bZ(i),this._sortStrategy=new nNe(this.element,e),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,s,a,l={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Sr(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!vZ(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||vZ(s.clientRect,.05,t,e)&&([r,o]=function rNe(n,t,e,i){const r=MZ(t,i),o=RZ(t,e);let s=0,a=0;if(r){const l=n.scrollTop;1===r?l>0&&(s=1):n.scrollHeight-l>n.clientHeight&&(s=2)}if(o){const l=n.scrollLeft;1===o?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[s,a]}(a,s.clientRect,t,e),(r||o)&&(i=a))}),!r&&!o){const{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=MZ(l,e),o=RZ(l,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Sr(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Sr(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Sr(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&g2(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!g2(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Sr(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=O1(Sr(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function MZ(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function RZ(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const JI=Fl({passive:!1,capture:!0});let oNe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new Z,this.pointerUp=new Z,this.scroll=new Z,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,JI)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,JI)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:JI}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:JI}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,s)=>{this._document.addEventListener(s,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new mt(r=>this._ngZone.runOutsideAngular(()=>{const s=a=>{this._activeDragInstances.length&&r.next(a)};return e.addEventListener("scroll",s,!0),()=>{e.removeEventListener("scroll",s,!0)}}))),j(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(Y(Lt),Y(fn))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sNe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let y2=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=sNe){return new eNe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new iNe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(Y(fn),Y(Lt),Y(lg),Y(oNe))},n.\u0275prov=Ge({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({providers:[y2],imports:[cg]}),n})(),yNe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=qt({imports:[l5,On,l5,On]}),n})(),vNe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Zt({type:n,bootstrap:[b1e]});static#n=this.\u0275inj=qt({providers:[Fa,Zl],imports:[EU,n1e,mMe,IC,fde,lde,VG,Dbe,N$,ade,Ube,LRe,abe,Ave,_Ie,URe,Yhe.initializeApp(lbe),tfe,I_e,fxe,Z2e,l1e,jbe,f$,e$,WSe,mNe,f$,jCe,ZTe,c0e,yNe,sAe,w0e,lEe]})}return n})();Qse().bootstrapModule(vNe).catch(n=>console.error(n))},217:function(mo,ve){var ze,H;void 0!==(H="function"==typeof(ze=function(){"use strict";function V(M,U,N){var q=new XMLHttpRequest;q.open("GET",M),q.responseType="blob",q.onload=function(){le(q.response,U,N)},q.onerror=function(){console.error("could not download file")},q.send()}function K(M){var U=new XMLHttpRequest;U.open("HEAD",M,!1);try{U.send()}catch{}return 200<=U.status&&299>=U.status}function fe(M){try{M.dispatchEvent(new MouseEvent("click"))}catch{var U=document.createEvent("MouseEvents");U.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),M.dispatchEvent(U)}}var _e="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ce=_e.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),le=_e.saveAs||("object"!=typeof window||window!==_e?function(){}:"download"in HTMLAnchorElement.prototype&&!ce?function(M,U,N){var q=_e.URL||_e.webkitURL,$=document.createElement("a");$.download=U=U||M.name||"download",$.rel="noopener","string"==typeof M?($.href=M,$.origin===location.origin?fe($):K($.href)?V(M,U,N):fe($,$.target="_blank")):($.href=q.createObjectURL(M),setTimeout(function(){q.revokeObjectURL($.href)},4e4),setTimeout(function(){fe($)},0))}:"msSaveOrOpenBlob"in navigator?function(M,U,N){if(U=U||M.name||"download","string"!=typeof M)navigator.msSaveOrOpenBlob(function E(M,U){return typeof U>"u"?U={autoBom:!1}:"object"!=typeof U&&(console.warn("Deprecated: Expected third argument to be a object"),U={autoBom:!U}),U.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(M.type)?new Blob(["\ufeff",M],{type:M.type}):M}(M,N),U);else if(K(M))V(M,U,N);else{var q=document.createElement("a");q.href=M,q.target="_blank",setTimeout(function(){fe(q)})}}:function(M,U,N,q){if((q=q||open("","_blank"))&&(q.document.title=q.document.body.innerText="downloading..."),"string"==typeof M)return V(M,U,N);var $="application/octet-stream"===M.type,oe=/constructor/i.test(_e.HTMLElement)||_e.safari,pe=/CriOS\/[\d]+/.test(navigator.userAgent);if((pe||$&&oe||ce)&&typeof FileReader<"u"){var xe=new FileReader;xe.onloadend=function(){var Ke=xe.result;Ke=pe?Ke:Ke.replace(/^data:[^;]*;/,"data:attachment/file;"),q?q.location.href=Ke:location=Ke,q=null},xe.readAsDataURL(M)}else{var be=_e.URL||_e.webkitURL,rt=be.createObjectURL(M);q?q.location=rt:location.href=rt,q=null,setTimeout(function(){be.revokeObjectURL(rt)},4e4)}});_e.saveAs=le.saveAs=le,mo.exports=le})?ze.apply(ve,[]):ze)&&(mo.exports=H)},965:mo=>{mo.exports=function ve(ze,T,H){function E(fe,_e){if(!T[fe]){if(!ze[fe]){if(V)return V(fe,!0);var le=new Error("Cannot find module '"+fe+"'");throw le.code="MODULE_NOT_FOUND",le}var M=T[fe]={exports:{}};ze[fe][0].call(M.exports,function(U){return E(ze[fe][1][U]||U)},M,M.exports,ve,ze,T,H)}return T[fe].exports}for(var V=void 0,K=0;K<H.length;K++)E(H[K]);return E}({1:[function(ve,ze,T){"use strict";var H=ve("./utils"),E=ve("./support"),V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";T.encode=function(K){for(var fe,_e,ce,M,U,N,q=[],$=0,oe=K.length,pe=oe,xe="string"!==H.getTypeOf(K);$<K.length;)pe=oe-$,ce=xe?(fe=K[$++],_e=$<oe?K[$++]:0,$<oe?K[$++]:0):(fe=K.charCodeAt($++),_e=$<oe?K.charCodeAt($++):0,$<oe?K.charCodeAt($++):0),M=(3&fe)<<4|_e>>4,U=1<pe?(15&_e)<<2|ce>>6:64,N=2<pe?63&ce:64,q.push(V.charAt(fe>>2)+V.charAt(M)+V.charAt(U)+V.charAt(N));return q.join("")},T.decode=function(K){var fe,_e,ce,le,M,U,N=0,q=0,$="data:";if(K.substr(0,5)===$)throw new Error("Invalid base64 input, it looks like a data url.");var oe,pe=3*(K=K.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(K.charAt(K.length-1)===V.charAt(64)&&pe--,K.charAt(K.length-2)===V.charAt(64)&&pe--,pe%1!=0)throw new Error("Invalid base64 input, bad content length.");for(oe=E.uint8array?new Uint8Array(0|pe):new Array(0|pe);N<K.length;)fe=V.indexOf(K.charAt(N++))<<2|(le=V.indexOf(K.charAt(N++)))>>4,_e=(15&le)<<4|(M=V.indexOf(K.charAt(N++)))>>2,ce=(3&M)<<6|(U=V.indexOf(K.charAt(N++))),oe[q++]=fe,64!==M&&(oe[q++]=_e),64!==U&&(oe[q++]=ce);return oe}},{"./support":30,"./utils":32}],2:[function(ve,ze,T){"use strict";var H=ve("./external"),E=ve("./stream/DataWorker"),V=ve("./stream/Crc32Probe"),K=ve("./stream/DataLengthProbe");function fe(_e,ce,le,M,U){this.compressedSize=_e,this.uncompressedSize=ce,this.crc32=le,this.compression=M,this.compressedContent=U}fe.prototype={getContentWorker:function(){var _e=new E(H.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new K("data_length")),ce=this;return _e.on("end",function(){if(this.streamInfo.data_length!==ce.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_e},getCompressedWorker:function(){return new E(H.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},fe.createWorkerFrom=function(_e,ce,le){return _e.pipe(new V).pipe(new K("uncompressedSize")).pipe(ce.compressWorker(le)).pipe(new K("compressedSize")).withStreamInfo("compression",ce)},ze.exports=fe},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(ve,ze,T){"use strict";var H=ve("./stream/GenericWorker");T.STORE={magic:"\0\0",compressWorker:function(){return new H("STORE compression")},uncompressWorker:function(){return new H("STORE decompression")}},T.DEFLATE=ve("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(ve,ze,T){"use strict";var H=ve("./utils"),E=function(){for(var V,K=[],fe=0;fe<256;fe++){V=fe;for(var _e=0;_e<8;_e++)V=1&V?3988292384^V>>>1:V>>>1;K[fe]=V}return K}();ze.exports=function(V,K){return void 0!==V&&V.length?"string"!==H.getTypeOf(V)?function(fe,_e,ce,le){var M=E,U=0+ce;fe^=-1;for(var N=0;N<U;N++)fe=fe>>>8^M[255&(fe^_e[N])];return-1^fe}(0|K,V,V.length):function(fe,_e,ce,le){var M=E,U=0+ce;fe^=-1;for(var N=0;N<U;N++)fe=fe>>>8^M[255&(fe^_e.charCodeAt(N))];return-1^fe}(0|K,V,V.length):0}},{"./utils":32}],5:[function(ve,ze,T){"use strict";T.base64=!1,T.binary=!1,T.dir=!1,T.createFolders=!0,T.date=null,T.compression=null,T.compressionOptions=null,T.comment=null,T.unixPermissions=null,T.dosPermissions=null},{}],6:[function(ve,ze,T){"use strict";var H;H=typeof Promise<"u"?Promise:ve("lie"),ze.exports={Promise:H}},{lie:37}],7:[function(ve,ze,T){"use strict";var H=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",E=ve("pako"),V=ve("./utils"),K=ve("./stream/GenericWorker"),fe=H?"uint8array":"array";function _e(ce,le){K.call(this,"FlateWorker/"+ce),this._pako=null,this._pakoAction=ce,this._pakoOptions=le,this.meta={}}T.magic="\b\0",V.inherits(_e,K),_e.prototype.processChunk=function(ce){this.meta=ce.meta,null===this._pako&&this._createPako(),this._pako.push(V.transformTo(fe,ce.data),!1)},_e.prototype.flush=function(){K.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},_e.prototype.cleanUp=function(){K.prototype.cleanUp.call(this),this._pako=null},_e.prototype._createPako=function(){this._pako=new E[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var ce=this;this._pako.onData=function(le){ce.push({data:le,meta:ce.meta})}},T.compressWorker=function(ce){return new _e("Deflate",ce)},T.uncompressWorker=function(){return new _e("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(ve,ze,T){"use strict";function H(M,U){var N,q="";for(N=0;N<U;N++)q+=String.fromCharCode(255&M),M>>>=8;return q}function E(M,U,N,q,$,oe){var pe,xe,be=M.file,rt=M.compression,Ke=oe!==fe.utf8encode,ot=V.transformTo("string",oe(be.name)),je=V.transformTo("string",fe.utf8encode(be.name)),xt=be.comment,kt=V.transformTo("string",oe(xt)),re=V.transformTo("string",fe.utf8encode(xt)),Je=je.length!==be.name.length,I=re.length!==xt.length,nt="",Ht="",dt="",on=be.dir,wt=be.date,mt={crc32:0,compressedSize:0,uncompressedSize:0};U&&!N||(mt.crc32=M.crc32,mt.compressedSize=M.compressedSize,mt.uncompressedSize=M.uncompressedSize);var Ze=0;U&&(Ze|=8),Ke||!Je&&!I||(Ze|=2048);var Z,tt,Be=0,Ee=0;on&&(Be|=16),"UNIX"===$?(Ee=798,Be|=(tt=Z=be.unixPermissions,Z||(tt=on?16893:33204),(65535&tt)<<16)):(Ee=20,Be|=function(Z){return 63&(Z||0)}(be.dosPermissions)),pe=wt.getUTCHours(),pe<<=6,pe|=wt.getUTCMinutes(),pe<<=5,pe|=wt.getUTCSeconds()/2,xe=wt.getUTCFullYear()-1980,xe<<=4,xe|=wt.getUTCMonth()+1,xe<<=5,xe|=wt.getUTCDate(),Je&&(Ht=H(1,1)+H(_e(ot),4)+je,nt+="up"+H(Ht.length,2)+Ht),I&&(dt=H(1,1)+H(_e(kt),4)+re,nt+="uc"+H(dt.length,2)+dt);var we="";return we+="\n\0",we+=H(Ze,2),we+=rt.magic,we+=H(pe,2),we+=H(xe,2),we+=H(mt.crc32,4),we+=H(mt.compressedSize,4),we+=H(mt.uncompressedSize,4),we+=H(ot.length,2),we+=H(nt.length,2),{fileRecord:ce.LOCAL_FILE_HEADER+we+ot+nt,dirRecord:ce.CENTRAL_FILE_HEADER+H(Ee,2)+we+H(kt.length,2)+"\0\0\0\0"+H(Be,4)+H(q,4)+ot+nt+kt}}var V=ve("../utils"),K=ve("../stream/GenericWorker"),fe=ve("../utf8"),_e=ve("../crc32"),ce=ve("../signature");function le(M,U,N,q){K.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=N,this.encodeFileName=q,this.streamFiles=M,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}V.inherits(le,K),le.prototype.push=function(M){var U=M.meta.percent||0,N=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(M):(this.bytesWritten+=M.data.length,K.prototype.push.call(this,{data:M.data,meta:{currentFile:this.currentFile,percent:N?(U+100*(N-q-1))/N:100}}))},le.prototype.openedSource=function(M){this.currentSourceOffset=this.bytesWritten,this.currentFile=M.file.name;var U=this.streamFiles&&!M.file.dir;if(U){var N=E(M,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},le.prototype.closedSource=function(M){this.accumulate=!1;var q,U=this.streamFiles&&!M.file.dir,N=E(M,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),U)this.push({data:(q=M,ce.DATA_DESCRIPTOR+H(q.crc32,4)+H(q.compressedSize,4)+H(q.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},le.prototype.flush=function(){for(var M=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var $,oe,pe,rt,q=($=this.dirRecords.length,oe=this.bytesWritten-M,pe=M,rt=V.transformTo("string",(0,this.encodeFileName)(this.zipComment)),ce.CENTRAL_DIRECTORY_END+"\0\0\0\0"+H($,2)+H($,2)+H(oe,4)+H(pe,4)+H(rt.length,2)+rt);this.push({data:q,meta:{percent:100}})},le.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},le.prototype.registerPrevious=function(M){this._sources.push(M);var U=this;return M.on("data",function(N){U.processChunk(N)}),M.on("end",function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()}),M.on("error",function(N){U.error(N)}),this},le.prototype.resume=function(){return!!K.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},le.prototype.error=function(M){var U=this._sources;if(!K.prototype.error.call(this,M))return!1;for(var N=0;N<U.length;N++)try{U[N].error(M)}catch{}return!0},le.prototype.lock=function(){K.prototype.lock.call(this);for(var M=this._sources,U=0;U<M.length;U++)M[U].lock()},ze.exports=le},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(ve,ze,T){"use strict";var H=ve("../compressions"),E=ve("./ZipFileWorker");T.generateWorker=function(V,K,fe){var _e=new E(K.streamFiles,fe,K.platform,K.encodeFileName),ce=0;try{V.forEach(function(le,M){ce++;var U=function(oe,pe){var xe=oe||pe,be=H[xe];if(!be)throw new Error(xe+" is not a valid compression method !");return be}(M.options.compression,K.compression),q=M.dir,$=M.date;M._compressWorker(U,M.options.compressionOptions||K.compressionOptions||{}).withStreamInfo("file",{name:le,dir:q,date:$,comment:M.comment||"",unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions}).pipe(_e)}),_e.entriesCount=ce}catch(le){_e.error(le)}return _e}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(ve,ze,T){"use strict";function H(){if(!(this instanceof H))return new H;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var E=new H;for(var V in this)"function"!=typeof this[V]&&(E[V]=this[V]);return E}}(H.prototype=ve("./object")).loadAsync=ve("./load"),H.support=ve("./support"),H.defaults=ve("./defaults"),H.version="3.10.1",H.loadAsync=function(E,V){return(new H).loadAsync(E,V)},H.external=ve("./external"),ze.exports=H},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(ve,ze,T){"use strict";var H=ve("./utils"),E=ve("./external"),V=ve("./utf8"),K=ve("./zipEntries"),fe=ve("./stream/Crc32Probe"),_e=ve("./nodejsUtils");function ce(le){return new E.Promise(function(M,U){var N=le.decompressed.getContentWorker().pipe(new fe);N.on("error",function(q){U(q)}).on("end",function(){N.streamInfo.crc32!==le.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):M()}).resume()})}ze.exports=function(le,M){var U=this;return M=H.extend(M||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:V.utf8decode}),_e.isNode&&_e.isStream(le)?E.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):H.prepareContent("the loaded zip file",le,!0,M.optimizedBinaryString,M.base64).then(function(N){var q=new K(M);return q.load(N),q}).then(function(N){var q=[E.Promise.resolve(N)],$=N.files;if(M.checkCRC32)for(var oe=0;oe<$.length;oe++)q.push(ce($[oe]));return E.Promise.all(q)}).then(function(N){for(var q=N.shift(),$=q.files,oe=0;oe<$.length;oe++){var pe=$[oe],xe=pe.fileNameStr,be=H.resolve(pe.fileNameStr);U.file(be,pe.decompressed,{binary:!0,optimizedBinaryString:!0,date:pe.date,dir:pe.dir,comment:pe.fileCommentStr.length?pe.fileCommentStr:null,unixPermissions:pe.unixPermissions,dosPermissions:pe.dosPermissions,createFolders:M.createFolders}),pe.dir||(U.file(be).unsafeOriginalName=xe)}return q.zipComment.length&&(U.comment=q.zipComment),U})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(ve,ze,T){"use strict";var H=ve("../utils"),E=ve("../stream/GenericWorker");function V(K,fe){E.call(this,"Nodejs stream input adapter for "+K),this._upstreamEnded=!1,this._bindStream(fe)}H.inherits(V,E),V.prototype._bindStream=function(K){var fe=this;(this._stream=K).pause(),K.on("data",function(_e){fe.push({data:_e,meta:{percent:0}})}).on("error",function(_e){fe.isPaused?this.generatedError=_e:fe.error(_e)}).on("end",function(){fe.isPaused?fe._upstreamEnded=!0:fe.end()})},V.prototype.pause=function(){return!!E.prototype.pause.call(this)&&(this._stream.pause(),!0)},V.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ze.exports=V},{"../stream/GenericWorker":28,"../utils":32}],13:[function(ve,ze,T){"use strict";var H=ve("readable-stream").Readable;function E(V,K,fe){H.call(this,K),this._helper=V;var _e=this;V.on("data",function(ce,le){_e.push(ce)||_e._helper.pause(),fe&&fe(le)}).on("error",function(ce){_e.emit("error",ce)}).on("end",function(){_e.push(null)})}ve("../utils").inherits(E,H),E.prototype._read=function(){this._helper.resume()},ze.exports=E},{"../utils":32,"readable-stream":16}],14:[function(ve,ze,T){"use strict";ze.exports={isNode:typeof Buffer<"u",newBufferFrom:function(H,E){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(H,E);if("number"==typeof H)throw new Error('The "data" argument must not be a number');return new Buffer(H,E)},allocBuffer:function(H){if(Buffer.alloc)return Buffer.alloc(H);var E=new Buffer(H);return E.fill(0),E},isBuffer:function(H){return Buffer.isBuffer(H)},isStream:function(H){return H&&"function"==typeof H.on&&"function"==typeof H.pause&&"function"==typeof H.resume}}},{}],15:[function(ve,ze,T){"use strict";function H(be,rt,Ke){var ot,je=V.getTypeOf(rt),xt=V.extend(Ke||{},_e);xt.date=xt.date||new Date,null!==xt.compression&&(xt.compression=xt.compression.toUpperCase()),"string"==typeof xt.unixPermissions&&(xt.unixPermissions=parseInt(xt.unixPermissions,8)),xt.unixPermissions&&16384&xt.unixPermissions&&(xt.dir=!0),xt.dosPermissions&&16&xt.dosPermissions&&(xt.dir=!0),xt.dir&&(be=$(be)),xt.createFolders&&(ot=q(be))&&oe.call(this,ot,!0),Ke&&void 0!==Ke.binary||(xt.binary=!("string"===je&&!1===xt.binary&&!1===xt.base64)),(rt instanceof ce&&0===rt.uncompressedSize||xt.dir||!rt||0===rt.length)&&(xt.base64=!1,xt.binary=!0,rt="",xt.compression="STORE",je="string");var re;re=rt instanceof ce||rt instanceof K?rt:U.isNode&&U.isStream(rt)?new N(be,rt):V.prepareContent(be,rt,xt.binary,xt.optimizedBinaryString,xt.base64);var Je=new le(be,re,xt);this.files[be]=Je}var E=ve("./utf8"),V=ve("./utils"),K=ve("./stream/GenericWorker"),fe=ve("./stream/StreamHelper"),_e=ve("./defaults"),ce=ve("./compressedObject"),le=ve("./zipObject"),M=ve("./generate"),U=ve("./nodejsUtils"),N=ve("./nodejs/NodejsStreamInputAdapter"),q=function(be){"/"===be.slice(-1)&&(be=be.substring(0,be.length-1));var rt=be.lastIndexOf("/");return 0<rt?be.substring(0,rt):""},$=function(be){return"/"!==be.slice(-1)&&(be+="/"),be},oe=function(be,rt){return rt=void 0!==rt?rt:_e.createFolders,be=$(be),this.files[be]||H.call(this,be,null,{dir:!0,createFolders:rt}),this.files[be]};function pe(be){return"[object RegExp]"===Object.prototype.toString.call(be)}var xe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(be){var rt,Ke,ot;for(rt in this.files)ot=this.files[rt],(Ke=rt.slice(this.root.length,rt.length))&&rt.slice(0,this.root.length)===this.root&&be(Ke,ot)},filter:function(be){var rt=[];return this.forEach(function(Ke,ot){be(Ke,ot)&&rt.push(ot)}),rt},file:function(be,rt,Ke){if(1!==arguments.length)return H.call(this,be=this.root+be,rt,Ke),this;if(pe(be)){var ot=be;return this.filter(function(xt,kt){return!kt.dir&&ot.test(xt)})}var je=this.files[this.root+be];return je&&!je.dir?je:null},folder:function(be){if(!be)return this;if(pe(be))return this.filter(function(je,xt){return xt.dir&&be.test(je)});var Ke=oe.call(this,this.root+be),ot=this.clone();return ot.root=Ke.name,ot},remove:function(be){var rt=this.files[be=this.root+be];if(rt||("/"!==be.slice(-1)&&(be+="/"),rt=this.files[be]),rt&&!rt.dir)delete this.files[be];else for(var Ke=this.filter(function(je,xt){return xt.name.slice(0,be.length)===be}),ot=0;ot<Ke.length;ot++)delete this.files[Ke[ot].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(be){var rt,Ke={};try{if((Ke=V.extend(be||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:E.utf8encode})).type=Ke.type.toLowerCase(),Ke.compression=Ke.compression.toUpperCase(),"binarystring"===Ke.type&&(Ke.type="string"),!Ke.type)throw new Error("No output type specified.");V.checkSupport(Ke.type),"darwin"!==Ke.platform&&"freebsd"!==Ke.platform&&"linux"!==Ke.platform&&"sunos"!==Ke.platform||(Ke.platform="UNIX"),"win32"===Ke.platform&&(Ke.platform="DOS"),rt=M.generateWorker(this,Ke,Ke.comment||this.comment||"")}catch(je){(rt=new K("error")).error(je)}return new fe(rt,Ke.type||"string",Ke.mimeType)},generateAsync:function(be,rt){return this.generateInternalStream(be).accumulate(rt)},generateNodeStream:function(be,rt){return(be=be||{}).type||(be.type="nodebuffer"),this.generateInternalStream(be).toNodejsStream(rt)}};ze.exports=xe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(ve,ze,T){"use strict";ze.exports=ve("stream")},{stream:void 0}],17:[function(ve,ze,T){"use strict";var H=ve("./DataReader");function E(V){H.call(this,V);for(var K=0;K<this.data.length;K++)V[K]=255&V[K]}ve("../utils").inherits(E,H),E.prototype.byteAt=function(V){return this.data[this.zero+V]},E.prototype.lastIndexOfSignature=function(V){for(var K=V.charCodeAt(0),fe=V.charCodeAt(1),_e=V.charCodeAt(2),ce=V.charCodeAt(3),le=this.length-4;0<=le;--le)if(this.data[le]===K&&this.data[le+1]===fe&&this.data[le+2]===_e&&this.data[le+3]===ce)return le-this.zero;return-1},E.prototype.readAndCheckSignature=function(V){var K=V.charCodeAt(0),fe=V.charCodeAt(1),_e=V.charCodeAt(2),ce=V.charCodeAt(3),le=this.readData(4);return K===le[0]&&fe===le[1]&&_e===le[2]&&ce===le[3]},E.prototype.readData=function(V){if(this.checkOffset(V),0===V)return[];var K=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,K},ze.exports=E},{"../utils":32,"./DataReader":18}],18:[function(ve,ze,T){"use strict";var H=ve("../utils");function E(V){this.data=V,this.length=V.length,this.index=0,this.zero=0}E.prototype={checkOffset:function(V){this.checkIndex(this.index+V)},checkIndex:function(V){if(this.length<this.zero+V||V<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+V+"). Corrupted zip ?")},setIndex:function(V){this.checkIndex(V),this.index=V},skip:function(V){this.setIndex(this.index+V)},byteAt:function(){},readInt:function(V){var K,fe=0;for(this.checkOffset(V),K=this.index+V-1;K>=this.index;K--)fe=(fe<<8)+this.byteAt(K);return this.index+=V,fe},readString:function(V){return H.transformTo("string",this.readData(V))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var V=this.readInt(4);return new Date(Date.UTC(1980+(V>>25&127),(V>>21&15)-1,V>>16&31,V>>11&31,V>>5&63,(31&V)<<1))}},ze.exports=E},{"../utils":32}],19:[function(ve,ze,T){"use strict";var H=ve("./Uint8ArrayReader");function E(V){H.call(this,V)}ve("../utils").inherits(E,H),E.prototype.readData=function(V){this.checkOffset(V);var K=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,K},ze.exports=E},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(ve,ze,T){"use strict";var H=ve("./DataReader");function E(V){H.call(this,V)}ve("../utils").inherits(E,H),E.prototype.byteAt=function(V){return this.data.charCodeAt(this.zero+V)},E.prototype.lastIndexOfSignature=function(V){return this.data.lastIndexOf(V)-this.zero},E.prototype.readAndCheckSignature=function(V){return V===this.readData(4)},E.prototype.readData=function(V){this.checkOffset(V);var K=this.data.slice(this.zero+this.index,this.zero+this.index+V);return this.index+=V,K},ze.exports=E},{"../utils":32,"./DataReader":18}],21:[function(ve,ze,T){"use strict";var H=ve("./ArrayReader");function E(V){H.call(this,V)}ve("../utils").inherits(E,H),E.prototype.readData=function(V){if(this.checkOffset(V),0===V)return new Uint8Array(0);var K=this.data.subarray(this.zero+this.index,this.zero+this.index+V);return this.index+=V,K},ze.exports=E},{"../utils":32,"./ArrayReader":17}],22:[function(ve,ze,T){"use strict";var H=ve("../utils"),E=ve("../support"),V=ve("./ArrayReader"),K=ve("./StringReader"),fe=ve("./NodeBufferReader"),_e=ve("./Uint8ArrayReader");ze.exports=function(ce){var le=H.getTypeOf(ce);return H.checkSupport(le),"string"!==le||E.uint8array?"nodebuffer"===le?new fe(ce):E.uint8array?new _e(H.transformTo("uint8array",ce)):new V(H.transformTo("array",ce)):new K(ce)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(ve,ze,T){"use strict";T.LOCAL_FILE_HEADER="PK\x03\x04",T.CENTRAL_FILE_HEADER="PK\x01\x02",T.CENTRAL_DIRECTORY_END="PK\x05\x06",T.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",T.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",T.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(ve,ze,T){"use strict";var H=ve("./GenericWorker"),E=ve("../utils");function V(K){H.call(this,"ConvertWorker to "+K),this.destType=K}E.inherits(V,H),V.prototype.processChunk=function(K){this.push({data:E.transformTo(this.destType,K.data),meta:K.meta})},ze.exports=V},{"../utils":32,"./GenericWorker":28}],25:[function(ve,ze,T){"use strict";var H=ve("./GenericWorker"),E=ve("../crc32");function V(){H.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ve("../utils").inherits(V,H),V.prototype.processChunk=function(K){this.streamInfo.crc32=E(K.data,this.streamInfo.crc32||0),this.push(K)},ze.exports=V},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(ve,ze,T){"use strict";var H=ve("../utils"),E=ve("./GenericWorker");function V(K){E.call(this,"DataLengthProbe for "+K),this.propName=K,this.withStreamInfo(K,0)}H.inherits(V,E),V.prototype.processChunk=function(K){K&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+K.data.length),E.prototype.processChunk.call(this,K)},ze.exports=V},{"../utils":32,"./GenericWorker":28}],27:[function(ve,ze,T){"use strict";var H=ve("../utils"),E=ve("./GenericWorker");function V(K){E.call(this,"DataWorker");var fe=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,K.then(function(_e){fe.dataIsReady=!0,fe.data=_e,fe.max=_e&&_e.length||0,fe.type=H.getTypeOf(_e),fe.isPaused||fe._tickAndRepeat()},function(_e){fe.error(_e)})}H.inherits(V,E),V.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this.data=null},V.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,H.delay(this._tickAndRepeat,[],this)),!0)},V.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(H.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},V.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var K=null,fe=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":K=this.data.substring(this.index,fe);break;case"uint8array":K=this.data.subarray(this.index,fe);break;case"array":case"nodebuffer":K=this.data.slice(this.index,fe)}return this.index=fe,this.push({data:K,meta:{percent:this.max?this.index/this.max*100:0}})},ze.exports=V},{"../utils":32,"./GenericWorker":28}],28:[function(ve,ze,T){"use strict";function H(E){this.name=E||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}H.prototype={push:function(E){this.emit("data",E)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(E){this.emit("error",E)}return!0},error:function(E){return!this.isFinished&&(this.isPaused?this.generatedError=E:(this.isFinished=!0,this.emit("error",E),this.previous&&this.previous.error(E),this.cleanUp()),!0)},on:function(E,V){return this._listeners[E].push(V),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(E,V){if(this._listeners[E])for(var K=0;K<this._listeners[E].length;K++)this._listeners[E][K].call(this,V)},pipe:function(E){return E.registerPrevious(this)},registerPrevious:function(E){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=E.streamInfo,this.mergeStreamInfo(),this.previous=E;var V=this;return E.on("data",function(K){V.processChunk(K)}),E.on("end",function(){V.end()}),E.on("error",function(K){V.error(K)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var E=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),E=!0),this.previous&&this.previous.resume(),!E},flush:function(){},processChunk:function(E){this.push(E)},withStreamInfo:function(E,V){return this.extraStreamInfo[E]=V,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var E in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,E)&&(this.streamInfo[E]=this.extraStreamInfo[E])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var E="Worker "+this.name;return this.previous?this.previous+" -> "+E:E}},ze.exports=H},{}],29:[function(ve,ze,T){"use strict";var H=ve("../utils"),E=ve("./ConvertWorker"),V=ve("./GenericWorker"),K=ve("../base64"),fe=ve("../support"),_e=ve("../external"),ce=null;if(fe.nodestream)try{ce=ve("../nodejs/NodejsStreamOutputAdapter")}catch{}function M(U,N,q){var $=N;switch(N){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=N,this._mimeType=q,H.checkSupport($),this._worker=U.pipe(new E($)),U.lock()}catch(oe){this._worker=new V("error"),this._worker.error(oe)}}M.prototype={accumulate:function(U){return function le(U,N){return new _e.Promise(function(q,$){var oe=[],pe=U._internalType,xe=U._outputType,be=U._mimeType;U.on("data",function(rt,Ke){oe.push(rt),N&&N(Ke)}).on("error",function(rt){oe=[],$(rt)}).on("end",function(){try{var rt=function(Ke,ot,je){switch(Ke){case"blob":return H.newBlob(H.transformTo("arraybuffer",ot),je);case"base64":return K.encode(ot);default:return H.transformTo(Ke,ot)}}(xe,function(Ke,ot){var je,xt=0,kt=null,re=0;for(je=0;je<ot.length;je++)re+=ot[je].length;switch(Ke){case"string":return ot.join("");case"array":return Array.prototype.concat.apply([],ot);case"uint8array":for(kt=new Uint8Array(re),je=0;je<ot.length;je++)kt.set(ot[je],xt),xt+=ot[je].length;return kt;case"nodebuffer":return Buffer.concat(ot);default:throw new Error("concat : unsupported type '"+Ke+"'")}}(pe,oe),be);q(rt)}catch(Ke){$(Ke)}oe=[]}).resume()})}(this,U)},on:function(U,N){var q=this;return this._worker.on(U,"data"===U?function($){N.call(q,$.data,$.meta)}:function(){H.delay(N,arguments,q)}),this},resume:function(){return H.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(U){if(H.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new ce(this,{objectMode:"nodebuffer"!==this._outputType},U)}},ze.exports=M},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(ve,ze,T){"use strict";if(T.base64=!0,T.array=!0,T.string=!0,T.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",T.nodebuffer=typeof Buffer<"u",T.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")T.blob=!1;else{var H=new ArrayBuffer(0);try{T.blob=0===new Blob([H],{type:"application/zip"}).size}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);E.append(H),T.blob=0===E.getBlob("application/zip").size}catch{T.blob=!1}}}try{T.nodestream=!!ve("readable-stream").Readable}catch{T.nodestream=!1}},{"readable-stream":16}],31:[function(ve,ze,T){"use strict";for(var H=ve("./utils"),E=ve("./support"),V=ve("./nodejsUtils"),K=ve("./stream/GenericWorker"),fe=new Array(256),_e=0;_e<256;_e++)fe[_e]=252<=_e?6:248<=_e?5:240<=_e?4:224<=_e?3:192<=_e?2:1;function ce(){K.call(this,"utf-8 decode"),this.leftOver=null}function le(){K.call(this,"utf-8 encode")}fe[254]=fe[254]=1,T.utf8encode=function(M){return E.nodebuffer?V.newBufferFrom(M,"utf-8"):function(U){var N,q,$,oe,pe,xe=U.length,be=0;for(oe=0;oe<xe;oe++)55296==(64512&(q=U.charCodeAt(oe)))&&oe+1<xe&&56320==(64512&($=U.charCodeAt(oe+1)))&&(q=65536+(q-55296<<10)+($-56320),oe++),be+=q<128?1:q<2048?2:q<65536?3:4;for(N=E.uint8array?new Uint8Array(be):new Array(be),oe=pe=0;pe<be;oe++)55296==(64512&(q=U.charCodeAt(oe)))&&oe+1<xe&&56320==(64512&($=U.charCodeAt(oe+1)))&&(q=65536+(q-55296<<10)+($-56320),oe++),q<128?N[pe++]=q:(q<2048?N[pe++]=192|q>>>6:(q<65536?N[pe++]=224|q>>>12:(N[pe++]=240|q>>>18,N[pe++]=128|q>>>12&63),N[pe++]=128|q>>>6&63),N[pe++]=128|63&q);return N}(M)},T.utf8decode=function(M){return E.nodebuffer?H.transformTo("nodebuffer",M).toString("utf-8"):function(U){var N,q,$,oe,pe=U.length,xe=new Array(2*pe);for(N=q=0;N<pe;)if(($=U[N++])<128)xe[q++]=$;else if(4<(oe=fe[$]))xe[q++]=65533,N+=oe-1;else{for($&=2===oe?31:3===oe?15:7;1<oe&&N<pe;)$=$<<6|63&U[N++],oe--;1<oe?xe[q++]=65533:$<65536?xe[q++]=$:(xe[q++]=55296|($-=65536)>>10&1023,xe[q++]=56320|1023&$)}return xe.length!==q&&(xe.subarray?xe=xe.subarray(0,q):xe.length=q),H.applyFromCharCode(xe)}(M=H.transformTo(E.uint8array?"uint8array":"array",M))},H.inherits(ce,K),ce.prototype.processChunk=function(M){var U=H.transformTo(E.uint8array?"uint8array":"array",M.data);if(this.leftOver&&this.leftOver.length){if(E.uint8array){var N=U;(U=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),U.set(N,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var q=function(oe,pe){var xe;for((pe=pe||oe.length)>oe.length&&(pe=oe.length),xe=pe-1;0<=xe&&128==(192&oe[xe]);)xe--;return xe<0||0===xe?pe:xe+fe[oe[xe]]>pe?xe:pe}(U),$=U;q!==U.length&&(E.uint8array?($=U.subarray(0,q),this.leftOver=U.subarray(q,U.length)):($=U.slice(0,q),this.leftOver=U.slice(q,U.length))),this.push({data:T.utf8decode($),meta:M.meta})},ce.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:T.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},T.Utf8DecodeWorker=ce,H.inherits(le,K),le.prototype.processChunk=function(M){this.push({data:T.utf8encode(M.data),meta:M.meta})},T.Utf8EncodeWorker=le},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(ve,ze,T){"use strict";var H=ve("./support"),E=ve("./base64"),V=ve("./nodejsUtils"),K=ve("./external");function fe(N){return N}function _e(N,q){for(var $=0;$<N.length;++$)q[$]=255&N.charCodeAt($);return q}ve("setimmediate"),T.newBlob=function(N,q){T.checkSupport("blob");try{return new Blob([N],{type:q})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(N),$.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var ce={stringifyByChunk:function(N,q,$){var oe=[],pe=0,xe=N.length;if(xe<=$)return String.fromCharCode.apply(null,N);for(;pe<xe;)oe.push(String.fromCharCode.apply(null,"array"===q||"nodebuffer"===q?N.slice(pe,Math.min(pe+$,xe)):N.subarray(pe,Math.min(pe+$,xe)))),pe+=$;return oe.join("")},stringifyByChar:function(N){for(var q="",$=0;$<N.length;$++)q+=String.fromCharCode(N[$]);return q},applyCanBeUsed:{uint8array:function(){try{return H.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch{return!1}}(),nodebuffer:function(){try{return H.nodebuffer&&1===String.fromCharCode.apply(null,V.allocBuffer(1)).length}catch{return!1}}()}};function le(N){var q=65536,$=T.getTypeOf(N),oe=!0;if("uint8array"===$?oe=ce.applyCanBeUsed.uint8array:"nodebuffer"===$&&(oe=ce.applyCanBeUsed.nodebuffer),oe)for(;1<q;)try{return ce.stringifyByChunk(N,$,q)}catch{q=Math.floor(q/2)}return ce.stringifyByChar(N)}function M(N,q){for(var $=0;$<N.length;$++)q[$]=N[$];return q}T.applyFromCharCode=le;var U={};U.string={string:fe,array:function(N){return _e(N,new Array(N.length))},arraybuffer:function(N){return U.string.uint8array(N).buffer},uint8array:function(N){return _e(N,new Uint8Array(N.length))},nodebuffer:function(N){return _e(N,V.allocBuffer(N.length))}},U.array={string:le,array:fe,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return V.newBufferFrom(N)}},U.arraybuffer={string:function(N){return le(new Uint8Array(N))},array:function(N){return M(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:fe,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return V.newBufferFrom(new Uint8Array(N))}},U.uint8array={string:le,array:function(N){return M(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:fe,nodebuffer:function(N){return V.newBufferFrom(N)}},U.nodebuffer={string:le,array:function(N){return M(N,new Array(N.length))},arraybuffer:function(N){return U.nodebuffer.uint8array(N).buffer},uint8array:function(N){return M(N,new Uint8Array(N.length))},nodebuffer:fe},T.transformTo=function(N,q){if(q=q||"",!N)return q;T.checkSupport(N);var $=T.getTypeOf(q);return U[$][N](q)},T.resolve=function(N){for(var q=N.split("/"),$=[],oe=0;oe<q.length;oe++){var pe=q[oe];"."===pe||""===pe&&0!==oe&&oe!==q.length-1||(".."===pe?$.pop():$.push(pe))}return $.join("/")},T.getTypeOf=function(N){return"string"==typeof N?"string":"[object Array]"===Object.prototype.toString.call(N)?"array":H.nodebuffer&&V.isBuffer(N)?"nodebuffer":H.uint8array&&N instanceof Uint8Array?"uint8array":H.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},T.checkSupport=function(N){if(!H[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},T.MAX_VALUE_16BITS=65535,T.MAX_VALUE_32BITS=-1,T.pretty=function(N){var q,$,oe="";for($=0;$<(N||"").length;$++)oe+="\\x"+((q=N.charCodeAt($))<16?"0":"")+q.toString(16).toUpperCase();return oe},T.delay=function(N,q,$){setImmediate(function(){N.apply($||null,q||[])})},T.inherits=function(N,q){function $(){}$.prototype=q.prototype,N.prototype=new $},T.extend=function(){var N,q,$={};for(N=0;N<arguments.length;N++)for(q in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],q)&&void 0===$[q]&&($[q]=arguments[N][q]);return $},T.prepareContent=function(N,q,$,oe,pe){return K.Promise.resolve(q).then(function(xe){return H.blob&&(xe instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xe)))&&typeof FileReader<"u"?new K.Promise(function(be,rt){var Ke=new FileReader;Ke.onload=function(ot){be(ot.target.result)},Ke.onerror=function(ot){rt(ot.target.error)},Ke.readAsArrayBuffer(xe)}):xe}).then(function(xe){var rt,be=T.getTypeOf(xe);return be?("arraybuffer"===be?xe=T.transformTo("uint8array",xe):"string"===be&&(pe?xe=E.decode(xe):$&&!0!==oe&&(xe=_e(rt=xe,H.uint8array?new Uint8Array(rt.length):new Array(rt.length)))),xe):K.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(ve,ze,T){"use strict";var H=ve("./reader/readerFor"),E=ve("./utils"),V=ve("./signature"),K=ve("./zipEntry"),fe=ve("./support");function _e(ce){this.files=[],this.loadOptions=ce}_e.prototype={checkSignature:function(ce){if(!this.reader.readAndCheckSignature(ce)){this.reader.index-=4;var le=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+E.pretty(le)+", expected "+E.pretty(ce)+")")}},isSignature:function(ce,le){var M=this.reader.index;this.reader.setIndex(ce);var U=this.reader.readString(4)===le;return this.reader.setIndex(M),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var ce=this.reader.readData(this.zipCommentLength),M=E.transformTo(fe.uint8array?"uint8array":"array",ce);this.zipComment=this.loadOptions.decodeFileName(M)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var ce,le,M,U=this.zip64EndOfCentralSize-44;0<U;)ce=this.reader.readInt(2),le=this.reader.readInt(4),M=this.reader.readData(le),this.zip64ExtensibleData[ce]={id:ce,length:le,value:M}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var ce,le;for(ce=0;ce<this.files.length;ce++)this.reader.setIndex((le=this.files[ce]).localHeaderOffset),this.checkSignature(V.LOCAL_FILE_HEADER),le.readLocalPart(this.reader),le.handleUTF8(),le.processAttributes()},readCentralDir:function(){var ce;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(V.CENTRAL_FILE_HEADER);)(ce=new K({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(ce);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var ce=this.reader.lastIndexOfSignature(V.CENTRAL_DIRECTORY_END);if(ce<0)throw this.isSignature(0,V.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(ce);var le=ce;if(this.checkSignature(V.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===E.MAX_VALUE_16BITS||this.diskWithCentralDirStart===E.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===E.MAX_VALUE_16BITS||this.centralDirRecords===E.MAX_VALUE_16BITS||this.centralDirSize===E.MAX_VALUE_32BITS||this.centralDirOffset===E.MAX_VALUE_32BITS){if(this.zip64=!0,(ce=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(ce),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,V.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(V.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var M=this.centralDirOffset+this.centralDirSize;this.zip64&&(M+=20,M+=12+this.zip64EndOfCentralSize);var U=le-M;if(0<U)this.isSignature(le,V.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(ce){this.reader=H(ce)},load:function(ce){this.prepareReader(ce),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ze.exports=_e},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(ve,ze,T){"use strict";var H=ve("./reader/readerFor"),E=ve("./utils"),V=ve("./compressedObject"),K=ve("./crc32"),fe=ve("./utf8"),_e=ve("./compressions"),ce=ve("./support");function le(M,U){this.options=M,this.loadOptions=U}le.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(M){var U,N;if(M.skip(22),this.fileNameLength=M.readInt(2),N=M.readInt(2),this.fileName=M.readData(this.fileNameLength),M.skip(N),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(U=function(q){for(var $ in _e)if(Object.prototype.hasOwnProperty.call(_e,$)&&_e[$].magic===q)return _e[$];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+E.pretty(this.compressionMethod)+" unknown (inner file : "+E.transformTo("string",this.fileName)+")");this.decompressed=new V(this.compressedSize,this.uncompressedSize,this.crc32,U,M.readData(this.compressedSize))},readCentralPart:function(M){this.versionMadeBy=M.readInt(2),M.skip(2),this.bitFlag=M.readInt(2),this.compressionMethod=M.readString(2),this.date=M.readDate(),this.crc32=M.readInt(4),this.compressedSize=M.readInt(4),this.uncompressedSize=M.readInt(4);var U=M.readInt(2);if(this.extraFieldsLength=M.readInt(2),this.fileCommentLength=M.readInt(2),this.diskNumberStart=M.readInt(2),this.internalFileAttributes=M.readInt(2),this.externalFileAttributes=M.readInt(4),this.localHeaderOffset=M.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");M.skip(U),this.readExtraFields(M),this.parseZIP64ExtraField(M),this.fileComment=M.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var M=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==M&&(this.dosPermissions=63&this.externalFileAttributes),3==M&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var M=H(this.extraFields[1].value);this.uncompressedSize===E.MAX_VALUE_32BITS&&(this.uncompressedSize=M.readInt(8)),this.compressedSize===E.MAX_VALUE_32BITS&&(this.compressedSize=M.readInt(8)),this.localHeaderOffset===E.MAX_VALUE_32BITS&&(this.localHeaderOffset=M.readInt(8)),this.diskNumberStart===E.MAX_VALUE_32BITS&&(this.diskNumberStart=M.readInt(4))}},readExtraFields:function(M){var U,N,q,$=M.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});M.index+4<$;)U=M.readInt(2),N=M.readInt(2),q=M.readData(N),this.extraFields[U]={id:U,length:N,value:q};M.setIndex($)},handleUTF8:function(){var M=ce.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=fe.utf8decode(this.fileName),this.fileCommentStr=fe.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(null!==U)this.fileNameStr=U;else{var N=E.transformTo(M,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var q=this.findExtraFieldUnicodeComment();if(null!==q)this.fileCommentStr=q;else{var $=E.transformTo(M,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var M=this.extraFields[28789];if(M){var U=H(M.value);return 1!==U.readInt(1)||K(this.fileName)!==U.readInt(4)?null:fe.utf8decode(U.readData(M.length-5))}return null},findExtraFieldUnicodeComment:function(){var M=this.extraFields[25461];if(M){var U=H(M.value);return 1!==U.readInt(1)||K(this.fileComment)!==U.readInt(4)?null:fe.utf8decode(U.readData(M.length-5))}return null}},ze.exports=le},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(ve,ze,T){"use strict";function H(U,N,q){this.name=U,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=N,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var E=ve("./stream/StreamHelper"),V=ve("./stream/DataWorker"),K=ve("./utf8"),fe=ve("./compressedObject"),_e=ve("./stream/GenericWorker");H.prototype={internalStream:function(U){var N=null,q="string";try{if(!U)throw new Error("No output type specified.");var $="string"===(q=U.toLowerCase())||"text"===q;"binarystring"!==q&&"text"!==q||(q="string"),N=this._decompressWorker();var oe=!this._dataBinary;oe&&!$&&(N=N.pipe(new K.Utf8EncodeWorker)),!oe&&$&&(N=N.pipe(new K.Utf8DecodeWorker))}catch(pe){(N=new _e("error")).error(pe)}return new E(N,q,"")},async:function(U,N){return this.internalStream(U).accumulate(N)},nodeStream:function(U,N){return this.internalStream(U||"nodebuffer").toNodejsStream(N)},_compressWorker:function(U,N){if(this._data instanceof fe&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new K.Utf8EncodeWorker)),fe.createWorkerFrom(q,U,N)},_decompressWorker:function(){return this._data instanceof fe?this._data.getContentWorker():this._data instanceof _e?this._data:new V(this._data)}};for(var ce=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],le=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},M=0;M<ce.length;M++)H.prototype[ce[M]]=le;ze.exports=H},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(ve,ze,T){(function(H){"use strict";var E,V,K=H.MutationObserver||H.WebKitMutationObserver;if(K){var fe=0,_e=new K(U),ce=H.document.createTextNode("");_e.observe(ce,{characterData:!0}),E=function(){ce.data=fe=++fe%2}}else if(H.setImmediate||void 0===H.MessageChannel)E="document"in H&&"onreadystatechange"in H.document.createElement("script")?function(){var N=H.document.createElement("script");N.onreadystatechange=function(){U(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},H.document.documentElement.appendChild(N)}:function(){setTimeout(U,0)};else{var le=new H.MessageChannel;le.port1.onmessage=U,E=function(){le.port2.postMessage(0)}}var M=[];function U(){var N,q;V=!0;for(var $=M.length;$;){for(q=M,M=[],N=-1;++N<$;)q[N]();$=M.length}V=!1}ze.exports=function(N){1!==M.push(N)||V||E()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(ve,ze,T){"use strict";var H=ve("immediate");function E(){}var V={},K=["REJECTED"],fe=["FULFILLED"],_e=["PENDING"];function ce($){if("function"!=typeof $)throw new TypeError("resolver must be a function");this.state=_e,this.queue=[],this.outcome=void 0,$!==E&&N(this,$)}function le($,oe,pe){this.promise=$,"function"==typeof oe&&(this.onFulfilled=oe,this.callFulfilled=this.otherCallFulfilled),"function"==typeof pe&&(this.onRejected=pe,this.callRejected=this.otherCallRejected)}function M($,oe,pe){H(function(){var xe;try{xe=oe(pe)}catch(be){return V.reject($,be)}xe===$?V.reject($,new TypeError("Cannot resolve promise with itself")):V.resolve($,xe)})}function U($){var oe=$&&$.then;if($&&("object"==typeof $||"function"==typeof $)&&"function"==typeof oe)return function(){oe.apply($,arguments)}}function N($,oe){var pe=!1;function xe(Ke){pe||(pe=!0,V.reject($,Ke))}function be(Ke){pe||(pe=!0,V.resolve($,Ke))}var rt=q(function(){oe(be,xe)});"error"===rt.status&&xe(rt.value)}function q($,oe){var pe={};try{pe.value=$(oe),pe.status="success"}catch(xe){pe.status="error",pe.value=xe}return pe}(ze.exports=ce).prototype.finally=function($){if("function"!=typeof $)return this;var oe=this.constructor;return this.then(function(pe){return oe.resolve($()).then(function(){return pe})},function(pe){return oe.resolve($()).then(function(){throw pe})})},ce.prototype.catch=function($){return this.then(null,$)},ce.prototype.then=function($,oe){if("function"!=typeof $&&this.state===fe||"function"!=typeof oe&&this.state===K)return this;var pe=new this.constructor(E);return this.state!==_e?M(pe,this.state===fe?$:oe,this.outcome):this.queue.push(new le(pe,$,oe)),pe},le.prototype.callFulfilled=function($){V.resolve(this.promise,$)},le.prototype.otherCallFulfilled=function($){M(this.promise,this.onFulfilled,$)},le.prototype.callRejected=function($){V.reject(this.promise,$)},le.prototype.otherCallRejected=function($){M(this.promise,this.onRejected,$)},V.resolve=function($,oe){var pe=q(U,oe);if("error"===pe.status)return V.reject($,pe.value);var xe=pe.value;if(xe)N($,xe);else{$.state=fe,$.outcome=oe;for(var be=-1,rt=$.queue.length;++be<rt;)$.queue[be].callFulfilled(oe)}return $},V.reject=function($,oe){$.state=K,$.outcome=oe;for(var pe=-1,xe=$.queue.length;++pe<xe;)$.queue[pe].callRejected(oe);return $},ce.resolve=function($){return $ instanceof this?$:V.resolve(new this(E),$)},ce.reject=function($){var oe=new this(E);return V.reject(oe,$)},ce.all=function($){var oe=this;if("[object Array]"!==Object.prototype.toString.call($))return this.reject(new TypeError("must be an array"));var pe=$.length,xe=!1;if(!pe)return this.resolve([]);for(var be=new Array(pe),rt=0,Ke=-1,ot=new this(E);++Ke<pe;)je($[Ke],Ke);return ot;function je(xt,kt){oe.resolve(xt).then(function(re){be[kt]=re,++rt!==pe||xe||(xe=!0,V.resolve(ot,be))},function(re){xe||(xe=!0,V.reject(ot,re))})}},ce.race=function($){if("[object Array]"!==Object.prototype.toString.call($))return this.reject(new TypeError("must be an array"));var pe=$.length,xe=!1;if(!pe)return this.resolve([]);for(var be=-1,rt=new this(E);++be<pe;)this.resolve($[be]).then(function(ot){xe||(xe=!0,V.resolve(rt,ot))},function(ot){xe||(xe=!0,V.reject(rt,ot))});return rt}},{immediate:36}],38:[function(ve,ze,T){"use strict";var H={};(0,ve("./lib/utils/common").assign)(H,ve("./lib/deflate"),ve("./lib/inflate"),ve("./lib/zlib/constants")),ze.exports=H},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(ve,ze,T){"use strict";var H=ve("./zlib/deflate"),E=ve("./utils/common"),V=ve("./utils/strings"),K=ve("./zlib/messages"),fe=ve("./zlib/zstream"),_e=Object.prototype.toString,ce=0,le=-1,M=0,U=8;function N($){if(!(this instanceof N))return new N($);this.options=E.assign({level:le,method:U,chunkSize:16384,windowBits:15,memLevel:8,strategy:M,to:""},$||{});var oe=this.options;oe.raw&&0<oe.windowBits?oe.windowBits=-oe.windowBits:oe.gzip&&0<oe.windowBits&&oe.windowBits<16&&(oe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fe,this.strm.avail_out=0;var pe=H.deflateInit2(this.strm,oe.level,oe.method,oe.windowBits,oe.memLevel,oe.strategy);if(pe!==ce)throw new Error(K[pe]);if(oe.header&&H.deflateSetHeader(this.strm,oe.header),oe.dictionary){var xe;if(xe="string"==typeof oe.dictionary?V.string2buf(oe.dictionary):"[object ArrayBuffer]"===_e.call(oe.dictionary)?new Uint8Array(oe.dictionary):oe.dictionary,(pe=H.deflateSetDictionary(this.strm,xe))!==ce)throw new Error(K[pe]);this._dict_set=!0}}function q($,oe){var pe=new N(oe);if(pe.push($,!0),pe.err)throw pe.msg||K[pe.err];return pe.result}N.prototype.push=function($,oe){var pe,xe,be=this.strm,rt=this.options.chunkSize;if(this.ended)return!1;xe=oe===~~oe?oe:!0===oe?4:0,be.input="string"==typeof $?V.string2buf($):"[object ArrayBuffer]"===_e.call($)?new Uint8Array($):$,be.next_in=0,be.avail_in=be.input.length;do{if(0===be.avail_out&&(be.output=new E.Buf8(rt),be.next_out=0,be.avail_out=rt),1!==(pe=H.deflate(be,xe))&&pe!==ce)return this.onEnd(pe),!(this.ended=!0);0!==be.avail_out&&(0!==be.avail_in||4!==xe&&2!==xe)||this.onData("string"===this.options.to?V.buf2binstring(E.shrinkBuf(be.output,be.next_out)):E.shrinkBuf(be.output,be.next_out))}while((0<be.avail_in||0===be.avail_out)&&1!==pe);return 4===xe?(pe=H.deflateEnd(this.strm),this.onEnd(pe),this.ended=!0,pe===ce):2!==xe||(this.onEnd(ce),!(be.avail_out=0))},N.prototype.onData=function($){this.chunks.push($)},N.prototype.onEnd=function($){$===ce&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},T.Deflate=N,T.deflate=q,T.deflateRaw=function($,oe){return(oe=oe||{}).raw=!0,q($,oe)},T.gzip=function($,oe){return(oe=oe||{}).gzip=!0,q($,oe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(ve,ze,T){"use strict";var H=ve("./zlib/inflate"),E=ve("./utils/common"),V=ve("./utils/strings"),K=ve("./zlib/constants"),fe=ve("./zlib/messages"),_e=ve("./zlib/zstream"),ce=ve("./zlib/gzheader"),le=Object.prototype.toString;function M(N){if(!(this instanceof M))return new M(N);this.options=E.assign({chunkSize:16384,windowBits:0,to:""},N||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,0===q.windowBits&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||N&&N.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&!(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _e,this.strm.avail_out=0;var $=H.inflateInit2(this.strm,q.windowBits);if($!==K.Z_OK)throw new Error(fe[$]);this.header=new ce,H.inflateGetHeader(this.strm,this.header)}function U(N,q){var $=new M(q);if($.push(N,!0),$.err)throw $.msg||fe[$.err];return $.result}M.prototype.push=function(N,q){var $,oe,pe,xe,be,rt,Ke=this.strm,ot=this.options.chunkSize,je=this.options.dictionary,xt=!1;if(this.ended)return!1;oe=q===~~q?q:!0===q?K.Z_FINISH:K.Z_NO_FLUSH,Ke.input="string"==typeof N?V.binstring2buf(N):"[object ArrayBuffer]"===le.call(N)?new Uint8Array(N):N,Ke.next_in=0,Ke.avail_in=Ke.input.length;do{if(0===Ke.avail_out&&(Ke.output=new E.Buf8(ot),Ke.next_out=0,Ke.avail_out=ot),($=H.inflate(Ke,K.Z_NO_FLUSH))===K.Z_NEED_DICT&&je&&(rt="string"==typeof je?V.string2buf(je):"[object ArrayBuffer]"===le.call(je)?new Uint8Array(je):je,$=H.inflateSetDictionary(this.strm,rt)),$===K.Z_BUF_ERROR&&!0===xt&&($=K.Z_OK,xt=!1),$!==K.Z_STREAM_END&&$!==K.Z_OK)return this.onEnd($),!(this.ended=!0);Ke.next_out&&(0!==Ke.avail_out&&$!==K.Z_STREAM_END&&(0!==Ke.avail_in||oe!==K.Z_FINISH&&oe!==K.Z_SYNC_FLUSH)||("string"===this.options.to?(pe=V.utf8border(Ke.output,Ke.next_out),xe=Ke.next_out-pe,be=V.buf2string(Ke.output,pe),Ke.next_out=xe,Ke.avail_out=ot-xe,xe&&E.arraySet(Ke.output,Ke.output,pe,xe,0),this.onData(be)):this.onData(E.shrinkBuf(Ke.output,Ke.next_out)))),0===Ke.avail_in&&0===Ke.avail_out&&(xt=!0)}while((0<Ke.avail_in||0===Ke.avail_out)&&$!==K.Z_STREAM_END);return $===K.Z_STREAM_END&&(oe=K.Z_FINISH),oe===K.Z_FINISH?($=H.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===K.Z_OK):oe!==K.Z_SYNC_FLUSH||(this.onEnd(K.Z_OK),!(Ke.avail_out=0))},M.prototype.onData=function(N){this.chunks.push(N)},M.prototype.onEnd=function(N){N===K.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):E.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},T.Inflate=M,T.inflate=U,T.inflateRaw=function(N,q){return(q=q||{}).raw=!0,U(N,q)},T.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(ve,ze,T){"use strict";var H=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";T.assign=function(K){for(var fe=Array.prototype.slice.call(arguments,1);fe.length;){var _e=fe.shift();if(_e){if("object"!=typeof _e)throw new TypeError(_e+"must be non-object");for(var ce in _e)_e.hasOwnProperty(ce)&&(K[ce]=_e[ce])}}return K},T.shrinkBuf=function(K,fe){return K.length===fe?K:K.subarray?K.subarray(0,fe):(K.length=fe,K)};var E={arraySet:function(K,fe,_e,ce,le){if(fe.subarray&&K.subarray)K.set(fe.subarray(_e,_e+ce),le);else for(var M=0;M<ce;M++)K[le+M]=fe[_e+M]},flattenChunks:function(K){var fe,_e,ce,le,M,U;for(fe=ce=0,_e=K.length;fe<_e;fe++)ce+=K[fe].length;for(U=new Uint8Array(ce),fe=le=0,_e=K.length;fe<_e;fe++)U.set(M=K[fe],le),le+=M.length;return U}},V={arraySet:function(K,fe,_e,ce,le){for(var M=0;M<ce;M++)K[le+M]=fe[_e+M]},flattenChunks:function(K){return[].concat.apply([],K)}};T.setTyped=function(K){K?(T.Buf8=Uint8Array,T.Buf16=Uint16Array,T.Buf32=Int32Array,T.assign(T,E)):(T.Buf8=Array,T.Buf16=Array,T.Buf32=Array,T.assign(T,V))},T.setTyped(H)},{}],42:[function(ve,ze,T){"use strict";var H=ve("./common"),E=!0,V=!0;try{String.fromCharCode.apply(null,[0])}catch{E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{V=!1}for(var K=new H.Buf8(256),fe=0;fe<256;fe++)K[fe]=252<=fe?6:248<=fe?5:240<=fe?4:224<=fe?3:192<=fe?2:1;function _e(ce,le){if(le<65537&&(ce.subarray&&V||!ce.subarray&&E))return String.fromCharCode.apply(null,H.shrinkBuf(ce,le));for(var M="",U=0;U<le;U++)M+=String.fromCharCode(ce[U]);return M}K[254]=K[254]=1,T.string2buf=function(ce){var le,M,U,N,q,$=ce.length,oe=0;for(N=0;N<$;N++)55296==(64512&(M=ce.charCodeAt(N)))&&N+1<$&&56320==(64512&(U=ce.charCodeAt(N+1)))&&(M=65536+(M-55296<<10)+(U-56320),N++),oe+=M<128?1:M<2048?2:M<65536?3:4;for(le=new H.Buf8(oe),N=q=0;q<oe;N++)55296==(64512&(M=ce.charCodeAt(N)))&&N+1<$&&56320==(64512&(U=ce.charCodeAt(N+1)))&&(M=65536+(M-55296<<10)+(U-56320),N++),M<128?le[q++]=M:(M<2048?le[q++]=192|M>>>6:(M<65536?le[q++]=224|M>>>12:(le[q++]=240|M>>>18,le[q++]=128|M>>>12&63),le[q++]=128|M>>>6&63),le[q++]=128|63&M);return le},T.buf2binstring=function(ce){return _e(ce,ce.length)},T.binstring2buf=function(ce){for(var le=new H.Buf8(ce.length),M=0,U=le.length;M<U;M++)le[M]=ce.charCodeAt(M);return le},T.buf2string=function(ce,le){var M,U,N,q,$=le||ce.length,oe=new Array(2*$);for(M=U=0;M<$;)if((N=ce[M++])<128)oe[U++]=N;else if(4<(q=K[N]))oe[U++]=65533,M+=q-1;else{for(N&=2===q?31:3===q?15:7;1<q&&M<$;)N=N<<6|63&ce[M++],q--;1<q?oe[U++]=65533:N<65536?oe[U++]=N:(oe[U++]=55296|(N-=65536)>>10&1023,oe[U++]=56320|1023&N)}return _e(oe,U)},T.utf8border=function(ce,le){var M;for((le=le||ce.length)>ce.length&&(le=ce.length),M=le-1;0<=M&&128==(192&ce[M]);)M--;return M<0||0===M?le:M+K[ce[M]]>le?M:le}},{"./common":41}],43:[function(ve,ze,T){"use strict";ze.exports=function(H,E,V,K){for(var fe=65535&H|0,_e=H>>>16&65535|0,ce=0;0!==V;){for(V-=ce=2e3<V?2e3:V;_e=_e+(fe=fe+E[K++]|0)|0,--ce;);fe%=65521,_e%=65521}return fe|_e<<16|0}},{}],44:[function(ve,ze,T){"use strict";ze.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(ve,ze,T){"use strict";var H=function(){for(var E,V=[],K=0;K<256;K++){E=K;for(var fe=0;fe<8;fe++)E=1&E?3988292384^E>>>1:E>>>1;V[K]=E}return V}();ze.exports=function(E,V,K,fe){var _e=H,ce=fe+K;E^=-1;for(var le=fe;le<ce;le++)E=E>>>8^_e[255&(E^V[le])];return-1^E}},{}],46:[function(ve,ze,T){"use strict";var H,E=ve("../utils/common"),V=ve("./trees"),K=ve("./adler32"),fe=ve("./crc32"),_e=ve("./messages"),ce=0,M=0,U=-2,$=2,oe=8,xe=286,be=30,rt=19,Ke=2*xe+1,ot=15,je=3,xt=258,kt=xt+je+1,re=42,Je=113;function on(A,st){return A.msg=_e[st],st}function wt(A){return(A<<1)-(4<A?9:0)}function mt(A){for(var st=A.length;0<=--st;)A[st]=0}function Ze(A){var st=A.state,Re=st.pending;Re>A.avail_out&&(Re=A.avail_out),0!==Re&&(E.arraySet(A.output,st.pending_buf,st.pending_out,Re,A.next_out),A.next_out+=Re,st.pending_out+=Re,A.total_out+=Re,A.avail_out-=Re,st.pending-=Re,0===st.pending&&(st.pending_out=0))}function Be(A,st){V._tr_flush_block(A,0<=A.block_start?A.block_start:-1,A.strstart-A.block_start,st),A.block_start=A.strstart,Ze(A.strm)}function Ee(A,st){A.pending_buf[A.pending++]=st}function we(A,st){A.pending_buf[A.pending++]=st>>>8&255,A.pending_buf[A.pending++]=255&st}function Z(A,st){var Re,ee,Q=A.max_chain_length,De=A.strstart,ct=A.prev_length,ft=A.nice_match,Ne=A.strstart>A.w_size-kt?A.strstart-(A.w_size-kt):0,at=A.window,Rt=A.w_mask,Et=A.prev,Qt=A.strstart+xt,Pn=at[De+ct-1],wn=at[De+ct];A.prev_length>=A.good_match&&(Q>>=2),ft>A.lookahead&&(ft=A.lookahead);do{if(at[(Re=st)+ct]===wn&&at[Re+ct-1]===Pn&&at[Re]===at[De]&&at[++Re]===at[De+1]){De+=2,Re++;do{}while(at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&at[++De]===at[++Re]&&De<Qt);if(ee=xt-(Qt-De),De=Qt-xt,ct<ee){if(A.match_start=st,ft<=(ct=ee))break;Pn=at[De+ct-1],wn=at[De+ct]}}}while((st=Et[st&Rt])>Ne&&0!=--Q);return ct<=A.lookahead?ct:A.lookahead}function qe(A){var st,Re,ee,Q,De,ct,ft,Ne,at,Rt,Et=A.w_size;do{if(Q=A.window_size-A.lookahead-A.strstart,A.strstart>=Et+(Et-kt)){for(E.arraySet(A.window,A.window,Et,Et,0),A.match_start-=Et,A.strstart-=Et,A.block_start-=Et,st=Re=A.hash_size;ee=A.head[--st],A.head[st]=Et<=ee?ee-Et:0,--Re;);for(st=Re=Et;ee=A.prev[--st],A.prev[st]=Et<=ee?ee-Et:0,--Re;);Q+=Et}if(0===A.strm.avail_in)break;if(ft=A.window,Ne=A.strstart+A.lookahead,Rt=void 0,(at=Q)<(Rt=(ct=A.strm).avail_in)&&(Rt=at),Re=0===Rt?0:(ct.avail_in-=Rt,E.arraySet(ft,ct.input,ct.next_in,Rt,Ne),1===ct.state.wrap?ct.adler=K(ct.adler,ft,Rt,Ne):2===ct.state.wrap&&(ct.adler=fe(ct.adler,ft,Rt,Ne)),ct.next_in+=Rt,ct.total_in+=Rt,Rt),A.lookahead+=Re,A.lookahead+A.insert>=je)for(A.ins_h=A.window[De=A.strstart-A.insert],A.ins_h=(A.ins_h<<A.hash_shift^A.window[De+1])&A.hash_mask;A.insert&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[De+je-1])&A.hash_mask,A.prev[De&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=De,De++,A.insert--,!(A.lookahead+A.insert<je)););}while(A.lookahead<kt&&0!==A.strm.avail_in)}function tt(A,st){for(var Re,ee;;){if(A.lookahead<kt){if(qe(A),A.lookahead<kt&&st===ce)return 1;if(0===A.lookahead)break}if(Re=0,A.lookahead>=je&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+je-1])&A.hash_mask,Re=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!==Re&&A.strstart-Re<=A.w_size-kt&&(A.match_length=Z(A,Re)),A.match_length>=je)if(ee=V._tr_tally(A,A.strstart-A.match_start,A.match_length-je),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=je){for(A.match_length--;A.strstart++,A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+je-1])&A.hash_mask,Re=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart,0!=--A.match_length;);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+1])&A.hash_mask;else ee=V._tr_tally(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(ee&&(Be(A,!1),0===A.strm.avail_out))return 1}return A.insert=A.strstart<je-1?A.strstart:je-1,4===st?(Be(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(Be(A,!1),0===A.strm.avail_out)?1:2}function Ae(A,st){for(var Re,ee,Q;;){if(A.lookahead<kt){if(qe(A),A.lookahead<kt&&st===ce)return 1;if(0===A.lookahead)break}if(Re=0,A.lookahead>=je&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+je-1])&A.hash_mask,Re=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=je-1,0!==Re&&A.prev_length<A.max_lazy_match&&A.strstart-Re<=A.w_size-kt&&(A.match_length=Z(A,Re),A.match_length<=5&&(1===A.strategy||A.match_length===je&&4096<A.strstart-A.match_start)&&(A.match_length=je-1)),A.prev_length>=je&&A.match_length<=A.prev_length){for(Q=A.strstart+A.lookahead-je,ee=V._tr_tally(A,A.strstart-1-A.prev_match,A.prev_length-je),A.lookahead-=A.prev_length-1,A.prev_length-=2;++A.strstart<=Q&&(A.ins_h=(A.ins_h<<A.hash_shift^A.window[A.strstart+je-1])&A.hash_mask,Re=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),0!=--A.prev_length;);if(A.match_available=0,A.match_length=je-1,A.strstart++,ee&&(Be(A,!1),0===A.strm.avail_out))return 1}else if(A.match_available){if((ee=V._tr_tally(A,0,A.window[A.strstart-1]))&&Be(A,!1),A.strstart++,A.lookahead--,0===A.strm.avail_out)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(ee=V._tr_tally(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<je-1?A.strstart:je-1,4===st?(Be(A,!0),0===A.strm.avail_out?3:4):A.last_lit&&(Be(A,!1),0===A.strm.avail_out)?1:2}function ut(A,st,Re,ee,Q){this.good_length=A,this.max_lazy=st,this.nice_length=Re,this.max_chain=ee,this.func=Q}function an(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*Ke),this.dyn_dtree=new E.Buf16(2*(2*be+1)),this.bl_tree=new E.Buf16(2*(2*rt+1)),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(ot+1),this.heap=new E.Buf16(2*xe+1),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*xe+1),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(A){var st;return A&&A.state?(A.total_in=A.total_out=0,A.data_type=$,(st=A.state).pending=0,st.pending_out=0,st.wrap<0&&(st.wrap=-st.wrap),st.status=st.wrap?re:Je,A.adler=2===st.wrap?0:1,st.last_flush=ce,V._tr_init(st),M):on(A,U)}function zt(A){var Re,st=We(A);return st===M&&((Re=A.state).window_size=2*Re.w_size,mt(Re.head),Re.max_lazy_match=H[Re.level].max_lazy,Re.good_match=H[Re.level].good_length,Re.nice_match=H[Re.level].nice_length,Re.max_chain_length=H[Re.level].max_chain,Re.strstart=0,Re.block_start=0,Re.lookahead=0,Re.insert=0,Re.match_length=Re.prev_length=je-1,Re.match_available=0,Re.ins_h=0),st}function yn(A,st,Re,ee,Q,De){if(!A)return U;var ct=1;if(-1===st&&(st=6),ee<0?(ct=0,ee=-ee):15<ee&&(ct=2,ee-=16),Q<1||9<Q||Re!==oe||ee<8||15<ee||st<0||9<st||De<0||4<De)return on(A,U);8===ee&&(ee=9);var ft=new an;return(A.state=ft).strm=A,ft.wrap=ct,ft.gzhead=null,ft.w_bits=ee,ft.w_size=1<<ft.w_bits,ft.w_mask=ft.w_size-1,ft.hash_bits=Q+7,ft.hash_size=1<<ft.hash_bits,ft.hash_mask=ft.hash_size-1,ft.hash_shift=~~((ft.hash_bits+je-1)/je),ft.window=new E.Buf8(2*ft.w_size),ft.head=new E.Buf16(ft.hash_size),ft.prev=new E.Buf16(ft.w_size),ft.lit_bufsize=1<<Q+6,ft.pending_buf_size=4*ft.lit_bufsize,ft.pending_buf=new E.Buf8(ft.pending_buf_size),ft.d_buf=1*ft.lit_bufsize,ft.l_buf=3*ft.lit_bufsize,ft.level=st,ft.strategy=De,ft.method=Re,zt(A)}H=[new ut(0,0,0,0,function(A,st){var Re=65535;for(Re>A.pending_buf_size-5&&(Re=A.pending_buf_size-5);;){if(A.lookahead<=1){if(qe(A),0===A.lookahead&&st===ce)return 1;if(0===A.lookahead)break}A.strstart+=A.lookahead,A.lookahead=0;var ee=A.block_start+Re;if((0===A.strstart||A.strstart>=ee)&&(A.lookahead=A.strstart-ee,A.strstart=ee,Be(A,!1),0===A.strm.avail_out)||A.strstart-A.block_start>=A.w_size-kt&&(Be(A,!1),0===A.strm.avail_out))return 1}return A.insert=0,4===st?(Be(A,!0),0===A.strm.avail_out?3:4):(A.strstart>A.block_start&&Be(A,!1),1)}),new ut(4,4,8,4,tt),new ut(4,5,16,8,tt),new ut(4,6,32,32,tt),new ut(4,4,16,16,Ae),new ut(8,16,32,32,Ae),new ut(8,16,128,128,Ae),new ut(8,32,128,256,Ae),new ut(32,128,258,1024,Ae),new ut(32,258,258,4096,Ae)],T.deflateInit=function(A,st){return yn(A,st,oe,15,8,0)},T.deflateInit2=yn,T.deflateReset=zt,T.deflateResetKeep=We,T.deflateSetHeader=function(A,st){return A&&A.state?2!==A.state.wrap?U:(A.state.gzhead=st,M):U},T.deflate=function(A,st){var Re,ee,Q,De;if(!A||!A.state||5<st||st<0)return A?on(A,U):U;if(ee=A.state,!A.output||!A.input&&0!==A.avail_in||666===ee.status&&4!==st)return on(A,0===A.avail_out?-5:U);if(ee.strm=A,Re=ee.last_flush,ee.last_flush=st,ee.status===re)if(2===ee.wrap)A.adler=0,Ee(ee,31),Ee(ee,139),Ee(ee,8),ee.gzhead?(Ee(ee,(ee.gzhead.text?1:0)+(ee.gzhead.hcrc?2:0)+(ee.gzhead.extra?4:0)+(ee.gzhead.name?8:0)+(ee.gzhead.comment?16:0)),Ee(ee,255&ee.gzhead.time),Ee(ee,ee.gzhead.time>>8&255),Ee(ee,ee.gzhead.time>>16&255),Ee(ee,ee.gzhead.time>>24&255),Ee(ee,9===ee.level?2:2<=ee.strategy||ee.level<2?4:0),Ee(ee,255&ee.gzhead.os),ee.gzhead.extra&&ee.gzhead.extra.length&&(Ee(ee,255&ee.gzhead.extra.length),Ee(ee,ee.gzhead.extra.length>>8&255)),ee.gzhead.hcrc&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending,0)),ee.gzindex=0,ee.status=69):(Ee(ee,0),Ee(ee,0),Ee(ee,0),Ee(ee,0),Ee(ee,0),Ee(ee,9===ee.level?2:2<=ee.strategy||ee.level<2?4:0),Ee(ee,3),ee.status=Je);else{var ct=oe+(ee.w_bits-8<<4)<<8;ct|=(2<=ee.strategy||ee.level<2?0:ee.level<6?1:6===ee.level?2:3)<<6,0!==ee.strstart&&(ct|=32),ct+=31-ct%31,ee.status=Je,we(ee,ct),0!==ee.strstart&&(we(ee,A.adler>>>16),we(ee,65535&A.adler)),A.adler=1}if(69===ee.status)if(ee.gzhead.extra){for(Q=ee.pending;ee.gzindex<(65535&ee.gzhead.extra.length)&&(ee.pending!==ee.pending_buf_size||(ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),Ze(A),Q=ee.pending,ee.pending!==ee.pending_buf_size));)Ee(ee,255&ee.gzhead.extra[ee.gzindex]),ee.gzindex++;ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),ee.gzindex===ee.gzhead.extra.length&&(ee.gzindex=0,ee.status=73)}else ee.status=73;if(73===ee.status)if(ee.gzhead.name){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),Ze(A),Q=ee.pending,ee.pending===ee.pending_buf_size)){De=1;break}De=ee.gzindex<ee.gzhead.name.length?255&ee.gzhead.name.charCodeAt(ee.gzindex++):0,Ee(ee,De)}while(0!==De);ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),0===De&&(ee.gzindex=0,ee.status=91)}else ee.status=91;if(91===ee.status)if(ee.gzhead.comment){Q=ee.pending;do{if(ee.pending===ee.pending_buf_size&&(ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),Ze(A),Q=ee.pending,ee.pending===ee.pending_buf_size)){De=1;break}De=ee.gzindex<ee.gzhead.comment.length?255&ee.gzhead.comment.charCodeAt(ee.gzindex++):0,Ee(ee,De)}while(0!==De);ee.gzhead.hcrc&&ee.pending>Q&&(A.adler=fe(A.adler,ee.pending_buf,ee.pending-Q,Q)),0===De&&(ee.status=103)}else ee.status=103;if(103===ee.status&&(ee.gzhead.hcrc?(ee.pending+2>ee.pending_buf_size&&Ze(A),ee.pending+2<=ee.pending_buf_size&&(Ee(ee,255&A.adler),Ee(ee,A.adler>>8&255),A.adler=0,ee.status=Je)):ee.status=Je),0!==ee.pending){if(Ze(A),0===A.avail_out)return ee.last_flush=-1,M}else if(0===A.avail_in&&wt(st)<=wt(Re)&&4!==st)return on(A,-5);if(666===ee.status&&0!==A.avail_in)return on(A,-5);if(0!==A.avail_in||0!==ee.lookahead||st!==ce&&666!==ee.status){var ft=2===ee.strategy?function(Ne,at){for(var Rt;;){if(0===Ne.lookahead&&(qe(Ne),0===Ne.lookahead)){if(at===ce)return 1;break}if(Ne.match_length=0,Rt=V._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++,Rt&&(Be(Ne,!1),0===Ne.strm.avail_out))return 1}return Ne.insert=0,4===at?(Be(Ne,!0),0===Ne.strm.avail_out?3:4):Ne.last_lit&&(Be(Ne,!1),0===Ne.strm.avail_out)?1:2}(ee,st):3===ee.strategy?function(Ne,at){for(var Rt,Et,Qt,Pn,wn=Ne.window;;){if(Ne.lookahead<=xt){if(qe(Ne),Ne.lookahead<=xt&&at===ce)return 1;if(0===Ne.lookahead)break}if(Ne.match_length=0,Ne.lookahead>=je&&0<Ne.strstart&&(Et=wn[Qt=Ne.strstart-1])===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]){Pn=Ne.strstart+xt;do{}while(Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Et===wn[++Qt]&&Qt<Pn);Ne.match_length=xt-(Pn-Qt),Ne.match_length>Ne.lookahead&&(Ne.match_length=Ne.lookahead)}if(Ne.match_length>=je?(Rt=V._tr_tally(Ne,1,Ne.match_length-je),Ne.lookahead-=Ne.match_length,Ne.strstart+=Ne.match_length,Ne.match_length=0):(Rt=V._tr_tally(Ne,0,Ne.window[Ne.strstart]),Ne.lookahead--,Ne.strstart++),Rt&&(Be(Ne,!1),0===Ne.strm.avail_out))return 1}return Ne.insert=0,4===at?(Be(Ne,!0),0===Ne.strm.avail_out?3:4):Ne.last_lit&&(Be(Ne,!1),0===Ne.strm.avail_out)?1:2}(ee,st):H[ee.level].func(ee,st);if(3!==ft&&4!==ft||(ee.status=666),1===ft||3===ft)return 0===A.avail_out&&(ee.last_flush=-1),M;if(2===ft&&(1===st?V._tr_align(ee):5!==st&&(V._tr_stored_block(ee,0,0,!1),3===st&&(mt(ee.head),0===ee.lookahead&&(ee.strstart=0,ee.block_start=0,ee.insert=0))),Ze(A),0===A.avail_out))return ee.last_flush=-1,M}return 4!==st?M:ee.wrap<=0?1:(2===ee.wrap?(Ee(ee,255&A.adler),Ee(ee,A.adler>>8&255),Ee(ee,A.adler>>16&255),Ee(ee,A.adler>>24&255),Ee(ee,255&A.total_in),Ee(ee,A.total_in>>8&255),Ee(ee,A.total_in>>16&255),Ee(ee,A.total_in>>24&255)):(we(ee,A.adler>>>16),we(ee,65535&A.adler)),Ze(A),0<ee.wrap&&(ee.wrap=-ee.wrap),0!==ee.pending?M:1)},T.deflateEnd=function(A){var st;return A&&A.state?(st=A.state.status)!==re&&69!==st&&73!==st&&91!==st&&103!==st&&st!==Je&&666!==st?on(A,U):(A.state=null,st===Je?on(A,-3):M):U},T.deflateSetDictionary=function(A,st){var Re,ee,Q,De,ct,ft,Ne,at,Rt=st.length;if(!A||!A.state||2===(De=(Re=A.state).wrap)||1===De&&Re.status!==re||Re.lookahead)return U;for(1===De&&(A.adler=K(A.adler,st,Rt,0)),Re.wrap=0,Rt>=Re.w_size&&(0===De&&(mt(Re.head),Re.strstart=0,Re.block_start=0,Re.insert=0),at=new E.Buf8(Re.w_size),E.arraySet(at,st,Rt-Re.w_size,Re.w_size,0),st=at,Rt=Re.w_size),ct=A.avail_in,ft=A.next_in,Ne=A.input,A.avail_in=Rt,A.next_in=0,A.input=st,qe(Re);Re.lookahead>=je;){for(ee=Re.strstart,Q=Re.lookahead-(je-1);Re.ins_h=(Re.ins_h<<Re.hash_shift^Re.window[ee+je-1])&Re.hash_mask,Re.prev[ee&Re.w_mask]=Re.head[Re.ins_h],Re.head[Re.ins_h]=ee,ee++,--Q;);Re.strstart=ee,Re.lookahead=je-1,qe(Re)}return Re.strstart+=Re.lookahead,Re.block_start=Re.strstart,Re.insert=Re.lookahead,Re.lookahead=0,Re.match_length=Re.prev_length=je-1,Re.match_available=0,A.next_in=ft,A.input=Ne,A.avail_in=ct,Re.wrap=De,M},T.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(ve,ze,T){"use strict";ze.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(ve,ze,T){"use strict";ze.exports=function(H,E){var V,K,fe,_e,ce,le,M,U,N,q,$,oe,pe,xe,be,rt,Ke,ot,je,xt,kt,re,Je,I,nt;I=H.input,fe=(K=H.next_in)+(H.avail_in-5),nt=H.output,ce=(_e=H.next_out)-(E-H.avail_out),le=_e+(H.avail_out-257),M=(V=H.state).dmax,U=V.wsize,N=V.whave,q=V.wnext,$=V.window,oe=V.hold,pe=V.bits,xe=V.lencode,be=V.distcode,rt=(1<<V.lenbits)-1,Ke=(1<<V.distbits)-1;e:do{pe<15&&(oe+=I[K++]<<pe,oe+=I[K++]<<(pe+=8),pe+=8),ot=xe[oe&rt];t:for(;;){if(oe>>>=je=ot>>>24,pe-=je,0==(je=ot>>>16&255))nt[_e++]=65535&ot;else{if(!(16&je)){if(!(64&je)){ot=xe[(65535&ot)+(oe&(1<<je)-1)];continue t}if(32&je){V.mode=12;break e}H.msg="invalid literal/length code",V.mode=30;break e}xt=65535&ot,(je&=15)&&(pe<je&&(oe+=I[K++]<<pe,pe+=8),xt+=oe&(1<<je)-1,oe>>>=je,pe-=je),pe<15&&(oe+=I[K++]<<pe,oe+=I[K++]<<(pe+=8),pe+=8),ot=be[oe&Ke];n:for(;;){if(oe>>>=je=ot>>>24,pe-=je,!(16&(je=ot>>>16&255))){if(!(64&je)){ot=be[(65535&ot)+(oe&(1<<je)-1)];continue n}H.msg="invalid distance code",V.mode=30;break e}if(kt=65535&ot,pe<(je&=15)&&(oe+=I[K++]<<pe,(pe+=8)<je&&(oe+=I[K++]<<pe,pe+=8)),M<(kt+=oe&(1<<je)-1)){H.msg="invalid distance too far back",V.mode=30;break e}if(oe>>>=je,pe-=je,(je=_e-ce)<kt){if(N<(je=kt-je)&&V.sane){H.msg="invalid distance too far back",V.mode=30;break e}if(Je=$,(re=0)===q){if(re+=U-je,je<xt){for(xt-=je;nt[_e++]=$[re++],--je;);re=_e-kt,Je=nt}}else if(q<je){if(re+=U+q-je,(je-=q)<xt){for(xt-=je;nt[_e++]=$[re++],--je;);if(re=0,q<xt){for(xt-=je=q;nt[_e++]=$[re++],--je;);re=_e-kt,Je=nt}}}else if(re+=q-je,je<xt){for(xt-=je;nt[_e++]=$[re++],--je;);re=_e-kt,Je=nt}for(;2<xt;)nt[_e++]=Je[re++],nt[_e++]=Je[re++],nt[_e++]=Je[re++],xt-=3;xt&&(nt[_e++]=Je[re++],1<xt&&(nt[_e++]=Je[re++]))}else{for(re=_e-kt;nt[_e++]=nt[re++],nt[_e++]=nt[re++],nt[_e++]=nt[re++],2<(xt-=3););xt&&(nt[_e++]=nt[re++],1<xt&&(nt[_e++]=nt[re++]))}break}}break}}while(K<fe&&_e<le);K-=xt=pe>>3,oe&=(1<<(pe-=xt<<3))-1,H.next_in=K,H.next_out=_e,H.avail_in=K<fe?fe-K+5:5-(K-fe),H.avail_out=_e<le?le-_e+257:257-(_e-le),V.hold=oe,V.bits=pe}},{}],49:[function(ve,ze,T){"use strict";var H=ve("../utils/common"),E=ve("./adler32"),V=ve("./crc32"),K=ve("./inffast"),fe=ve("./inftrees"),le=0,M=-2,U=1,N=852,q=592;function $(re){return(re>>>24&255)+(re>>>8&65280)+((65280&re)<<8)+((255&re)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new H.Buf16(320),this.work=new H.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pe(re){var Je;return re&&re.state?(re.total_in=re.total_out=(Je=re.state).total=0,re.msg="",Je.wrap&&(re.adler=1&Je.wrap),Je.mode=U,Je.last=0,Je.havedict=0,Je.dmax=32768,Je.head=null,Je.hold=0,Je.bits=0,Je.lencode=Je.lendyn=new H.Buf32(N),Je.distcode=Je.distdyn=new H.Buf32(q),Je.sane=1,Je.back=-1,le):M}function xe(re){var Je;return re&&re.state?((Je=re.state).wsize=0,Je.whave=0,Je.wnext=0,pe(re)):M}function be(re,Je){var I,nt;return re&&re.state?(nt=re.state,Je<0?(I=0,Je=-Je):(I=1+(Je>>4),Je<48&&(Je&=15)),Je&&(Je<8||15<Je)?M:(null!==nt.window&&nt.wbits!==Je&&(nt.window=null),nt.wrap=I,nt.wbits=Je,xe(re))):M}function rt(re,Je){var I,nt;return re?(nt=new oe,(re.state=nt).window=null,(I=be(re,Je))!==le&&(re.state=null),I):M}var Ke,ot,je=!0;function xt(re){if(je){var Je;for(Ke=new H.Buf32(512),ot=new H.Buf32(32),Je=0;Je<144;)re.lens[Je++]=8;for(;Je<256;)re.lens[Je++]=9;for(;Je<280;)re.lens[Je++]=7;for(;Je<288;)re.lens[Je++]=8;for(fe(1,re.lens,0,288,Ke,0,re.work,{bits:9}),Je=0;Je<32;)re.lens[Je++]=5;fe(2,re.lens,0,32,ot,0,re.work,{bits:5}),je=!1}re.lencode=Ke,re.lenbits=9,re.distcode=ot,re.distbits=5}function kt(re,Je,I,nt){var Ht,dt=re.state;return null===dt.window&&(dt.wsize=1<<dt.wbits,dt.wnext=0,dt.whave=0,dt.window=new H.Buf8(dt.wsize)),nt>=dt.wsize?(H.arraySet(dt.window,Je,I-dt.wsize,dt.wsize,0),dt.wnext=0,dt.whave=dt.wsize):(nt<(Ht=dt.wsize-dt.wnext)&&(Ht=nt),H.arraySet(dt.window,Je,I-nt,Ht,dt.wnext),(nt-=Ht)?(H.arraySet(dt.window,Je,I-nt,nt,0),dt.wnext=nt,dt.whave=dt.wsize):(dt.wnext+=Ht,dt.wnext===dt.wsize&&(dt.wnext=0),dt.whave<dt.wsize&&(dt.whave+=Ht))),0}T.inflateReset=xe,T.inflateReset2=be,T.inflateResetKeep=pe,T.inflateInit=function(re){return rt(re,15)},T.inflateInit2=rt,T.inflate=function(re,Je){var I,nt,Ht,dt,on,wt,mt,Ze,Be,Ee,we,Z,qe,tt,Ae,ut,an,We,zt,yn,A,st,Re,ee,Q=0,De=new H.Buf8(4),ct=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!re||!re.state||!re.output||!re.input&&0!==re.avail_in)return M;12===(I=re.state).mode&&(I.mode=13),on=re.next_out,Ht=re.output,dt=re.next_in,nt=re.input,Ze=I.hold,Be=I.bits,Ee=wt=re.avail_in,we=mt=re.avail_out,st=le;e:for(;;)switch(I.mode){case U:if(0===I.wrap){I.mode=13;break}for(;Be<16;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(2&I.wrap&&35615===Ze){De[I.check=0]=255&Ze,De[1]=Ze>>>8&255,I.check=V(I.check,De,2,0),Be=Ze=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&Ze)<<8)+(Ze>>8))%31){re.msg="incorrect header check",I.mode=30;break}if(8!=(15&Ze)){re.msg="unknown compression method",I.mode=30;break}if(Be-=4,A=8+(15&(Ze>>>=4)),0===I.wbits)I.wbits=A;else if(A>I.wbits){re.msg="invalid window size",I.mode=30;break}I.dmax=1<<A,re.adler=I.check=1,I.mode=512&Ze?10:12,Be=Ze=0;break;case 2:for(;Be<16;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(I.flags=Ze,8!=(255&I.flags)){re.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){re.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=Ze>>8&1),512&I.flags&&(De[0]=255&Ze,De[1]=Ze>>>8&255,I.check=V(I.check,De,2,0)),Be=Ze=0,I.mode=3;case 3:for(;Be<32;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.head&&(I.head.time=Ze),512&I.flags&&(De[0]=255&Ze,De[1]=Ze>>>8&255,De[2]=Ze>>>16&255,De[3]=Ze>>>24&255,I.check=V(I.check,De,4,0)),Be=Ze=0,I.mode=4;case 4:for(;Be<16;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.head&&(I.head.xflags=255&Ze,I.head.os=Ze>>8),512&I.flags&&(De[0]=255&Ze,De[1]=Ze>>>8&255,I.check=V(I.check,De,2,0)),Be=Ze=0,I.mode=5;case 5:if(1024&I.flags){for(;Be<16;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.length=Ze,I.head&&(I.head.extra_len=Ze),512&I.flags&&(De[0]=255&Ze,De[1]=Ze>>>8&255,I.check=V(I.check,De,2,0)),Be=Ze=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(wt<(Z=I.length)&&(Z=wt),Z&&(I.head&&(A=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),H.arraySet(I.head.extra,nt,dt,Z,A)),512&I.flags&&(I.check=V(I.check,nt,Z,dt)),wt-=Z,dt+=Z,I.length-=Z),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(0===wt)break e;for(Z=0;A=nt[dt+Z++],I.head&&A&&I.length<65536&&(I.head.name+=String.fromCharCode(A)),A&&Z<wt;);if(512&I.flags&&(I.check=V(I.check,nt,Z,dt)),wt-=Z,dt+=Z,A)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(0===wt)break e;for(Z=0;A=nt[dt+Z++],I.head&&A&&I.length<65536&&(I.head.comment+=String.fromCharCode(A)),A&&Z<wt;);if(512&I.flags&&(I.check=V(I.check,nt,Z,dt)),wt-=Z,dt+=Z,A)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;Be<16;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(Ze!==(65535&I.check)){re.msg="header crc mismatch",I.mode=30;break}Be=Ze=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),re.adler=I.check=0,I.mode=12;break;case 10:for(;Be<32;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}re.adler=I.check=$(Ze),Be=Ze=0,I.mode=11;case 11:if(0===I.havedict)return re.next_out=on,re.avail_out=mt,re.next_in=dt,re.avail_in=wt,I.hold=Ze,I.bits=Be,2;re.adler=I.check=1,I.mode=12;case 12:if(5===Je||6===Je)break e;case 13:if(I.last){Ze>>>=7&Be,Be-=7&Be,I.mode=27;break}for(;Be<3;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}switch(I.last=1&Ze,Be-=1,3&(Ze>>>=1)){case 0:I.mode=14;break;case 1:if(xt(I),I.mode=20,6!==Je)break;Ze>>>=2,Be-=2;break e;case 2:I.mode=17;break;case 3:re.msg="invalid block type",I.mode=30}Ze>>>=2,Be-=2;break;case 14:for(Ze>>>=7&Be,Be-=7&Be;Be<32;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if((65535&Ze)!=(Ze>>>16^65535)){re.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&Ze,Be=Ze=0,I.mode=15,6===Je)break e;case 15:I.mode=16;case 16:if(Z=I.length){if(wt<Z&&(Z=wt),mt<Z&&(Z=mt),0===Z)break e;H.arraySet(Ht,nt,dt,Z,on),wt-=Z,dt+=Z,mt-=Z,on+=Z,I.length-=Z;break}I.mode=12;break;case 17:for(;Be<14;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(I.nlen=257+(31&Ze),Be-=5,I.ndist=1+(31&(Ze>>>=5)),Be-=5,I.ncode=4+(15&(Ze>>>=5)),Ze>>>=4,Be-=4,286<I.nlen||30<I.ndist){re.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;Be<3;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.lens[ct[I.have++]]=7&Ze,Ze>>>=3,Be-=3}for(;I.have<19;)I.lens[ct[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,st=fe(0,I.lens,0,19,I.lencode,0,I.work,Re={bits:I.lenbits}),I.lenbits=Re.bits,st){re.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;ut=(Q=I.lencode[Ze&(1<<I.lenbits)-1])>>>16&255,an=65535&Q,!((Ae=Q>>>24)<=Be);){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(an<16)Ze>>>=Ae,Be-=Ae,I.lens[I.have++]=an;else{if(16===an){for(ee=Ae+2;Be<ee;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(Ze>>>=Ae,Be-=Ae,0===I.have){re.msg="invalid bit length repeat",I.mode=30;break}A=I.lens[I.have-1],Z=3+(3&Ze),Ze>>>=2,Be-=2}else if(17===an){for(ee=Ae+3;Be<ee;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}Be-=Ae,A=0,Z=3+(7&(Ze>>>=Ae)),Ze>>>=3,Be-=3}else{for(ee=Ae+7;Be<ee;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}Be-=Ae,A=0,Z=11+(127&(Ze>>>=Ae)),Ze>>>=7,Be-=7}if(I.have+Z>I.nlen+I.ndist){re.msg="invalid bit length repeat",I.mode=30;break}for(;Z--;)I.lens[I.have++]=A}}if(30===I.mode)break;if(0===I.lens[256]){re.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,st=fe(1,I.lens,0,I.nlen,I.lencode,0,I.work,Re={bits:I.lenbits}),I.lenbits=Re.bits,st){re.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,st=fe(2,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,Re={bits:I.distbits}),I.distbits=Re.bits,st){re.msg="invalid distances set",I.mode=30;break}if(I.mode=20,6===Je)break e;case 20:I.mode=21;case 21:if(6<=wt&&258<=mt){re.next_out=on,re.avail_out=mt,re.next_in=dt,re.avail_in=wt,I.hold=Ze,I.bits=Be,K(re,we),on=re.next_out,Ht=re.output,mt=re.avail_out,dt=re.next_in,nt=re.input,wt=re.avail_in,Ze=I.hold,Be=I.bits,12===I.mode&&(I.back=-1);break}for(I.back=0;ut=(Q=I.lencode[Ze&(1<<I.lenbits)-1])>>>16&255,an=65535&Q,!((Ae=Q>>>24)<=Be);){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(ut&&!(240&ut)){for(We=Ae,zt=ut,yn=an;ut=(Q=I.lencode[yn+((Ze&(1<<We+zt)-1)>>We)])>>>16&255,an=65535&Q,!(We+(Ae=Q>>>24)<=Be);){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}Ze>>>=We,Be-=We,I.back+=We}if(Ze>>>=Ae,Be-=Ae,I.back+=Ae,I.length=an,0===ut){I.mode=26;break}if(32&ut){I.back=-1,I.mode=12;break}if(64&ut){re.msg="invalid literal/length code",I.mode=30;break}I.extra=15&ut,I.mode=22;case 22:if(I.extra){for(ee=I.extra;Be<ee;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.length+=Ze&(1<<I.extra)-1,Ze>>>=I.extra,Be-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;ut=(Q=I.distcode[Ze&(1<<I.distbits)-1])>>>16&255,an=65535&Q,!((Ae=Q>>>24)<=Be);){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(!(240&ut)){for(We=Ae,zt=ut,yn=an;ut=(Q=I.distcode[yn+((Ze&(1<<We+zt)-1)>>We)])>>>16&255,an=65535&Q,!(We+(Ae=Q>>>24)<=Be);){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}Ze>>>=We,Be-=We,I.back+=We}if(Ze>>>=Ae,Be-=Ae,I.back+=Ae,64&ut){re.msg="invalid distance code",I.mode=30;break}I.offset=an,I.extra=15&ut,I.mode=24;case 24:if(I.extra){for(ee=I.extra;Be<ee;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}I.offset+=Ze&(1<<I.extra)-1,Ze>>>=I.extra,Be-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){re.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(0===mt)break e;if(I.offset>(Z=we-mt)){if((Z=I.offset-Z)>I.whave&&I.sane){re.msg="invalid distance too far back",I.mode=30;break}qe=Z>I.wnext?I.wsize-(Z-=I.wnext):I.wnext-Z,Z>I.length&&(Z=I.length),tt=I.window}else tt=Ht,qe=on-I.offset,Z=I.length;for(mt<Z&&(Z=mt),mt-=Z,I.length-=Z;Ht[on++]=tt[qe++],--Z;);0===I.length&&(I.mode=21);break;case 26:if(0===mt)break e;Ht[on++]=I.length,mt--,I.mode=21;break;case 27:if(I.wrap){for(;Be<32;){if(0===wt)break e;wt--,Ze|=nt[dt++]<<Be,Be+=8}if(re.total_out+=we-=mt,I.total+=we,we&&(re.adler=I.check=I.flags?V(I.check,Ht,we,on-we):E(I.check,Ht,we,on-we)),we=mt,(I.flags?Ze:$(Ze))!==I.check){re.msg="incorrect data check",I.mode=30;break}Be=Ze=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;Be<32;){if(0===wt)break e;wt--,Ze+=nt[dt++]<<Be,Be+=8}if(Ze!==(4294967295&I.total)){re.msg="incorrect length check",I.mode=30;break}Be=Ze=0}I.mode=29;case 29:st=1;break e;case 30:st=-3;break e;case 31:return-4;default:return M}return re.next_out=on,re.avail_out=mt,re.next_in=dt,re.avail_in=wt,I.hold=Ze,I.bits=Be,(I.wsize||we!==re.avail_out&&I.mode<30&&(I.mode<27||4!==Je))&&kt(re,re.output,re.next_out,we-re.avail_out)?(I.mode=31,-4):(we-=re.avail_out,re.total_in+=Ee-=re.avail_in,re.total_out+=we,I.total+=we,I.wrap&&we&&(re.adler=I.check=I.flags?V(I.check,Ht,we,re.next_out-we):E(I.check,Ht,we,re.next_out-we)),re.data_type=I.bits+(I.last?64:0)+(12===I.mode?128:0)+(20===I.mode||15===I.mode?256:0),(0==Ee&&0===we||4===Je)&&st===le&&(st=-5),st)},T.inflateEnd=function(re){if(!re||!re.state)return M;var Je=re.state;return Je.window&&(Je.window=null),re.state=null,le},T.inflateGetHeader=function(re,Je){var I;return re&&re.state&&2&(I=re.state).wrap?((I.head=Je).done=!1,le):M},T.inflateSetDictionary=function(re,Je){var I,nt=Je.length;return re&&re.state?0!==(I=re.state).wrap&&11!==I.mode?M:11===I.mode&&E(1,Je,nt,0)!==I.check?-3:kt(re,Je,nt,nt)?(I.mode=31,-4):(I.havedict=1,le):M},T.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(ve,ze,T){"use strict";var H=ve("../utils/common"),E=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],V=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],K=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],fe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ze.exports=function(_e,ce,le,M,U,N,q,$){var oe,pe,xe,be,rt,Ke,ot,je,xt,kt=$.bits,re=0,Je=0,I=0,nt=0,Ht=0,dt=0,on=0,wt=0,mt=0,Ze=0,Be=null,Ee=0,we=new H.Buf16(16),Z=new H.Buf16(16),qe=null,tt=0;for(re=0;re<=15;re++)we[re]=0;for(Je=0;Je<M;Je++)we[ce[le+Je]]++;for(Ht=kt,nt=15;1<=nt&&0===we[nt];nt--);if(nt<Ht&&(Ht=nt),0===nt)return U[N++]=20971520,U[N++]=20971520,$.bits=1,0;for(I=1;I<nt&&0===we[I];I++);for(Ht<I&&(Ht=I),re=wt=1;re<=15;re++)if(wt<<=1,(wt-=we[re])<0)return-1;if(0<wt&&(0===_e||1!==nt))return-1;for(Z[1]=0,re=1;re<15;re++)Z[re+1]=Z[re]+we[re];for(Je=0;Je<M;Je++)0!==ce[le+Je]&&(q[Z[ce[le+Je]]++]=Je);if(Ke=0===_e?(Be=qe=q,19):1===_e?(Be=E,Ee-=257,qe=V,tt-=257,256):(Be=K,qe=fe,-1),re=I,rt=N,on=Je=Ze=0,xe=-1,be=(mt=1<<(dt=Ht))-1,1===_e&&852<mt||2===_e&&592<mt)return 1;for(;;){for(ot=re-on,xt=q[Je]<Ke?(je=0,q[Je]):q[Je]>Ke?(je=qe[tt+q[Je]],Be[Ee+q[Je]]):(je=96,0),oe=1<<re-on,I=pe=1<<dt;U[rt+(Ze>>on)+(pe-=oe)]=ot<<24|je<<16|xt|0,0!==pe;);for(oe=1<<re-1;Ze&oe;)oe>>=1;if(0!==oe?(Ze&=oe-1,Ze+=oe):Ze=0,Je++,0==--we[re]){if(re===nt)break;re=ce[le+q[Je]]}if(Ht<re&&(Ze&be)!==xe){for(0===on&&(on=Ht),rt+=I,wt=1<<(dt=re-on);dt+on<nt&&!((wt-=we[dt+on])<=0);)dt++,wt<<=1;if(mt+=1<<dt,1===_e&&852<mt||2===_e&&592<mt)return 1;U[xe=Ze&be]=Ht<<24|dt<<16|rt-N|0}}return 0!==Ze&&(U[rt+Ze]=re-on<<24|64<<16|0),$.bits=Ht,0}},{"../utils/common":41}],51:[function(ve,ze,T){"use strict";ze.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(ve,ze,T){"use strict";var H=ve("../utils/common");function K(Q){for(var De=Q.length;0<=--De;)Q[De]=0}var M=30,q=15,$=16,Ke=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ot=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],xt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],kt=new Array(576);K(kt);var re=new Array(60);K(re);var Je=new Array(512);K(Je);var I=new Array(256);K(I);var nt=new Array(29);K(nt);var Ht,dt,on,wt=new Array(M);function mt(Q,De,ct,ft,Ne){this.static_tree=Q,this.extra_bits=De,this.extra_base=ct,this.elems=ft,this.max_length=Ne,this.has_stree=Q&&Q.length}function Ze(Q,De){this.dyn_tree=Q,this.max_code=0,this.stat_desc=De}function Be(Q){return Q<256?Je[Q]:Je[256+(Q>>>7)]}function Ee(Q,De){Q.pending_buf[Q.pending++]=255&De,Q.pending_buf[Q.pending++]=De>>>8&255}function we(Q,De,ct){Q.bi_valid>$-ct?(Q.bi_buf|=De<<Q.bi_valid&65535,Ee(Q,Q.bi_buf),Q.bi_buf=De>>$-Q.bi_valid,Q.bi_valid+=ct-$):(Q.bi_buf|=De<<Q.bi_valid&65535,Q.bi_valid+=ct)}function Z(Q,De,ct){we(Q,ct[2*De],ct[2*De+1])}function qe(Q,De){for(var ct=0;ct|=1&Q,Q>>>=1,ct<<=1,0<--De;);return ct>>>1}function tt(Q,De,ct){var ft,Ne,at=new Array(q+1),Rt=0;for(ft=1;ft<=q;ft++)at[ft]=Rt=Rt+ct[ft-1]<<1;for(Ne=0;Ne<=De;Ne++){var Et=Q[2*Ne+1];0!==Et&&(Q[2*Ne]=qe(at[Et]++,Et))}}function Ae(Q){var De;for(De=0;De<286;De++)Q.dyn_ltree[2*De]=0;for(De=0;De<M;De++)Q.dyn_dtree[2*De]=0;for(De=0;De<19;De++)Q.bl_tree[2*De]=0;Q.dyn_ltree[512]=1,Q.opt_len=Q.static_len=0,Q.last_lit=Q.matches=0}function ut(Q){8<Q.bi_valid?Ee(Q,Q.bi_buf):0<Q.bi_valid&&(Q.pending_buf[Q.pending++]=Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0}function an(Q,De,ct,ft){var Ne=2*De,at=2*ct;return Q[Ne]<Q[at]||Q[Ne]===Q[at]&&ft[De]<=ft[ct]}function We(Q,De,ct){for(var ft=Q.heap[ct],Ne=ct<<1;Ne<=Q.heap_len&&(Ne<Q.heap_len&&an(De,Q.heap[Ne+1],Q.heap[Ne],Q.depth)&&Ne++,!an(De,ft,Q.heap[Ne],Q.depth));)Q.heap[ct]=Q.heap[Ne],ct=Ne,Ne<<=1;Q.heap[ct]=ft}function zt(Q,De,ct){var ft,Ne,at,Rt,Et=0;if(0!==Q.last_lit)for(;ft=Q.pending_buf[Q.d_buf+2*Et]<<8|Q.pending_buf[Q.d_buf+2*Et+1],Ne=Q.pending_buf[Q.l_buf+Et],Et++,0===ft?Z(Q,Ne,De):(Z(Q,(at=I[Ne])+256+1,De),0!==(Rt=Ke[at])&&we(Q,Ne-=nt[at],Rt),Z(Q,at=Be(--ft),ct),0!==(Rt=ot[at])&&we(Q,ft-=wt[at],Rt)),Et<Q.last_lit;);Z(Q,256,De)}function yn(Q,De){var ct,ft,Ne,at=De.dyn_tree,Rt=De.stat_desc.static_tree,Et=De.stat_desc.has_stree,Qt=De.stat_desc.elems,Pn=-1;for(Q.heap_len=0,Q.heap_max=573,ct=0;ct<Qt;ct++)0!==at[2*ct]?(Q.heap[++Q.heap_len]=Pn=ct,Q.depth[ct]=0):at[2*ct+1]=0;for(;Q.heap_len<2;)at[2*(Ne=Q.heap[++Q.heap_len]=Pn<2?++Pn:0)]=1,Q.depth[Ne]=0,Q.opt_len--,Et&&(Q.static_len-=Rt[2*Ne+1]);for(De.max_code=Pn,ct=Q.heap_len>>1;1<=ct;ct--)We(Q,at,ct);for(Ne=Qt;ct=Q.heap[1],Q.heap[1]=Q.heap[Q.heap_len--],We(Q,at,1),ft=Q.heap[1],Q.heap[--Q.heap_max]=ct,Q.heap[--Q.heap_max]=ft,at[2*Ne]=at[2*ct]+at[2*ft],Q.depth[Ne]=(Q.depth[ct]>=Q.depth[ft]?Q.depth[ct]:Q.depth[ft])+1,at[2*ct+1]=at[2*ft+1]=Ne,Q.heap[1]=Ne++,We(Q,at,1),2<=Q.heap_len;);Q.heap[--Q.heap_max]=Q.heap[1],function(wn,hi){var dr,Qn,ur,mn,er,yi,Ur=hi.dyn_tree,ns=hi.max_code,oi=hi.stat_desc.static_tree,go=hi.stat_desc.has_stree,Ro=hi.stat_desc.extra_bits,Fi=hi.stat_desc.extra_base,Ni=hi.stat_desc.max_length,vi=0;for(mn=0;mn<=q;mn++)wn.bl_count[mn]=0;for(Ur[2*wn.heap[wn.heap_max]+1]=0,dr=wn.heap_max+1;dr<573;dr++)Ni<(mn=Ur[2*Ur[2*(Qn=wn.heap[dr])+1]+1]+1)&&(mn=Ni,vi++),Ur[2*Qn+1]=mn,ns<Qn||(wn.bl_count[mn]++,er=0,Fi<=Qn&&(er=Ro[Qn-Fi]),wn.opt_len+=(yi=Ur[2*Qn])*(mn+er),go&&(wn.static_len+=yi*(oi[2*Qn+1]+er)));if(0!==vi){do{for(mn=Ni-1;0===wn.bl_count[mn];)mn--;wn.bl_count[mn]--,wn.bl_count[mn+1]+=2,wn.bl_count[Ni]--,vi-=2}while(0<vi);for(mn=Ni;0!==mn;mn--)for(Qn=wn.bl_count[mn];0!==Qn;)ns<(ur=wn.heap[--dr])||(Ur[2*ur+1]!==mn&&(wn.opt_len+=(mn-Ur[2*ur+1])*Ur[2*ur],Ur[2*ur+1]=mn),Qn--)}}(Q,De),tt(at,Pn,Q.bl_count)}function A(Q,De,ct){var ft,Ne,at=-1,Rt=De[1],Et=0,Qt=7,Pn=4;for(0===Rt&&(Qt=138,Pn=3),De[2*(ct+1)+1]=65535,ft=0;ft<=ct;ft++)Ne=Rt,Rt=De[2*(ft+1)+1],++Et<Qt&&Ne===Rt||(Et<Pn?Q.bl_tree[2*Ne]+=Et:0!==Ne?(Ne!==at&&Q.bl_tree[2*Ne]++,Q.bl_tree[32]++):Et<=10?Q.bl_tree[34]++:Q.bl_tree[36]++,at=Ne,Pn=(Et=0)===Rt?(Qt=138,3):Ne===Rt?(Qt=6,3):(Qt=7,4))}function st(Q,De,ct){var ft,Ne,at=-1,Rt=De[1],Et=0,Qt=7,Pn=4;for(0===Rt&&(Qt=138,Pn=3),ft=0;ft<=ct;ft++)if(Ne=Rt,Rt=De[2*(ft+1)+1],!(++Et<Qt&&Ne===Rt)){if(Et<Pn)for(;Z(Q,Ne,Q.bl_tree),0!=--Et;);else 0!==Ne?(Ne!==at&&(Z(Q,Ne,Q.bl_tree),Et--),Z(Q,16,Q.bl_tree),we(Q,Et-3,2)):Et<=10?(Z(Q,17,Q.bl_tree),we(Q,Et-3,3)):(Z(Q,18,Q.bl_tree),we(Q,Et-11,7));at=Ne,Pn=(Et=0)===Rt?(Qt=138,3):Ne===Rt?(Qt=6,3):(Qt=7,4)}}K(wt);var Re=!1;function ee(Q,De,ct,ft){var Ne,at,Rt;we(Q,0+(ft?1:0),3),at=De,Rt=ct,ut(Ne=Q),Ee(Ne,Rt),Ee(Ne,~Rt),H.arraySet(Ne.pending_buf,Ne.window,at,Rt,Ne.pending),Ne.pending+=Rt}T._tr_init=function(Q){Re||(function(){var De,ct,ft,Ne,at,Rt=new Array(q+1);for(Ne=ft=0;Ne<28;Ne++)for(nt[Ne]=ft,De=0;De<1<<Ke[Ne];De++)I[ft++]=Ne;for(I[ft-1]=Ne,Ne=at=0;Ne<16;Ne++)for(wt[Ne]=at,De=0;De<1<<ot[Ne];De++)Je[at++]=Ne;for(at>>=7;Ne<M;Ne++)for(wt[Ne]=at<<7,De=0;De<1<<ot[Ne]-7;De++)Je[256+at++]=Ne;for(ct=0;ct<=q;ct++)Rt[ct]=0;for(De=0;De<=143;)kt[2*De+1]=8,De++,Rt[8]++;for(;De<=255;)kt[2*De+1]=9,De++,Rt[9]++;for(;De<=279;)kt[2*De+1]=7,De++,Rt[7]++;for(;De<=287;)kt[2*De+1]=8,De++,Rt[8]++;for(tt(kt,287,Rt),De=0;De<M;De++)re[2*De+1]=5,re[2*De]=qe(De,5);Ht=new mt(kt,Ke,257,286,q),dt=new mt(re,ot,0,M,q),on=new mt(new Array(0),je,0,19,7)}(),Re=!0),Q.l_desc=new Ze(Q.dyn_ltree,Ht),Q.d_desc=new Ze(Q.dyn_dtree,dt),Q.bl_desc=new Ze(Q.bl_tree,on),Q.bi_buf=0,Q.bi_valid=0,Ae(Q)},T._tr_stored_block=ee,T._tr_flush_block=function(Q,De,ct,ft){var Ne,at,Rt=0;0<Q.level?(2===Q.strm.data_type&&(Q.strm.data_type=function(Et){var Qt,Pn=4093624447;for(Qt=0;Qt<=31;Qt++,Pn>>>=1)if(1&Pn&&0!==Et.dyn_ltree[2*Qt])return 0;if(0!==Et.dyn_ltree[18]||0!==Et.dyn_ltree[20]||0!==Et.dyn_ltree[26])return 1;for(Qt=32;Qt<256;Qt++)if(0!==Et.dyn_ltree[2*Qt])return 1;return 0}(Q)),yn(Q,Q.l_desc),yn(Q,Q.d_desc),Rt=function(Et){var Qt;for(A(Et,Et.dyn_ltree,Et.l_desc.max_code),A(Et,Et.dyn_dtree,Et.d_desc.max_code),yn(Et,Et.bl_desc),Qt=18;3<=Qt&&0===Et.bl_tree[2*xt[Qt]+1];Qt--);return Et.opt_len+=3*(Qt+1)+5+5+4,Qt}(Q),(at=Q.static_len+3+7>>>3)<=(Ne=Q.opt_len+3+7>>>3)&&(Ne=at)):Ne=at=ct+5,ct+4<=Ne&&-1!==De?ee(Q,De,ct,ft):4===Q.strategy||at===Ne?(we(Q,2+(ft?1:0),3),zt(Q,kt,re)):(we(Q,4+(ft?1:0),3),function(Et,Qt,Pn,wn){var hi;for(we(Et,Qt-257,5),we(Et,Pn-1,5),we(Et,wn-4,4),hi=0;hi<wn;hi++)we(Et,Et.bl_tree[2*xt[hi]+1],3);st(Et,Et.dyn_ltree,Qt-1),st(Et,Et.dyn_dtree,Pn-1)}(Q,Q.l_desc.max_code+1,Q.d_desc.max_code+1,Rt+1),zt(Q,Q.dyn_ltree,Q.dyn_dtree)),Ae(Q),ft&&ut(Q)},T._tr_tally=function(Q,De,ct){return Q.pending_buf[Q.d_buf+2*Q.last_lit]=De>>>8&255,Q.pending_buf[Q.d_buf+2*Q.last_lit+1]=255&De,Q.pending_buf[Q.l_buf+Q.last_lit]=255&ct,Q.last_lit++,0===De?Q.dyn_ltree[2*ct]++:(Q.matches++,De--,Q.dyn_ltree[2*(I[ct]+256+1)]++,Q.dyn_dtree[2*Be(De)]++),Q.last_lit===Q.lit_bufsize-1},T._tr_align=function(Q){var De;we(Q,2,3),Z(Q,256,kt),16===(De=Q).bi_valid?(Ee(De,De.bi_buf),De.bi_buf=0,De.bi_valid=0):8<=De.bi_valid&&(De.pending_buf[De.pending++]=255&De.bi_buf,De.bi_buf>>=8,De.bi_valid-=8)}},{"../utils/common":41}],53:[function(ve,ze,T){"use strict";ze.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(ve,ze,T){(function(H){!function(E,V){"use strict";if(!E.setImmediate){var K,fe,_e,ce,le=1,M={},U=!1,N=E.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(E);q=q&&q.setTimeout?q:E,K="[object process]"==={}.toString.call(E.process)?function(xe){process.nextTick(function(){oe(xe)})}:function(){if(E.postMessage&&!E.importScripts){var xe=!0,be=E.onmessage;return E.onmessage=function(){xe=!1},E.postMessage("","*"),E.onmessage=be,xe}}()?(ce="setImmediate$"+Math.random()+"$",E.addEventListener?E.addEventListener("message",pe,!1):E.attachEvent("onmessage",pe),function(xe){E.postMessage(ce+xe,"*")}):E.MessageChannel?((_e=new MessageChannel).port1.onmessage=function(xe){oe(xe.data)},function(xe){_e.port2.postMessage(xe)}):N&&"onreadystatechange"in N.createElement("script")?(fe=N.documentElement,function(xe){var be=N.createElement("script");be.onreadystatechange=function(){oe(xe),be.onreadystatechange=null,fe.removeChild(be),be=null},fe.appendChild(be)}):function(xe){setTimeout(oe,0,xe)},q.setImmediate=function(xe){"function"!=typeof xe&&(xe=new Function(""+xe));for(var be=new Array(arguments.length-1),rt=0;rt<be.length;rt++)be[rt]=arguments[rt+1];return M[le]={callback:xe,args:be},K(le),le++},q.clearImmediate=$}function $(xe){delete M[xe]}function oe(xe){if(U)setTimeout(oe,0,xe);else{var be=M[xe];if(be){U=!0;try{!function(rt){var Ke=rt.callback,ot=rt.args;switch(ot.length){case 0:Ke();break;case 1:Ke(ot[0]);break;case 2:Ke(ot[0],ot[1]);break;case 3:Ke(ot[0],ot[1],ot[2]);break;default:Ke.apply(V,ot)}}(be)}finally{$(xe),U=!1}}}}function pe(xe){xe.source===E&&"string"==typeof xe.data&&0===xe.data.indexOf(ce)&&oe(+xe.data.slice(ce.length))}}(typeof self>"u"?void 0===H?this:H:self)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)},399:(mo,ve,ze)=>{"use strict";ze.d(ve,{Z:()=>oe});var T=ze(229),H=ze(820),E=ze(571),V=ze(287);class K{constructor(xe,be){this._delegate=xe,this.firebase=be,(0,E._addComponent)(xe,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=xe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this._delegate.automaticDataCollectionEnabled=xe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(xe=>{this._delegate.checkDestroyed(),xe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(xe,be=E._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const Ke=this._delegate.container.getProvider(xe);return!Ke.isInitialized()&&"EXPLICIT"===(null===(rt=Ke.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&Ke.initialize(),Ke.getImmediate({identifier:be})}_removeServiceInstance(xe,be=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(xe).clearInstance(be)}_addComponent(xe){(0,E._addComponent)(this._delegate,xe)}_addOrOverwriteComponent(xe){(0,E._addOrOverwriteComponent)(this._delegate,xe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new T.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),M=function le(){const pe=function ce(pe){const xe={},be={__esModule:!0,initializeApp:function ot(re,Je={}){const I=E.initializeApp(re,Je);if((0,T.r3)(xe,I.name))return xe[I.name];const nt=new pe(I,be);return xe[I.name]=nt,nt},app:Ke,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function xt(re){const Je=re.name,I=Je.replace("-compat","");if(E._registerComponent(re)&&"PUBLIC"===re.type){const nt=(Ht=Ke())=>{if("function"!=typeof Ht[I])throw _e.create("invalid-app-argument",{appName:Je});return Ht[I]()};void 0!==re.serviceProps&&(0,T.ZB)(nt,re.serviceProps),be[I]=nt,pe.prototype[I]=function(...Ht){return this._getService.bind(this,Je).apply(this,re.multipleInstances?Ht:[])}}return"PUBLIC"===re.type?be[I]:null},removeApp:function rt(re){delete xe[re]},useAsService:function kt(re,Je){return"serverAuth"===Je?null:Je},modularAPIs:E}};function Ke(re){if(!(0,T.r3)(xe,re=re||E._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:re});return xe[re]}return be.default=be,Object.defineProperty(be,"apps",{get:function je(){return Object.keys(xe).map(re=>xe[re])}}),Ke.App=pe,be}(K);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function xe(be){(0,T.ZB)(pe,be)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),pe}(),U=new V.Yd("@firebase/app-compat");if((0,T.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const oe=M;!function $(pe){(0,E.registerVersion)("@firebase/app-compat","0.2.35",pe)}()},571:(mo,ve,ze)=>{"use strict";ze.r(ve),ze.d(ve,{FirebaseError:()=>V.ZR,SDK_VERSION:()=>_o,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>ur,_addOrOverwriteComponent:()=>mn,_apps:()=>hi,_clearComponents:()=>go,_components:()=>Qn,_getProvider:()=>yi,_isFirebaseApp:()=>ns,_isFirebaseServerApp:()=>oi,_registerComponent:()=>er,_removeServiceInstance:()=>Ur,_serverApps:()=>dr,deleteApp:()=>za,getApp:()=>fl,getApps:()=>pl,initializeApp:()=>Ua,initializeServerApp:()=>hl,onLog:()=>B,registerVersion:()=>ae,setLogLevel:()=>j});var T=ze(861),H=ze(820),E=ze(287),V=ze(229);const K=(X,Me)=>Me.some(Oe=>X instanceof Oe);let fe,_e;const M=new WeakMap,U=new WeakMap,N=new WeakMap,q=new WeakMap,$=new WeakMap;let xe={get(X,Me,Oe){if(X instanceof IDBTransaction){if("done"===Me)return U.get(X);if("objectStoreNames"===Me)return X.objectStoreNames||N.get(X);if("store"===Me)return Oe.objectStoreNames[1]?void 0:Oe.objectStore(Oe.objectStoreNames[0])}return ot(X[Me])},set:(X,Me,Oe)=>(X[Me]=Oe,!0),has:(X,Me)=>X instanceof IDBTransaction&&("done"===Me||"store"===Me)||Me in X};function Ke(X){return"function"==typeof X?function rt(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function le(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...Me){return X.apply(je(this),Me),ot(M.get(this))}:function(...Me){return ot(X.apply(je(this),Me))}:function(Me,...Oe){const yt=X.call(je(this),Me,...Oe);return N.set(yt,Me.sort?Me.sort():[Me]),ot(yt)}}(X):(X instanceof IDBTransaction&&function pe(X){if(U.has(X))return;const Me=new Promise((Oe,yt)=>{const xn=()=>{X.removeEventListener("complete",Tn),X.removeEventListener("error",Ln),X.removeEventListener("abort",Ln)},Tn=()=>{Oe(),xn()},Ln=()=>{yt(X.error||new DOMException("AbortError","AbortError")),xn()};X.addEventListener("complete",Tn),X.addEventListener("error",Ln),X.addEventListener("abort",Ln)});U.set(X,Me)}(X),K(X,function ce(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,xe):X)}function ot(X){if(X instanceof IDBRequest)return function oe(X){const Me=new Promise((Oe,yt)=>{const xn=()=>{X.removeEventListener("success",Tn),X.removeEventListener("error",Ln)},Tn=()=>{Oe(ot(X.result)),xn()},Ln=()=>{yt(X.error),xn()};X.addEventListener("success",Tn),X.addEventListener("error",Ln)});return Me.then(Oe=>{Oe instanceof IDBCursor&&M.set(Oe,X)}).catch(()=>{}),$.set(Me,X),Me}(X);if(q.has(X))return q.get(X);const Me=Ke(X);return Me!==X&&(q.set(X,Me),$.set(Me,X)),Me}const je=X=>$.get(X),re=["get","getKey","getAll","getAllKeys","count"],Je=["put","add","delete","clear"],I=new Map;function nt(X,Me){if(!(X instanceof IDBDatabase)||Me in X||"string"!=typeof Me)return;if(I.get(Me))return I.get(Me);const Oe=Me.replace(/FromIndex$/,""),yt=Me!==Oe,xn=Je.includes(Oe);if(!(Oe in(yt?IDBIndex:IDBObjectStore).prototype)||!xn&&!re.includes(Oe))return;const Tn=function(){var Ln=(0,T.Z)(function*(fi,...qn){const xs=this.transaction(fi,xn?"readwrite":"readonly");let lc=xs.store;return yt&&(lc=lc.index(qn.shift())),(yield Promise.all([lc[Oe](...qn),xn&&xs.done]))[0]});return function(qn){return Ln.apply(this,arguments)}}();return I.set(Me,Tn),Tn}!function be(X){xe=X(xe)}(X=>({...X,get:(Me,Oe,yt)=>nt(Me,Oe)||X.get(Me,Oe,yt),has:(Me,Oe)=>!!nt(Me,Oe)||X.has(Me,Oe)}));class Ht{constructor(Me){this.container=Me}getPlatformInfoString(){return this.container.getProviders().map(Oe=>{if(function dt(X){const Me=X.getComponent();return"VERSION"===Me?.type}(Oe)){const yt=Oe.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Oe=>Oe).join(" ")}}const on="@firebase/app",wt="0.10.5",mt=new E.Yd("@firebase/app"),Pn="[DEFAULT]",wn={[on]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},hi=new Map,dr=new Map,Qn=new Map;function ur(X,Me){try{X.container.addComponent(Me)}catch(Oe){mt.debug(`Component ${Me.name} failed to register with FirebaseApp ${X.name}`,Oe)}}function mn(X,Me){X.container.addOrOverwriteComponent(Me)}function er(X){const Me=X.name;if(Qn.has(Me))return mt.debug(`There were multiple attempts to register component ${Me}.`),!1;Qn.set(Me,X);for(const Oe of hi.values())ur(Oe,X);for(const Oe of dr.values())ur(Oe,X);return!0}function yi(X,Me){const Oe=X.container.getProvider("heartbeat").getImmediate({optional:!0});return Oe&&Oe.triggerHeartbeat(),X.container.getProvider(Me)}function Ur(X,Me,Oe=Pn){yi(X,Me).clearInstance(Oe)}function ns(X){return void 0!==X.options}function oi(X){return void 0!==X.settings}function go(){Qn.clear()}const Fi=new V.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ni{constructor(Me,Oe,yt){this._isDeleted=!1,this._options=Object.assign({},Me),this._config=Object.assign({},Oe),this._name=Oe.name,this._automaticDataCollectionEnabled=Oe.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Me){this.checkDestroyed(),this._automaticDataCollectionEnabled=Me}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Me){this._isDeleted=Me}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}class vi extends Ni{constructor(Me,Oe,yt,xn){const Tn=void 0!==Oe.automaticDataCollectionEnabled&&Oe.automaticDataCollectionEnabled,Ln={name:yt,automaticDataCollectionEnabled:Tn};super(void 0!==Me.apiKey?Me:Me.options,Ln,xn),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Tn},Oe),this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()}),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Oe.releaseOnDeref=void 0,ae(on,wt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Me){this.isDeleted||(this._refCount++,void 0!==Me&&this._finalizationRegistry.register(Me,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){za(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Fi.create("server-app-deleted")}}const _o="10.12.2";function Ua(X,Me={}){let Oe=X;"object"!=typeof Me&&(Me={name:Me});const yt=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},Me),xn=yt.name;if("string"!=typeof xn||!xn)throw Fi.create("bad-app-name",{appName:String(xn)});if(Oe||(Oe=(0,V.aH)()),!Oe)throw Fi.create("no-options");const Tn=hi.get(xn);if(Tn){if((0,V.vZ)(Oe,Tn.options)&&(0,V.vZ)(yt,Tn.config))return Tn;throw Fi.create("duplicate-app",{appName:xn})}const Ln=new H.H0(xn);for(const qn of Qn.values())Ln.addComponent(qn);const fi=new Ni(Oe,yt,Ln);return hi.set(xn,fi),fi}function hl(X,Me){if((0,V.jU)())throw Fi.create("invalid-server-app-environment");let Oe;void 0===Me.automaticDataCollectionEnabled&&(Me.automaticDataCollectionEnabled=!1),Oe=ns(X)?X.options:X;const yt=Object.assign(Object.assign({},Me),Oe);if(void 0!==yt.releaseOnDeref&&delete yt.releaseOnDeref,void 0!==Me.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Fi.create("finalization-registry-not-supported",{});const Tn=""+(xs=JSON.stringify(yt),[...xs].reduce((lc,Li)=>Math.imul(31,lc)+Li.charCodeAt(0)|0,0)),Ln=dr.get(Tn);var xs;if(Ln)return Ln.incRefCount(Me.releaseOnDeref),Ln;const fi=new H.H0(Tn);for(const xs of Qn.values())fi.addComponent(xs);const qn=new vi(Oe,Me,Tn,fi);return dr.set(Tn,qn),qn}function fl(X=Pn){const Me=hi.get(X);if(!Me&&X===Pn&&(0,V.aH)())return Ua();if(!Me)throw Fi.create("no-app",{appName:X});return Me}function pl(){return Array.from(hi.values())}function za(X){return ge.apply(this,arguments)}function ge(){return(ge=(0,T.Z)(function*(X){let Me=!1;const Oe=X.name;hi.has(Oe)?(Me=!0,hi.delete(Oe)):dr.has(Oe)&&X.decRefCount()<=0&&(dr.delete(Oe),Me=!0),Me&&(yield Promise.all(X.container.getProviders().map(yt=>yt.delete())),X.isDeleted=!0)})).apply(this,arguments)}function ae(X,Me,Oe){var yt;let xn=null!==(yt=wn[X])&&void 0!==yt?yt:X;Oe&&(xn+=`-${Oe}`);const Tn=xn.match(/\s|\//),Ln=Me.match(/\s|\//);if(Tn||Ln){const fi=[`Unable to register library "${xn}" with version "${Me}":`];return Tn&&fi.push(`library name "${xn}" contains illegal characters (whitespace or "/")`),Tn&&Ln&&fi.push("and"),Ln&&fi.push(`version name "${Me}" contains illegal characters (whitespace or "/")`),void mt.warn(fi.join(" "))}er(new H.wA(`${xn}-version`,()=>({library:xn,version:Me}),"VERSION"))}function B(X,Me){if(null!==X&&"function"!=typeof X)throw Fi.create("invalid-log-argument");(0,E.Am)(X,Me)}function j(X){(0,E.Ub)(X)}const P="firebase-heartbeat-database",ne=1,lt="firebase-heartbeat-store";let Ft=null;function St(){return Ft||(Ft=function xt(X,Me,{blocked:Oe,upgrade:yt,blocking:xn,terminated:Tn}={}){const Ln=indexedDB.open(X,Me),fi=ot(Ln);return yt&&Ln.addEventListener("upgradeneeded",qn=>{yt(ot(Ln.result),qn.oldVersion,qn.newVersion,ot(Ln.transaction),qn)}),Oe&&Ln.addEventListener("blocked",qn=>Oe(qn.oldVersion,qn.newVersion,qn)),fi.then(qn=>{Tn&&qn.addEventListener("close",()=>Tn()),xn&&qn.addEventListener("versionchange",xs=>xn(xs.oldVersion,xs.newVersion,xs))}).catch(()=>{}),fi}(P,ne,{upgrade:(X,Me)=>{if(0===Me)try{X.createObjectStore(lt)}catch(Oe){console.warn(Oe)}}}).catch(X=>{throw Fi.create("idb-open",{originalErrorMessage:X.message})})),Ft}function Yn(){return(Yn=(0,T.Z)(function*(X){try{const Oe=(yield St()).transaction(lt),yt=yield Oe.objectStore(lt).get(Xt(X));return yield Oe.done,yt}catch(Me){if(Me instanceof V.ZR)mt.warn(Me.message);else{const Oe=Fi.create("idb-get",{originalErrorMessage:Me?.message});mt.warn(Oe.message)}}})).apply(this,arguments)}function Nt(X,Me){return si.apply(this,arguments)}function si(){return(si=(0,T.Z)(function*(X,Me){try{const yt=(yield St()).transaction(lt,"readwrite");yield yt.objectStore(lt).put(Me,Xt(X)),yield yt.done}catch(Oe){if(Oe instanceof V.ZR)mt.warn(Oe.message);else{const yt=Fi.create("idb-set",{originalErrorMessage:Oe?.message});mt.warn(yt.message)}}})).apply(this,arguments)}function Xt(X){return`${X.name}!${X.options.appId}`}class Xn{constructor(Me){this.container=Me,this._heartbeatsCache=null;const Oe=this.container.getProvider("app").getImmediate();this._storage=new cd(Oe),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Me=this;return(0,T.Z)(function*(){var Oe,yt;const Tn=Me.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=pn();if((null!=(null===(Oe=Me._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||(Me._heartbeatsCache=yield Me._heartbeatsCachePromise,null!=(null===(yt=Me._heartbeatsCache)||void 0===yt?void 0:yt.heartbeats)))&&Me._heartbeatsCache.lastSentHeartbeatDate!==Ln&&!Me._heartbeatsCache.heartbeats.some(fi=>fi.date===Ln))return Me._heartbeatsCache.heartbeats.push({date:Ln,agent:Tn}),Me._heartbeatsCache.heartbeats=Me._heartbeatsCache.heartbeats.filter(fi=>{const qn=new Date(fi.date).valueOf();return Date.now()-qn<=2592e6}),Me._storage.overwrite(Me._heartbeatsCache)})()}getHeartbeatsHeader(){var Me=this;return(0,T.Z)(function*(){var Oe;if(null===Me._heartbeatsCache&&(yield Me._heartbeatsCachePromise),null==(null===(Oe=Me._heartbeatsCache)||void 0===Oe?void 0:Oe.heartbeats)||0===Me._heartbeatsCache.heartbeats.length)return"";const yt=pn(),{heartbeatsToSend:xn,unsentEntries:Tn}=function ld(X,Me=1024){const Oe=[];let yt=X.slice();for(const xn of X){const Tn=Oe.find(Ln=>Ln.agent===xn.agent);if(Tn){if(Tn.dates.push(xn.date),ac(Oe)>Me){Tn.dates.pop();break}}else if(Oe.push({agent:xn.agent,dates:[xn.date]}),ac(Oe)>Me){Oe.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Oe,unsentEntries:yt}}(Me._heartbeatsCache.heartbeats),Ln=(0,V.L)(JSON.stringify({version:2,heartbeats:xn}));return Me._heartbeatsCache.lastSentHeartbeatDate=yt,Tn.length>0?(Me._heartbeatsCache.heartbeats=Tn,yield Me._storage.overwrite(Me._heartbeatsCache)):(Me._heartbeatsCache.heartbeats=[],Me._storage.overwrite(Me._heartbeatsCache)),Ln})()}}function pn(){return(new Date).toISOString().substring(0,10)}class cd{constructor(Me){this.app=Me,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,V.hl)()&&(0,V.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Me=this;return(0,T.Z)(function*(){if(yield Me._canUseIndexedDBPromise){const yt=yield function dn(X){return Yn.apply(this,arguments)}(Me.app);return yt?.heartbeats?yt:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Me){var Oe=this;return(0,T.Z)(function*(){var yt;if(yield Oe._canUseIndexedDBPromise){const Tn=yield Oe.read();return Nt(Oe.app,{lastSentHeartbeatDate:null!==(yt=Me.lastSentHeartbeatDate)&&void 0!==yt?yt:Tn.lastSentHeartbeatDate,heartbeats:Me.heartbeats})}})()}add(Me){var Oe=this;return(0,T.Z)(function*(){var yt;if(yield Oe._canUseIndexedDBPromise){const Tn=yield Oe.read();return Nt(Oe.app,{lastSentHeartbeatDate:null!==(yt=Me.lastSentHeartbeatDate)&&void 0!==yt?yt:Tn.lastSentHeartbeatDate,heartbeats:[...Tn.heartbeats,...Me.heartbeats]})}})()}}function ac(X){return(0,V.L)(JSON.stringify({version:2,heartbeats:X})).length}!function wf(X){er(new H.wA("platform-logger",Me=>new Ht(Me),"PRIVATE")),er(new H.wA("heartbeat",Me=>new Xn(Me),"PRIVATE")),ae(on,wt,X),ae(on,wt,"esm2017"),ae("fire-js","")}("")},820:(mo,ve,ze)=>{"use strict";ze.d(ve,{H0:()=>ce,wA:()=>E,zt:()=>K});var T=ze(861),H=ze(229);class E{constructor(M,U,N){this.name=M,this.instanceFactory=U,this.type=N,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(M){return this.instantiationMode=M,this}setMultipleInstances(M){return this.multipleInstances=M,this}setServiceProps(M){return this.serviceProps=M,this}setInstanceCreatedCallback(M){return this.onInstanceCreated=M,this}}const V="[DEFAULT]";class K{constructor(M,U){this.name=M,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(M){const U=this.normalizeInstanceIdentifier(M);if(!this.instancesDeferred.has(U)){const N=new H.BH;if(this.instancesDeferred.set(U,N),this.isInitialized(U)||this.shouldAutoInitialize())try{const q=this.getOrInitializeService({instanceIdentifier:U});q&&N.resolve(q)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(M){var U;const N=this.normalizeInstanceIdentifier(M?.identifier),q=null!==(U=M?.optional)&&void 0!==U&&U;if(!this.isInitialized(N)&&!this.shouldAutoInitialize()){if(q)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:N})}catch($){if(q)return null;throw $}}getComponent(){return this.component}setComponent(M){if(M.name!==this.name)throw Error(`Mismatching Component ${M.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=M,this.shouldAutoInitialize()){if(function _e(le){return"EAGER"===le.instantiationMode}(M))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(const[U,N]of this.instancesDeferred.entries()){const q=this.normalizeInstanceIdentifier(U);try{const $=this.getOrInitializeService({instanceIdentifier:q});N.resolve($)}catch{}}}}clearInstance(M=V){this.instancesDeferred.delete(M),this.instancesOptions.delete(M),this.instances.delete(M)}delete(){var M=this;return(0,T.Z)(function*(){const U=Array.from(M.instances.values());yield Promise.all([...U.filter(N=>"INTERNAL"in N).map(N=>N.INTERNAL.delete()),...U.filter(N=>"_delete"in N).map(N=>N._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(M=V){return this.instances.has(M)}getOptions(M=V){return this.instancesOptions.get(M)||{}}initialize(M={}){const{options:U={}}=M,N=this.normalizeInstanceIdentifier(M.instanceIdentifier);if(this.isInitialized(N))throw Error(`${this.name}(${N}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const q=this.getOrInitializeService({instanceIdentifier:N,options:U});for(const[$,oe]of this.instancesDeferred.entries())N===this.normalizeInstanceIdentifier($)&&oe.resolve(q);return q}onInit(M,U){var N;const q=this.normalizeInstanceIdentifier(U),$=null!==(N=this.onInitCallbacks.get(q))&&void 0!==N?N:new Set;$.add(M),this.onInitCallbacks.set(q,$);const oe=this.instances.get(q);return oe&&M(oe,q),()=>{$.delete(M)}}invokeOnInitCallbacks(M,U){const N=this.onInitCallbacks.get(U);if(N)for(const q of N)try{q(M,U)}catch{}}getOrInitializeService({instanceIdentifier:M,options:U={}}){let N=this.instances.get(M);if(!N&&this.component&&(N=this.component.instanceFactory(this.container,{instanceIdentifier:(le=M,le===V?void 0:le),options:U}),this.instances.set(M,N),this.instancesOptions.set(M,U),this.invokeOnInitCallbacks(N,M),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,M,N)}catch{}var le;return N||null}normalizeInstanceIdentifier(M=V){return this.component?this.component.multipleInstances?M:V:M}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(M){this.name=M,this.providers=new Map}addComponent(M){const U=this.getProvider(M.name);if(U.isComponentSet())throw new Error(`Component ${M.name} has already been registered with ${this.name}`);U.setComponent(M)}addOrOverwriteComponent(M){this.getProvider(M.name).isComponentSet()&&this.providers.delete(M.name),this.addComponent(M)}getProvider(M){if(this.providers.has(M))return this.providers.get(M);const U=new K(M,this);return this.providers.set(M,U),U}getProviders(){return Array.from(this.providers.values())}}},287:(mo,ve,ze)=>{"use strict";ze.d(ve,{Am:()=>le,Ub:()=>ce,Yd:()=>_e,in:()=>H});const T=[];var H=function(M){return M[M.DEBUG=0]="DEBUG",M[M.VERBOSE=1]="VERBOSE",M[M.INFO=2]="INFO",M[M.WARN=3]="WARN",M[M.ERROR=4]="ERROR",M[M.SILENT=5]="SILENT",M}(H||{});const E={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},V=H.INFO,K={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},fe=(M,U,...N)=>{if(U<M.logLevel)return;const q=(new Date).toISOString(),$=K[U];if(!$)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[$](`[${q}]  ${M.name}:`,...N)};class _e{constructor(U){this.name=U,this._logLevel=V,this._logHandler=fe,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in H))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?E[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...U),this._logHandler(this,H.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...U),this._logHandler(this,H.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,H.INFO,...U),this._logHandler(this,H.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,H.WARN,...U),this._logHandler(this,H.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...U),this._logHandler(this,H.ERROR,...U)}}function ce(M){T.forEach(U=>{U.setLogLevel(M)})}function le(M,U){for(const N of T){let q=null;U&&U.level&&(q=E[U.level]),N.userLogHandler=null===M?null:($,oe,...pe)=>{const xe=pe.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");oe>=(q??$.logLevel)&&M({level:H[oe].toLowerCase(),message:xe,args:pe,type:$.name})}}}},661:(mo,ve,ze)=>{"use strict";ze.r(ve);var T=ze(861),H=ze(399),E=ze(516),V=ze(229),_e=(ze(571),ze(287),ze(820));function ce(){return window}function U(){return U=(0,T.Z)(function*(B,j,P){var ne;const{BuildInfo:lt}=ce();(0,E.au)(j.sessionId,"AuthEvent did not contain a session ID");const Ft=yield function be(B){return rt.apply(this,arguments)}(j.sessionId),St={};return(0,E.av)()?St.ibi=lt.packageName:(0,E.aw)()?St.apn=lt.packageName:(0,E.ax)(B,"operation-not-supported-in-this-environment"),lt.displayName&&(St.appDisplayName=lt.displayName),St.sessionId=Ft,(0,E.ay)(B,P,j.type,void 0,null!==(ne=j.eventId)&&void 0!==ne?ne:void 0,St)}),U.apply(this,arguments)}function q(){return(q=(0,T.Z)(function*(B){const{BuildInfo:j}=ce(),P={};(0,E.av)()?P.iosBundleId=j.packageName:(0,E.aw)()?P.androidPackageName=j.packageName:(0,E.ax)(B,"operation-not-supported-in-this-environment"),yield(0,E.az)(B,P)})).apply(this,arguments)}function pe(){return(pe=(0,T.Z)(function*(B,j,P){const{cordova:ne}=ce();let lt=()=>{};try{yield new Promise((Ft,St)=>{let dn=null;function Yn(){var Xt;Ft();const zr=null===(Xt=ne.plugins.browsertab)||void 0===Xt?void 0:Xt.close;"function"==typeof zr&&zr(),"function"==typeof P?.close&&P.close()}function Nt(){dn||(dn=window.setTimeout(()=>{St((0,E.aB)(B,"redirect-cancelled-by-user"))},2e3))}function si(){"visible"===document?.visibilityState&&Nt()}j.addPassiveListener(Yn),document.addEventListener("resume",Nt,!1),(0,E.aw)()&&document.addEventListener("visibilitychange",si,!1),lt=()=>{j.removePassiveListener(Yn),document.removeEventListener("resume",Nt,!1),document.removeEventListener("visibilitychange",si,!1),dn&&window.clearTimeout(dn)}})}finally{lt()}})).apply(this,arguments)}function rt(){return(rt=(0,T.Z)(function*(B){const j=function Ke(B){if((0,E.au)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const j=new ArrayBuffer(B.length),P=new Uint8Array(j);for(let ne=0;ne<B.length;ne++)P[ne]=B.charCodeAt(ne);return P}(B),P=yield crypto.subtle.digest("SHA-256",j);return Array.from(new Uint8Array(P)).map(lt=>lt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class je extends E.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(j=>{this.resolveInialized=j})}addPassiveListener(j){this.passiveListeners.add(j)}removePassiveListener(j){this.passiveListeners.delete(j)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(j){return this.resolveInialized(),this.passiveListeners.forEach(P=>P(j)),super.onEvent(j)}initialized(){var j=this;return(0,T.Z)(function*(){yield j.initPromise})()}}function re(B){return Je.apply(this,arguments)}function Je(){return(Je=(0,T.Z)(function*(B){const j=yield Ht()._get(dt(B));return j&&(yield Ht()._remove(dt(B))),j})).apply(this,arguments)}function nt(){const B=[];for(let P=0;P<20;P++){const ne=Math.floor(62*Math.random());B.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ne))}return B.join("")}function Ht(){return(0,E.aE)(E.b)}function dt(B){return(0,E.aF)("authEvent",B.config.apiKey,B.name)}function mt(B){if(!B?.includes("?"))return{};const[j,...P]=B.split("?");return(0,V.zd)(P.join("?"))}const Ee=class Be{constructor(){this._redirectPersistence=E.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=E.aG,this._overrideRedirectResult=E.aH}_initialize(j){var P=this;return(0,T.Z)(function*(){const ne=j._key();let lt=P.eventManagers.get(ne);return lt||(lt=new je(j),P.eventManagers.set(ne,lt),P.attachCallbackListeners(j,lt)),lt})()}_openPopup(j){(0,E.ax)(j,"operation-not-supported-in-this-environment")}_openRedirect(j,P,ne,lt){var Ft=this;return(0,T.Z)(function*(){!function xe(B){var j,P,ne,lt,Ft,St,dn,Yn,Nt,si;const Xt=ce();(0,E.aC)("function"==typeof(null===(j=Xt?.universalLinks)||void 0===j?void 0:j.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,E.aC)(typeof(null===(P=Xt?.BuildInfo)||void 0===P?void 0:P.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,E.aC)("function"==typeof(null===(Ft=null===(lt=null===(ne=Xt?.cordova)||void 0===ne?void 0:ne.plugins)||void 0===lt?void 0:lt.browsertab)||void 0===Ft?void 0:Ft.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aC)("function"==typeof(null===(Yn=null===(dn=null===(St=Xt?.cordova)||void 0===St?void 0:St.plugins)||void 0===dn?void 0:dn.browsertab)||void 0===Yn?void 0:Yn.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,E.aC)("function"==typeof(null===(si=null===(Nt=Xt?.cordova)||void 0===Nt?void 0:Nt.InAppBrowser)||void 0===si?void 0:si.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(j);const St=yield Ft._initialize(j);yield St.initialized(),St.resetRedirect(),(0,E.aI)(),yield Ft._originValidation(j);const dn=function xt(B,j,P=null){return{type:j,eventId:P,urlResponse:null,sessionId:nt(),postBody:null,tenantId:B.tenantId,error:(0,E.aB)(B,"no-auth-event")}}(j,ne,lt);yield function kt(B,j){return Ht()._set(dt(B),j)}(j,dn);const Yn=yield function M(B,j,P){return U.apply(this,arguments)}(j,dn,P),Nt=yield function $(B){const{cordova:j}=ce();return new Promise(P=>{j.plugins.browsertab.isAvailable(ne=>{let lt=null;ne?j.plugins.browsertab.openUrl(B):lt=j.InAppBrowser.open(B,(0,E.aA)()?"_blank":"_system","location=yes"),P(lt)})})}(Yn);return function oe(B,j,P){return pe.apply(this,arguments)}(j,St,Nt)})()}_isIframeWebStorageSupported(j,P){throw new Error("Method not implemented.")}_originValidation(j){const P=j._key();return this.originValidationPromises[P]||(this.originValidationPromises[P]=function N(B){return q.apply(this,arguments)}(j)),this.originValidationPromises[P]}attachCallbackListeners(j,P){const{universalLinks:ne,handleOpenURL:lt,BuildInfo:Ft}=ce(),St=setTimeout((0,T.Z)(function*(){yield re(j),P.onEvent(we())}),500),dn=function(){var si=(0,T.Z)(function*(Xt){clearTimeout(St);const zr=yield re(j);let sc=null;zr&&Xt?.url&&(sc=function I(B,j){var P,ne;const lt=function wt(B){const j=mt(B),P=j.link?decodeURIComponent(j.link):void 0,ne=mt(P).link,lt=j.deep_link_id?decodeURIComponent(j.deep_link_id):void 0;return mt(lt).link||lt||ne||P||B}(j);if(lt.includes("/__/auth/callback")){const Ft=mt(lt),St=Ft.firebaseError?function on(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(Ft.firebaseError)):null,dn=null===(ne=null===(P=St?.code)||void 0===P?void 0:P.split("auth/"))||void 0===ne?void 0:ne[1],Yn=dn?(0,E.aB)(dn):null;return Yn?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Yn,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:lt,postBody:null}}return null}(zr,Xt.url)),P.onEvent(sc||we())});return function(zr){return si.apply(this,arguments)}}();typeof ne<"u"&&"function"==typeof ne.subscribe&&ne.subscribe(null,dn);const Yn=lt,Nt=`${Ft.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var si=(0,T.Z)(function*(Xt){if(Xt.toLowerCase().startsWith(Nt)&&dn({url:Xt}),"function"==typeof Yn)try{Yn(Xt)}catch(zr){console.error(zr)}});return function(Xt){return si.apply(this,arguments)}}()}};function we(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,E.aB)("no-auth-event")}}function ut(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function We(B=(0,V.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function Re(){try{const B=self.localStorage,j=E.aN();if(B)return B.setItem(j,"1"),B.removeItem(j),!function st(B=(0,V.z$)()){return function yn(){return(0,V.w1)()&&11===document?.documentMode}()||function A(B=(0,V.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,V.hl)()}catch{return ee()&&(0,V.hl)()}return!1}function ee(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Q(){return(function an(){return"http:"===ut()||"https:"===ut()}()||(0,V.ru)()||We())&&!function zt(){return(0,V.b$)()||(0,V.UG)()}()&&Re()&&!ee()}function De(){return We()&&typeof document<"u"}function ft(){return(ft=(0,T.Z)(function*(){return!!De()&&new Promise(B=>{const j=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(j),B(!0)})})})).apply(this,arguments)}const at={LOCAL:"local",NONE:"none",SESSION:"session"},Rt=E.aC,Et="persistence";function Pn(B){return wn.apply(this,arguments)}function wn(){return(wn=(0,T.Z)(function*(B){yield B._initializationPromise;const j=dr(),P=E.aF(Et,B.config.apiKey,B.name);j&&j.setItem(P,B._getPersistence())})).apply(this,arguments)}function dr(){var B;try{return(null===(B=function Ne(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Qn=E.aC;class ur{constructor(){this.browserResolver=E.aE(E.k),this.cordovaResolver=E.aE(Ee),this.underlyingResolver=null,this._redirectPersistence=E.a,this._completeRedirectFn=E.aG,this._overrideRedirectResult=E.aH}_initialize(j){var P=this;return(0,T.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._initialize(j)})()}_openPopup(j,P,ne,lt){var Ft=this;return(0,T.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openPopup(j,P,ne,lt)})()}_openRedirect(j,P,ne,lt){var Ft=this;return(0,T.Z)(function*(){return yield Ft.selectUnderlyingResolver(),Ft.assertedUnderlyingResolver._openRedirect(j,P,ne,lt)})()}_isIframeWebStorageSupported(j,P){this.assertedUnderlyingResolver._isIframeWebStorageSupported(j,P)}_originValidation(j){return this.assertedUnderlyingResolver._originValidation(j)}get _shouldInitProactively(){return De()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var j=this;return(0,T.Z)(function*(){if(j.underlyingResolver)return;const P=yield function ct(){return ft.apply(this,arguments)}();j.underlyingResolver=P?j.cordovaResolver:j.browserResolver})()}}function mn(B){return B.unwrap()}function yi(B){return ns(B)}function ns(B){const{_tokenResponse:j}=B instanceof V.ZR?B.customData:B;if(!j)return null;if(!(B instanceof V.ZR)&&"temporaryProof"in j&&"phoneNumber"in j)return E.P.credentialFromResult(B);const P=j.providerId;if(!P||P===E.p.PASSWORD)return null;let ne;switch(P){case E.p.GOOGLE:ne=E.X;break;case E.p.FACEBOOK:ne=E.W;break;case E.p.GITHUB:ne=E.Y;break;case E.p.TWITTER:ne=E.$;break;default:const{oauthIdToken:lt,oauthAccessToken:Ft,oauthTokenSecret:St,pendingToken:dn,nonce:Yn}=j;return Ft||St||lt||dn?dn?P.startsWith("saml.")?E.aQ._create(P,dn):E.N._fromParams({providerId:P,signInMethod:P,pendingToken:dn,idToken:lt,accessToken:Ft}):new E.Z(P).credential({idToken:lt,accessToken:Ft,rawNonce:Yn}):null}return B instanceof V.ZR?ne.credentialFromError(B):ne.credentialFromResult(B)}function oi(B,j){return j.catch(P=>{throw P instanceof V.ZR&&function Ur(B,j){var P;const ne=null===(P=j.customData)||void 0===P?void 0:P._tokenResponse;if("auth/multi-factor-auth-required"===j?.code)j.resolver=new Fi(B,E.as(B,j));else if(ne){const lt=ns(j),Ft=j;lt&&(Ft.credential=lt,Ft.tenantId=ne.tenantId||void 0,Ft.email=ne.email||void 0,Ft.phoneNumber=ne.phoneNumber||void 0)}}(B,P),P}).then(P=>{const lt=P.user;return{operationType:P.operationType,credential:yi(P),additionalUserInfo:E.aq(P),user:Ni.getOrCreate(lt)}})}function go(B,j){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,T.Z)(function*(B,j){const P=yield j;return{verificationId:P.verificationId,confirm:ne=>oi(B,P.confirm(ne))}})).apply(this,arguments)}class Fi{constructor(j,P){this.resolver=P,this.auth=function er(B){return B.wrapped()}(j)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(j){return oi(mn(this.auth),this.resolver.resolveSignIn(j))}}class Ni{constructor(j){this._delegate=j,this.multiFactor=E.at(j)}static getOrCreate(j){return Ni.USER_MAP.has(j)||Ni.USER_MAP.set(j,new Ni(j)),Ni.USER_MAP.get(j)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(j){return this._delegate.getIdTokenResult(j)}getIdToken(j){return this._delegate.getIdToken(j)}linkAndRetrieveDataWithCredential(j){return this.linkWithCredential(j)}linkWithCredential(j){var P=this;return(0,T.Z)(function*(){return oi(P.auth,E.a2(P._delegate,j))})()}linkWithPhoneNumber(j,P){var ne=this;return(0,T.Z)(function*(){return go(ne.auth,E.l(ne._delegate,j,P))})()}linkWithPopup(j){var P=this;return(0,T.Z)(function*(){return oi(P.auth,E.d(P._delegate,j,ur))})()}linkWithRedirect(j){var P=this;return(0,T.Z)(function*(){return yield Pn(E.aJ(P.auth)),E.g(P._delegate,j,ur)})()}reauthenticateAndRetrieveDataWithCredential(j){return this.reauthenticateWithCredential(j)}reauthenticateWithCredential(j){var P=this;return(0,T.Z)(function*(){return oi(P.auth,E.a3(P._delegate,j))})()}reauthenticateWithPhoneNumber(j,P){return go(this.auth,E.r(this._delegate,j,P))}reauthenticateWithPopup(j){return oi(this.auth,E.e(this._delegate,j,ur))}reauthenticateWithRedirect(j){var P=this;return(0,T.Z)(function*(){return yield Pn(E.aJ(P.auth)),E.h(P._delegate,j,ur)})()}sendEmailVerification(j){return E.ag(this._delegate,j)}unlink(j){var P=this;return(0,T.Z)(function*(){return yield E.ap(P._delegate,j),P})()}updateEmail(j){return E.al(this._delegate,j)}updatePassword(j){return E.am(this._delegate,j)}updatePhoneNumber(j){return E.u(this._delegate,j)}updateProfile(j){return E.ak(this._delegate,j)}verifyBeforeUpdateEmail(j,P){return E.ah(this._delegate,j,P)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ni.USER_MAP=new WeakMap;const vi=E.aC;let _o=(()=>{class B{constructor(P,ne){if(this.app=P,ne.isInitialized())return this._delegate=ne.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:lt}=P.options;vi(lt,"invalid-api-key",{appName:P.name}),vi(lt,"invalid-api-key",{appName:P.name});const Ft=typeof window<"u"?ur:void 0;this._delegate=ne.initialize({options:{persistence:hl(lt,P.name),popupRedirectResolver:Ft}}),this._delegate._updateErrorMap(E.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ni.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(P){this._delegate.languageCode=P}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(P){this._delegate.tenantId=P}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(P,ne){E.K(this._delegate,P,ne)}applyActionCode(P){return E.a7(this._delegate,P)}checkActionCode(P){return E.a8(this._delegate,P)}confirmPasswordReset(P,ne){return E.a6(this._delegate,P,ne)}createUserWithEmailAndPassword(P,ne){var lt=this;return(0,T.Z)(function*(){return oi(lt._delegate,E.aa(lt._delegate,P,ne))})()}fetchProvidersForEmail(P){return this.fetchSignInMethodsForEmail(P)}fetchSignInMethodsForEmail(P){return E.af(this._delegate,P)}isSignInWithEmailLink(P){return E.ad(this._delegate,P)}getRedirectResult(){var P=this;return(0,T.Z)(function*(){vi(Q(),P._delegate,"operation-not-supported-in-this-environment");const ne=yield E.j(P._delegate,ur);return ne?oi(P._delegate,Promise.resolve(ne)):{credential:null,user:null}})()}addFrameworkForLogging(P){!function Z(B,j){(0,E.aJ)(B)._logFramework(j)}(this._delegate,P)}onAuthStateChanged(P,ne,lt){const{next:Ft,error:St,complete:dn}=Ua(P,ne,lt);return this._delegate.onAuthStateChanged(Ft,St,dn)}onIdTokenChanged(P,ne,lt){const{next:Ft,error:St,complete:dn}=Ua(P,ne,lt);return this._delegate.onIdTokenChanged(Ft,St,dn)}sendSignInLinkToEmail(P,ne){return E.ac(this._delegate,P,ne)}sendPasswordResetEmail(P,ne){return E.a5(this._delegate,P,ne||void 0)}setPersistence(P){var ne=this;return(0,T.Z)(function*(){let lt;switch(function Qt(B,j){Rt(Object.values(at).includes(j),B,"invalid-persistence-type"),(0,V.b$)()?Rt(j!==at.SESSION,B,"unsupported-persistence-type"):(0,V.UG)()?Rt(j===at.NONE,B,"unsupported-persistence-type"):ee()?Rt(j===at.NONE||j===at.LOCAL&&(0,V.hl)(),B,"unsupported-persistence-type"):Rt(j===at.NONE||Re(),B,"unsupported-persistence-type")}(ne._delegate,P),P){case at.SESSION:lt=E.a;break;case at.LOCAL:lt=(yield E.aE(E.i)._isAvailable())?E.i:E.b;break;case at.NONE:lt=E.U;break;default:return E.ax("argument-error",{appName:ne._delegate.name})}return ne._delegate.setPersistence(lt)})()}signInAndRetrieveDataWithCredential(P){return this.signInWithCredential(P)}signInAnonymously(){return oi(this._delegate,E.a0(this._delegate))}signInWithCredential(P){return oi(this._delegate,E.a1(this._delegate,P))}signInWithCustomToken(P){return oi(this._delegate,E.a4(this._delegate,P))}signInWithEmailAndPassword(P,ne){return oi(this._delegate,E.ab(this._delegate,P,ne))}signInWithEmailLink(P,ne){return oi(this._delegate,E.ae(this._delegate,P,ne))}signInWithPhoneNumber(P,ne){return go(this._delegate,E.s(this._delegate,P,ne))}signInWithPopup(P){var ne=this;return(0,T.Z)(function*(){return vi(Q(),ne._delegate,"operation-not-supported-in-this-environment"),oi(ne._delegate,E.c(ne._delegate,P,ur))})()}signInWithRedirect(P){var ne=this;return(0,T.Z)(function*(){return vi(Q(),ne._delegate,"operation-not-supported-in-this-environment"),yield Pn(ne._delegate),E.f(ne._delegate,P,ur)})()}updateCurrentUser(P){return this._delegate.updateCurrentUser(P)}verifyPasswordResetCode(P){return E.a9(this._delegate,P)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=at,B})();function Ua(B,j,P){let ne=B;"function"!=typeof B&&({next:ne,error:j,complete:P}=B);const lt=ne;return{next:St=>lt(St&&Ni.getOrCreate(St)),error:j,complete:P}}function hl(B,j){const P=function hi(B,j){const P=dr();if(!P)return[];const ne=E.aF(Et,B,j);switch(P.getItem(ne)){case at.NONE:return[E.U];case at.LOCAL:return[E.i,E.a];case at.SESSION:return[E.a];default:return[]}}(B,j);if(typeof self<"u"&&!P.includes(E.i)&&P.push(E.i),typeof window<"u")for(const ne of[E.b,E.a])P.includes(ne)||P.push(ne);return P.includes(E.U)||P.push(E.U),P}class fl{constructor(){this.providerId="phone",this._delegate=new E.P(mn(H.Z.auth()))}static credential(j,P){return E.P.credential(j,P)}verifyPhoneNumber(j,P){return this._delegate.verifyPhoneNumber(j,P)}unwrap(){return this._delegate}}fl.PHONE_SIGN_IN_METHOD=E.P.PHONE_SIGN_IN_METHOD,fl.PROVIDER_ID=E.P.PROVIDER_ID;const pl=E.aC;class za{constructor(j,P,ne=H.Z.app()){var lt;pl(null===(lt=ne.options)||void 0===lt?void 0:lt.apiKey,"invalid-api-key",{appName:ne.name}),this._delegate=new E.R(ne.auth(),j,P),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ae(B){B.INTERNAL.registerComponent(new _e.wA("auth-compat",j=>{const P=j.getProvider("app-compat").getImmediate(),ne=j.getProvider("auth");return new _o(P,ne)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:E.A.EMAIL_SIGNIN,PASSWORD_RESET:E.A.PASSWORD_RESET,RECOVER_EMAIL:E.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:E.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:E.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:E.A.VERIFY_EMAIL}},EmailAuthProvider:E.V,FacebookAuthProvider:E.W,GithubAuthProvider:E.Y,GoogleAuthProvider:E.X,OAuthProvider:E.Z,SAMLAuthProvider:E._,PhoneAuthProvider:fl,PhoneMultiFactorGenerator:E.m,RecaptchaVerifier:za,TwitterAuthProvider:E.$,Auth:_o,AuthCredential:E.L,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.5.9")}(H.Z)},861:(mo,ve,ze)=>{"use strict";function T(E,V,K,fe,_e,ce,le){try{var M=E[ce](le),U=M.value}catch(N){return void K(N)}M.done?V(U):Promise.resolve(U).then(fe,_e)}function H(E){return function(){var V=this,K=arguments;return new Promise(function(fe,_e){var ce=E.apply(V,K);function le(U){T(ce,fe,_e,le,M,"next",U)}function M(U){T(ce,fe,_e,le,M,"throw",U)}le(void 0)})}}ze.d(ve,{Z:()=>H})},582:(mo,ve,ze)=>{"use strict";function V(Ee,we){var Z={};for(var qe in Ee)Object.prototype.hasOwnProperty.call(Ee,qe)&&we.indexOf(qe)<0&&(Z[qe]=Ee[qe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(qe=Object.getOwnPropertySymbols(Ee);tt<qe.length;tt++)we.indexOf(qe[tt])<0&&Object.prototype.propertyIsEnumerable.call(Ee,qe[tt])&&(Z[qe[tt]]=Ee[qe[tt]])}return Z}function N(Ee,we,Z,qe){return new(Z||(Z=Promise))(function(Ae,ut){function an(yn){try{zt(qe.next(yn))}catch(A){ut(A)}}function We(yn){try{zt(qe.throw(yn))}catch(A){ut(A)}}function zt(yn){yn.done?Ae(yn.value):function tt(Ae){return Ae instanceof Z?Ae:new Z(function(ut){ut(Ae)})}(yn.value).then(an,We)}zt((qe=qe.apply(Ee,we||[])).next())})}function ot(Ee){return this instanceof ot?(this.v=Ee,this):new ot(Ee)}function je(Ee,we,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,qe=Z.apply(Ee,we||[]),Ae=[];return tt={},an("next"),an("throw"),an("return",function ut(Re){return function(ee){return Promise.resolve(ee).then(Re,A)}}),tt[Symbol.asyncIterator]=function(){return this},tt;function an(Re,ee){qe[Re]&&(tt[Re]=function(Q){return new Promise(function(De,ct){Ae.push([Re,Q,De,ct])>1||We(Re,Q)})},ee&&(tt[Re]=ee(tt[Re])))}function We(Re,ee){try{!function zt(Re){Re.value instanceof ot?Promise.resolve(Re.value.v).then(yn,A):st(Ae[0][2],Re)}(qe[Re](ee))}catch(Q){st(Ae[0][3],Q)}}function yn(Re){We("next",Re)}function A(Re){We("throw",Re)}function st(Re,ee){Re(ee),Ae.shift(),Ae.length&&We(Ae[0][0],Ae[0][1])}}function kt(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,we=Ee[Symbol.asyncIterator];return we?we.call(Ee):(Ee=function pe(Ee){var we="function"==typeof Symbol&&Symbol.iterator,Z=we&&Ee[we],qe=0;if(Z)return Z.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&qe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[qe++],done:!Ee}}};throw new TypeError(we?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Z={},qe("next"),qe("throw"),qe("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function qe(Ae){Z[Ae]=Ee[Ae]&&function(ut){return new Promise(function(an,We){!function tt(Ae,ut,an,We){Promise.resolve(We).then(function(zt){Ae({value:zt,done:an})},ut)}(an,We,(ut=Ee[Ae](ut)).done,ut.value)})}}}ze.d(ve,{FC:()=>je,KL:()=>kt,_T:()=>V,mG:()=>N,qq:()=>ot}),"function"==typeof SuppressedError&&SuppressedError}},mo=>{mo(mo.s=783)}]);